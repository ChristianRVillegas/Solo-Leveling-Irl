/*! For license information please see main.c2dac477.js.LICENSE.txt */
(()=>{var e={14:e=>{e.exports=function(){return!1}},61:e=>{e.exports=function(e,t){return e<t}},143:e=>{var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},149:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},320:e=>{e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},396:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},438:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).get(e)}},539:(e,t,n)=>{var r=n(9742),i=n(7498),a=n(3279);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},579:(e,t,n)=>{"use strict";e.exports=n(1153)},620:(e,t,n)=>{var r=n(6913),i=n(4052),a=n(2761);e.exports=function(e){return"string"==typeof e||!i(e)&&a(e)&&"[object String]"==r(e)}},643:(e,t,n)=>{var r=n(7676)("toUpperCase");e.exports=r},644:e=>{e.exports=function(e){return e!==e}},705:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},715:e=>{var t="\\ud800-\\udfff",n="["+t+"]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",a="[^"+t+"]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",l="(?:"+r+"|"+i+")"+"?",c="[\\ufe0e\\ufe0f]?",u=c+l+("(?:\\u200d(?:"+[a,o,s].join("|")+")"+c+l+")*"),d="(?:"+[a+r+"?",r,o,s,n].join("|")+")",h=RegExp(i+"(?="+i+")|"+d+u,"g");e.exports=function(e){return e.match(h)||[]}},755:(e,t,n)=>{var r=n(8895),i=n(7116);e.exports=function e(t,n,a,o,s){var l=-1,c=t.length;for(a||(a=i),s||(s=[]);++l<c;){var u=t[l];n>0&&a(u)?n>1?e(u,n-1,a,o,s):r(s,u):o||(s[s.length]=u)}return s}},793:e=>{e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},801:(e,t,n)=>{var r=n(1141),i=n(6686),a=n(9841),o=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||l.test(e)?c(e.slice(2),n?2:8):o.test(e)?NaN:+e}},914:(e,t,n)=>{var r=n(9841);e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},929:(e,t,n)=>{var r=n(3211),i=n(6571),a=n(9194),o=n(6686);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},977:(e,t,n)=>{var r=n(9096),i=n(4416);e.exports=function(e,t){return e&&e.length?i(e,r(t,2)):[]}},1069:(e,t,n)=>{var r=n(8541);e.exports=function(e){return null==e?"":r(e)}},1141:(e,t,n)=>{var r=n(143),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},1143:(e,t,n)=>{var r=n(3028)(Object.keys,Object);e.exports=r},1153:(e,t,n)=>{"use strict";var r=n(5043),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:a,_owner:s.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1170:e=>{e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},1268:(e,t,n)=>{var r=n(5428),i=n(7574),a=n(6832),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},1310:e=>{e.exports=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}}},1340:(e,t,n)=>{var r=n(3211);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1497:(e,t,n)=>{"use strict";var r=n(3218);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},1558:e=>{e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},1629:(e,t,n)=>{var r=n(6913),i=n(6686);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},1714:(e,t,n)=>{var r=n(1340);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},1733:(e,t,n)=>{var r=n(1775),i=n(4664),a=n(9096);e.exports=function(e,t){var n={};return t=a(t,3),i(e,(function(e,i,a){r(n,i,t(e,i,a))})),n}},1775:(e,t,n)=>{var r=n(5654);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},1946:(e,t,n)=>{var r=n(1340);e.exports=function(e){return r(this.__data__,e)>-1}},2070:(e,t,n)=>{var r=n(7937)(n(6552),"Set");e.exports=r},2074:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},2154:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},2165:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n;return r(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}},2322:(e,t,n)=>{var r=n(6913),i=n(5990),a=n(2761),o=Function.prototype,s=Object.prototype,l=o.toString,c=s.hasOwnProperty,u=l.call(Object);e.exports=function(e){if(!a(e)||"[object Object]"!=r(e))return!1;var t=i(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},2520:(e,t,n)=>{var r=n(5816),i=n(9096),a=n(9140),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var l=null==n?0:a(n);return l<0&&(l=o(s+l,0)),r(e,i(t,3),l)}},2536:(e,t,n)=>{var r=n(149),i=n(2969),a=n(9096),o=n(8883),s=n(320),l=n(7574),c=n(5893),u=n(3279),d=n(4052);e.exports=function(e,t,n){t=t.length?r(t,(function(e){return d(e)?function(t){return i(t,1===e.length?e[0]:e)}:e})):[u];var h=-1;t=r(t,l(a));var f=o(e,(function(e,n,i){return{criteria:r(t,(function(t){return t(e)})),index:++h,value:e}}));return s(f,(function(e,t){return c(e,t,n)}))}},2541:e=>{e.exports=function(e){return function(){return e}}},2587:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},2597:(e,t,n)=>{var r=n(4052),i=n(9841),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||(o.test(e)||!a.test(e)||null!=t&&e in Object(t))}},2622:(e,t,n)=>{var r=n(705);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},2662:(e,t,n)=>{var r=n(5575);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},2730:(e,t,n)=>{"use strict";var r=n(5043),i=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var R,L=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case j:return"Portal";case E:return"Profiler";case k:return"StrictMode";case _:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ae(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Se=null,ke=null;function Ee(e){if(e=bi(e)){if("function"!==typeof je)throw Error(a(280));var t=e.stateNode;t&&(t=wi(t),je(e.stateNode,e.type,t))}}function Te(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Ce(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Oe(e,t){return e(t)}function _e(){}var Ne=!1;function Ae(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Oe(e,t,n)}finally{Ne=!1,(null!==Se||null!==ke)&&(_e(),Ce())}}function Ie(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Pe=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Pe=!1}function Me(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Re=!1,Le=null,Fe=!1,Ue=null,Be={onError:function(e){Re=!0,Le=e}};function ze(e,t,n,r,i,a,o,s,l){Re=!1,Le=null,Me.apply(Be,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(a(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Xe=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var s=o&~i;0!==s?r=dt(s):0!==(a&=o)&&(r=dt(a))}else 0!==(o=n&~i)?r=dt(o):0!==a&&(r=dt(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,St,kt,Et,Tt=!1,Ct=[],Ot=null,_t=null,Nt=null,At=new Map,It=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Rt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=vi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){Tt=!1,null!==Ot&&Ft(Ot)&&(Ot=null),null!==_t&&Ft(_t)&&(_t=null),null!==Nt&&Ft(Nt)&&(Nt=null),At.forEach(Ut),It.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Vt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&zt(Ot,e),null!==_t&&zt(_t,e),null!==Nt&&zt(Nt,e),At.forEach(t),It.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var $t=x.ReactCurrentBatchConfig,qt=!0;function Ht(e,t,n,r){var i=bt,a=$t.transition;$t.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,$t.transition=a}}function Wt(e,t,n,r){var i=bt,a=$t.transition;$t.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,$t.transition=a}}function Kt(e,t,n,r){if(qt){var i=Yt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ot=Rt(Ot,e,t,n,r,i),!0;case"dragenter":return _t=Rt(_t,e,t,n,r,i),!0;case"mouseover":return Nt=Rt(Nt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return At.set(a,Rt(At.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Rt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=bi(i);if(null!==a&&wt(a),null===(a=Yt(e,t,n,r))&&qr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Zt,r=n.length,i="value"in Xt?Xt.value:Xt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,sn,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=L({},cn,{view:0,detail:0}),hn=an(dn),fn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=an(fn),mn=an(L({},fn,{dataTransfer:0})),gn=an(L({},dn,{relatedTarget:0})),yn=an(L({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=an(vn),xn=an(L({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Tn=L({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=an(Tn),On=an(L({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=an(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),Nn=an(L({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=L({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),In=an(An),Pn=[9,13,27,32],Dn=u&&"CompositionEvent"in window,Mn=null;u&&"documentMode"in document&&(Mn=document.documentMode);var Rn=u&&"TextEvent"in window&&!Mn,Ln=u&&(!Dn||Mn&&8<Mn&&11>=Mn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function Hn(e,t,n,r){Te(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Fr(e,0)}function Yn(e){if(K(xi(e)))return e}function Qn(e,t){if("change"===e)return t}var Xn=!1;if(u){var Zn;if(u){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Zn=Jn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Yn(Kn)){var t=[];Hn(t,Kn,e,we(e)),Ae(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Kn)}function ar(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ur(n,a);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Sr={},kr={};function Er(e){if(Sr[e])return Sr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Tr=Er("animationend"),Cr=Er("animationiteration"),Or=Er("animationstart"),_r=Er("transitionend"),Nr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ir(e,t){Nr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Ar.length;Pr++){var Dr=Ar[Pr];Ir(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Ir(Tr,"onAnimationEnd"),Ir(Cr,"onAnimationIteration"),Ir(Or,"onAnimationStart"),Ir("dblclick","onDoubleClick"),Ir("focusin","onFocus"),Ir("focusout","onBlur"),Ir(_r,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,s,l,c){if(ze.apply(this,arguments),Re){if(!Re)throw Error(a(198));var u=Le;Re=!1,Le=null,Fe||(Fe=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}else for(o=0;o<r.length;o++){if(l=(s=r[o]).instance,c=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;Lr(i,s,c),a=l}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Br("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Qt(t)){case 1:var i=Ht;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=vi(s)))return;if(5===(l=o.tag)||6===l){r=a=o;continue e}s=s.parentNode}}r=r.return}Ae((function(){var r=a,i=we(n),o=[];e:{var s=Nr.get(e);if(void 0!==s){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=_n;break;case Tr:case Cr:case Or:l=yn;break;case _r:l=Nn;break;case"scroll":l=hn;break;case"wheel":l=In;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==s?s+"Capture":null:s;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Ie(p,h))&&u.push(Hr(p,m,f)))),d)break;p=p.return}0<u.length&&(s=new l(s,c,null,n,i),o.push({event:s,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[pi])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=On,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?s:xi(l),f=null==c?s:xi(c),(s=new u(m,p+"leave",l,n,i)).target=d,s.relatedTarget=f,m=null,vi(i)===r&&((u=new u(h,p+"enter",c,n,i)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=h;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)h=Kr(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=Kr(u),h=Kr(h)}u=null}else u=null;null!==l&&Gr(o,s,l,u,!1),null!==c&&null!==d&&Gr(o,d,c,u,!0)}if("select"===(l=(s=r?xi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Qn;else if(qn(s))if(Xn)g=or;else{g=ir;var y=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=ar);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?xi(r):window,e){case"focusin":(qn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":xr(o,n,i)}var v;if(Dn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Vn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Vn&&(v=en()):(Zt="value"in(Xt=i)?Xt.value:Xt.textContent,Vn=!0)),0<(y=Wr(r,b)).length&&(b=new xn(b,e,null,n,i),o.push({event:b,listeners:y}),v?b.data=v:null!==(v=zn(n))&&(b.data=v))),(v=Rn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Dn&&Bn(e,t)?(e=en(),Jt=Zt=Xt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Fr(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ie(e,n))&&r.unshift(Hr(e,a,i)),null!=(a=Ie(e,t))&&r.push(Hr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(l=Ie(n,a))&&o.unshift(Hr(n,l,s)):i||null!=(l=Ie(n,a))&&o.push(Hr(n,l,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Qr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Vt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,fi="__reactProps$"+di,pi="__reactContainer$"+di,mi="__reactEvents$"+di,gi="__reactListeners$"+di,yi="__reactHandles$"+di;function vi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function wi(e){return e[fi]||null}var ji=[],Si=-1;function ki(e){return{current:e}}function Ei(e){0>Si||(e.current=ji[Si],ji[Si]=null,Si--)}function Ti(e,t){Si++,ji[Si]=e.current,e.current=t}var Ci={},Oi=ki(Ci),_i=ki(!1),Ni=Ci;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ii(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){Ei(_i),Ei(Oi)}function Di(e,t,n){if(Oi.current!==Ci)throw Error(a(168));Ti(Oi,t),Ti(_i,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,$(e)||"Unknown",i));return L({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ni=Oi.current,Ti(Oi,e),Ti(_i,_i.current),!0}function Li(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Mi(e,t,Ni),r.__reactInternalMemoizedMergedChildContext=e,Ei(_i),Ei(Oi),Ti(Oi,e)):Ei(_i),Ti(_i,n)}var Fi=null,Ui=!1,Bi=!1;function zi(e){null===Fi?Fi=[e]:Fi.push(e)}function Vi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ke(Je,Vi),i}finally{bt=t,Bi=!1}}return null}var $i=[],qi=0,Hi=null,Wi=0,Ki=[],Gi=0,Yi=null,Qi=1,Xi="";function Zi(e,t){$i[qi++]=Wi,$i[qi++]=Hi,Hi=e,Wi=t}function Ji(e,t,n){Ki[Gi++]=Qi,Ki[Gi++]=Xi,Ki[Gi++]=Yi,Yi=e;var r=Qi;e=Xi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Qi=1<<32-ot(t)+i|n<<i|r,Xi=a+e}else Qi=1<<a|n<<i|r,Xi=e}function ea(e){null!==e.return&&(Zi(e,1),Ji(e,1,0))}function ta(e){for(;e===Hi;)Hi=$i[--qi],$i[qi]=null,Wi=$i[--qi],$i[qi]=null;for(;e===Yi;)Yi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null,Qi=Ki[--Gi],Ki[Gi]=null}var na=null,ra=null,ia=!1,aa=null;function oa(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function sa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Qi,overflow:Xi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(ia){var t=ra;if(t){var n=t;if(!sa(e,t)){if(la(e))throw Error(a(418));t=ci(n.nextSibling);var r=na;t&&sa(e,t)?oa(r,n):(e.flags=-4097&e.flags|2,ia=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,ia=!1,na=e}}}function ua(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function da(e){if(e!==na)return!1;if(!ia)return ua(e),ia=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)oa(e,t),t=ci(t.nextSibling)}if(ua(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?ci(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=ci(e.nextSibling)}function fa(){ra=na=null,ia=!1}function pa(e){null===aa?aa=[e]:aa.push(e)}var ma=x.ReactCurrentBatchConfig;function ga(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ya(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function va(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Pc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===S?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===I&&va(a)===t.type)?((r=i(t,n.props)).ref=ga(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=ga(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=ga(e,null,t),n.return=e,n;case j:return(t=Fc(t,e.mode,n)).return=e,t;case I:return h(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;ya(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case j:return n.key===i?u(e,t,n,r):null;case I:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:d(e,t,n,r,null);ya(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case I:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return d(t,e=e.get(n)||null,r,i,null);ya(t,r)}return null}function m(i,a,s,l){for(var c=null,u=null,d=a,m=a=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=f(i,d,s[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),a=o(y,a,m),null===u?c=y:u.sibling=y,u=y,d=g}if(m===s.length)return n(i,d),ia&&Zi(i,m),c;if(null===d){for(;m<s.length;m++)null!==(d=h(i,s[m],l))&&(a=o(d,a,m),null===u?c=d:u.sibling=d,u=d);return ia&&Zi(i,m),c}for(d=r(i,d);m<s.length;m++)null!==(g=p(d,i,m,s[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),a=o(g,a,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),ia&&Zi(i,m),c}function g(i,s,l,c){var u=M(l);if("function"!==typeof u)throw Error(a(150));if(null==(l=u.call(l)))throw Error(a(151));for(var d=u=null,m=s,g=s=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=f(i,m,v.value,c);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(i,m),s=o(b,s,g),null===d?u=b:d.sibling=b,d=b,m=y}if(v.done)return n(i,m),ia&&Zi(i,g),u;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=h(i,v.value,c))&&(s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return ia&&Zi(i,g),u}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,c))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),s=o(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(i,e)})),ia&&Zi(i,g),u}return function e(r,a,o,l){if("object"===typeof o&&null!==o&&o.type===S&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=a;null!==u;){if(u.key===c){if((c=o.type)===S){if(7===u.tag){n(r,u.sibling),(a=i(u,o.props.children)).return=r,r=a;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===I&&va(c)===u.type){n(r,u.sibling),(a=i(u,o.props)).ref=ga(r,u,o),a.return=r,r=a;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===S?((a=Mc(o.props.children,r.mode,l,o.key)).return=r,r=a):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=ga(r,a,o),l.return=r,r=l)}return s(r);case j:e:{for(u=o.key;null!==a;){if(a.key===u){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,l)).return=r,r=a}return s(r);case I:return e(r,a,(u=o._init)(o._payload),l)}if(te(o))return m(r,a,o,l);if(M(o))return g(r,a,o,l);ya(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Lc(o,r.mode,l)).return=r,r=a),s(r)):n(r,a)}}var xa=ba(!0),wa=ba(!1),ja=ki(null),Sa=null,ka=null,Ea=null;function Ta(){Ea=ka=Sa=null}function Ca(e){var t=ja.current;Ei(ja),e._currentValue=t}function Oa(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _a(e,t){Sa=e,Ea=ka=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bs=!0),e.firstContext=null)}function Na(e){var t=e._currentValue;if(Ea!==e)if(e={context:e,memoizedValue:t,next:null},null===ka){if(null===Sa)throw Error(a(308));ka=e,Sa.dependencies={lanes:0,firstContext:e}}else ka=ka.next=e;return t}var Aa=null;function Ia(e){null===Aa?Aa=[e]:Aa.push(e)}function Pa(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ia(t)):(n.next=i.next,i.next=n),t.interleaved=n,Da(e,r)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ma=!1;function Ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function La(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Da(e,n)}return null===(i=r.interleaved)?(t.next=t,Ia(r)):(t.next=i.next,i.next=t),r.interleaved=t,Da(e,n)}function Ba(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function za(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Va(e,t,n,r){var i=e.updateQueue;Ma=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===o?a=c:o.next=c,o=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==a){var d=i.baseState;for(o=0,u=c=l=null,s=a;;){var h=s.lane,f=s.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,m=s;switch(h=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=L({},d,h);break e;case 2:Ma=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[s]:h.push(s))}else f={eventTime:f,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(h=s).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=d}}function $a(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var qa={},Ha=ki(qa),Wa=ki(qa),Ka=ki(qa);function Ga(e){if(e===qa)throw Error(a(174));return e}function Ya(e,t){switch(Ti(Ka,t),Ti(Wa,e),Ti(Ha,qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(Ha),Ti(Ha,t)}function Qa(){Ei(Ha),Ei(Wa),Ei(Ka)}function Xa(e){Ga(Ka.current);var t=Ga(Ha.current),n=le(t,e.type);t!==n&&(Ti(Wa,e),Ti(Ha,n))}function Za(e){Wa.current===e&&(Ei(Ha),Ei(Wa))}var Ja=ki(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=x.ReactCurrentDispatcher,io=x.ReactCurrentBatchConfig,ao=0,oo=null,so=null,lo=null,co=!1,uo=!1,ho=0,fo=0;function po(){throw Error(a(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(ao=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Jo:es,e=n(r,i),uo){o=0;do{if(uo=!1,ho=0,25<=o)throw Error(a(301));o+=1,lo=so=null,t.updateQueue=null,ro.current=ts,e=n(r,i)}while(uo)}if(ro.current=Zo,t=null!==so&&null!==so.next,ao=0,lo=so=oo=null,co=!1,t)throw Error(a(300));return e}function yo(){var e=0!==ho;return ho=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function bo(){if(null===so){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function xo(e,t){return"function"===typeof t?t(e):t}function wo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=s=null,c=null,u=o;do{var d=u.lane;if((ao&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,s=r):c=c.next=h,oo.lanes|=d,Rl|=d}u=u.next}while(null!==u&&u!==o);null===c?s=r:c.next=l,sr(r,t.memoizedState)||(bs=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);sr(o,t.memoizedState)||(bs=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function ko(e,t){var n=oo,r=bo(),i=t(),o=!sr(r.memoizedState,i);if(o&&(r.memoizedState=i,bs=!0),r=r.queue,Ro(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,Ao(9,To.bind(null,n,r,i,t),void 0,null),null===_l)throw Error(a(349));0!==(30&ao)||Eo(n,t,i)}return i}function Eo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Oo(t)&&_o(e)}function Co(e,t,n){return n((function(){Oo(t)&&_o(e)}))}function Oo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function _o(e){var t=Da(e,1);null!==t&&nc(t,e,1,-1)}function No(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Go.bind(null,oo,e),[t.memoizedState,e]}function Ao(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Io(){return bo().memoizedState}function Po(e,t,n,r){var i=vo();oo.flags|=e,i.memoizedState=Ao(1|t,n,void 0,void 0===r?null:r)}function Do(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=Ao(t,n,a,r))}oo.flags|=e,i.memoizedState=Ao(1|t,n,a,r)}function Mo(e,t){return Po(8390656,8,e,t)}function Ro(e,t){return Do(2048,8,e,t)}function Lo(e,t){return Do(4,2,e,t)}function Fo(e,t){return Do(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4,4,Uo.bind(null,t,e),n)}function zo(){}function Vo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qo(e,t,n){return 0===(21&ao)?(e.baseState&&(e.baseState=!1,bs=!0),e.memoizedState=n):(sr(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Ho(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{bt=n,io.transition=r}}function Wo(){return bo().memoizedState}function Ko(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Qo(t,n);else if(null!==(n=Pa(e,t,n,r))){nc(n,e,r,ec()),Xo(n,t,r)}}function Go(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,o)){var l=t.interleaved;return null===l?(i.next=i,Ia(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Pa(e,t,i,r))&&(nc(n,e,r,i=ec()),Xo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Qo(e,t){uo=co=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Zo={readContext:Na,useCallback:po,useContext:po,useEffect:po,useImperativeHandle:po,useInsertionEffect:po,useLayoutEffect:po,useMemo:po,useReducer:po,useRef:po,useState:po,useDebugValue:po,useDeferredValue:po,useTransition:po,useMutableSource:po,useSyncExternalStore:po,useId:po,unstable_isNewReconciler:!1},Jo={readContext:Na,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Na,useEffect:Mo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Po(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Po(4194308,4,e,t)},useInsertionEffect:function(e,t){return Po(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ko.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:No,useDebugValue:zo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=No(!1),t=e[0];return e=Ho.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=vo();if(ia){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===_l)throw Error(a(349));0!==(30&ao)||Eo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Mo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ao(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=_l.identifierPrefix;if(ia){var n=Xi;t=":"+t+"R"+(n=(Qi&~(1<<32-ot(Qi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Na,useCallback:Vo,useContext:Na,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:$o,useReducer:wo,useRef:Io,useState:function(){return wo(xo)},useDebugValue:zo,useDeferredValue:function(e){return qo(bo(),so.memoizedState,e)},useTransition:function(){return[wo(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1},ts={readContext:Na,useCallback:Vo,useContext:Na,useEffect:Ro,useImperativeHandle:Bo,useInsertionEffect:Lo,useLayoutEffect:Fo,useMemo:$o,useReducer:jo,useRef:Io,useState:function(){return jo(xo)},useDebugValue:zo,useDeferredValue:function(e){var t=bo();return null===so?t.memoizedState=e:qo(t,so.memoizedState,e)},useTransition:function(){return[jo(xo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:ko,useId:Wo,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function rs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),a=Fa(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,i))&&(nc(t,e,i,r),Ba(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fa(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ua(e,i,r))&&(nc(t,e,r,n),Ba(t,e,r))}};function as(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,a))}function os(e,t,n){var r=!1,i=Ci,a=t.contextType;return"object"===typeof a&&null!==a?a=Na(a):(i=Ii(t)?Ni:Oi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Ci),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ss(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Ra(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Na(a):(a=Ii(t)?Ni:Oi.current,i.context=Ai(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(rs(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&is.enqueueReplaceState(i,i.state,null),Va(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function cs(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i,digest:null}}function us(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Hl=r),ds(0,t)},n}function ps(e,t,n){(n=Fa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ms(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var vs=x.ReactCurrentOwner,bs=!1;function xs(e,t,n,r){t.child=null===e?wa(t,null,n,r):xa(t,e.child,n,r)}function ws(e,t,n,r,i){n=n.render;var a=t.ref;return _a(t,i),r=go(e,t,n,r,a,i),n=yo(),null===e||bs?(ia&&n&&ea(t),t.flags|=1,xs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function js(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Ic(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ss(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return qs(e,t,i)}return t.flags|=1,(e=Pc(a,r)).ref=t.ref,e.return=t,t.child=e}function Ss(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bs=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,qs(e,t,i);0!==(131072&e.flags)&&(bs=!0)}}return Ts(e,t,n,r,i)}function ks(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Pl,Il),Il|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Pl,Il),Il|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ti(Pl,Il),Il|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ti(Pl,Il),Il|=r;return xs(e,t,i,n),t.child}function Es(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ts(e,t,n,r,i){var a=Ii(n)?Ni:Oi.current;return a=Ai(t,a),_a(t,i),n=go(e,t,n,r,a,i),r=yo(),null===e||bs?(ia&&r&&ea(t),t.flags|=1,xs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qs(e,t,i))}function Cs(e,t,n,r,i){if(Ii(n)){var a=!0;Ri(t)}else a=!1;if(_a(t,i),null===t.stateNode)$s(e,t),os(t,n,r),ls(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Na(c):c=Ai(t,c=Ii(n)?Ni:Oi.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ss(t,o,r,c),Ma=!1;var h=t.memoizedState;o.state=h,Va(t,r,o,i),l=t.memoizedState,s!==r||h!==l||_i.current||Ma?("function"===typeof u&&(rs(t,n,u,r),l=t.memoizedState),(s=Ma||as(t,n,s,r,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,La(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:ns(t.type,s),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Na(l):l=Ai(t,l=Ii(n)?Ni:Oi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ss(t,o,r,l),Ma=!1,h=t.memoizedState,o.state=h,Va(t,r,o,i);var p=t.memoizedState;s!==d||h!==p||_i.current||Ma?("function"===typeof f&&(rs(t,n,f,r),p=t.memoizedState),(c=Ma||as(t,n,c,r,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,a,i)}function Os(e,t,n,r,i,a){Es(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Li(t,n,!1),qs(e,t,a);r=t.stateNode,vs.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=xa(t,e.child,null,a),t.child=xa(t,null,s,a)):xs(e,t,s,a),t.memoizedState=r.state,i&&Li(t,n,!0),t.child}function _s(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Ya(e,t.containerInfo)}function Ns(e,t,n,r,i){return fa(),pa(i),t.flags|=256,xs(e,t,n,r),t.child}var As,Is,Ps,Ds,Ms={dehydrated:null,treeContext:null,retryLane:0};function Rs(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ls(e,t,n){var r,i=t.pendingProps,o=Ja.current,s=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(Ja,1&o),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,s?(i=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Rc(l,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Rs(n),t.memoizedState=Ms,e):Fs(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=us(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Rc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,s,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&xa(t,e.child,null,s),t.child.memoizedState=Rs(s),t.memoizedState=Ms,o);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Us(e,t,s,r=us(o=Error(a(419)),r,void 0))}if(l=0!==(s&e.childLanes),bs||l){if(null!==(r=_l)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Da(e,i),nc(r,e,i,-1))}return mc(),Us(e,t,s,r=us(Error(a(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Cc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ra=ci(i.nextSibling),na=t,ia=!0,aa=null,null!==e&&(Ki[Gi++]=Qi,Ki[Gi++]=Xi,Ki[Gi++]=Yi,Qi=e.id,Xi=e.overflow,Yi=t),t=Fs(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(s){s=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Pc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?s=Pc(r,s):(s=Mc(s,l,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,l=null===(l=e.child.memoizedState)?Rs(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Pc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Rc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&pa(r),xa(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Oa(e.return,t,n)}function zs(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vs(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xs(e,t,r.children,n),0!==(2&(r=Ja.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Ja,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),zs(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}zs(t,!0,n,null,a);break;case"together":zs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function $s(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Pc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Hs(e,t){if(!ia)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ks(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ii(t.type)&&Pi(),Ws(t),null;case 3:return r=t.stateNode,Qa(),Ei(_i),Ei(Oi),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(da(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(oc(aa),aa=null))),Is(e,t),Ws(t),null;case 5:Za(t);var i=Ga(Ka.current);if(n=t.type,null!==e&&null!=t.stateNode)Ps(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Ws(t),null}if(e=Ga(Ha.current),da(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var l in ve(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[fi]=r,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=Y(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=L({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ve(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(s.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Ur("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ds(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ga(Ka.current),Ga(Ha.current),da(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ei(Ja),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ia&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),fa(),t.flags|=98560,o=!1;else if(o=da(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(a(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(a(317));o[hi]=t}else fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),o=!1}else null!==aa&&(oc(aa),aa=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Ja.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return Qa(),Is(e,t),null===e&&Vr(t.stateNode.containerInfo),Ws(t),null;case 10:return Ca(t.type._context),Ws(t),null;case 19:if(Ei(Ja),null===(o=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Hs(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Hs(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Ja,1&Ja.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Vl&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Hs(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ia)return Ws(t),null}else 2*Xe()-o.renderingStartTime>Vl&&1073741824!==n&&(t.flags|=128,r=!0,Hs(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=Ja.current,Ti(Ja,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Il)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Gs(e,t){switch(ta(t),t.tag){case 1:return Ii(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qa(),Ei(_i),Ei(Oi),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(Ei(Ja),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(Ja),null;case 4:return Qa(),null;case 10:return Ca(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Is=function(){},Ps=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ga(Ha.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=L({},i,{value:void 0}),r=L({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(u in ve(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(s.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(s.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Ds=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ys=!1,Qs=!1,Xs="function"===typeof WeakSet?WeakSet:Set,Zs=null;function Js(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&el(t,n,a)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[fi],delete t[mi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var ul=null,dl=!1;function hl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||Js(n,t);case 6:var r=ul,i=dl;ul=null,hl(e,t,n),dl=i,null!==(ul=r)&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ul.removeChild(n.stateNode));break;case 18:null!==ul&&(dl?(e=ul,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Vt(e)):li(ul,n.stateNode));break;case 4:r=ul,i=dl,ul=n.stateNode.containerInfo,dl=!0,hl(e,t,n),ul=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&el(n,t,o),i=i.next}while(i!==r)}hl(e,t,n);break;case 1:if(!Qs&&(Js(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,hl(e,t,n),Qs=r):hl(e,t,n);break;default:hl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xs),t.forEach((function(t){var r=Oc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:ul=l.stateNode,dl=!1;break e;case 3:case 4:ul=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===ul)throw Error(a(160));fl(o,s,i),ul=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){kc(e,e.return,g)}try{nl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Js(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Js(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,s=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(i,o),be(l,s);var u=be(l,o);for(s=0;s<c.length;s+=2){var d=c[s],h=c[s+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":Z(i,o);break;case"textarea":ae(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(a(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Xe())),4&r&&pl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(u=Qs)||d,ml(t,e),Qs=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Zs=e,d=e.child;null!==d;){for(h=Zs=d;null!==Zs;){switch(p=(f=Zs).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Js(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:Js(f,f.return);break;case 22:if(null!==f.memoizedState){wl(h);continue}}null!==p?(p.return=f,Zs=p):wl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,s=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",s))}catch(g){kc(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),yl(e),4&r&&pl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),cl(e,sl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,sl(e),o);break;default:throw Error(a(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Zs=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zs;){var i=Zs,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ys;if(!o){var s=i.alternate,l=null!==s&&null!==s.memoizedState||Qs;s=Ys;var c=Qs;if(Ys=o,(Qs=l)&&!c)for(Zs=i;null!==Zs;)l=(o=Zs).child,22===o.tag&&null!==o.memoizedState?jl(i):null!==l?(l.return=o,Zs=l):jl(i);for(;null!==a;)Zs=a,bl(a,t,n),a=a.sibling;Zs=i,Ys=s,Qs=c}xl(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Zs=a):xl(e)}}function xl(e){for(;null!==Zs;){var t=Zs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&$a(t,o,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}$a(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Vt(h)}}}break;default:throw Error(a(163))}Qs||512&t.flags&&il(t)}catch(f){kc(t,t.return,f)}}if(t===e){Zs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zs=n;break}Zs=t.return}}function wl(e){for(;null!==Zs;){var t=Zs;if(t===e){Zs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zs=n;break}Zs=t.return}}function jl(e){for(;null!==Zs;){var t=Zs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var a=t.return;try{il(t)}catch(l){kc(t,a,l)}break;case 5:var o=t.return;try{il(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Zs=s;break}Zs=t.return}}var Sl,kl=Math.ceil,El=x.ReactCurrentDispatcher,Tl=x.ReactCurrentOwner,Cl=x.ReactCurrentBatchConfig,Ol=0,_l=null,Nl=null,Al=0,Il=0,Pl=ki(0),Dl=0,Ml=null,Rl=0,Ll=0,Fl=0,Ul=null,Bl=null,zl=0,Vl=1/0,$l=null,ql=!1,Hl=null,Wl=null,Kl=!1,Gl=null,Yl=0,Ql=0,Xl=null,Zl=-1,Jl=0;function ec(){return 0!==(6&Ol)?Xe():-1!==Zl?Zl:Zl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Al?Al&-Al:null!==ma.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Ql)throw Ql=0,Xl=null,Error(a(185));yt(e,n,r),0!==(2&Ol)&&e===_l||(e===_l&&(0===(2&Ol)&&(Ll|=n),4===Dl&&sc(e,Al)),rc(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(Vl=Xe()+500,Ui&&Vi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),s=1<<o,l=i[o];-1===l?0!==(s&n)&&0===(s&r)||(i[o]=ft(s,t)):l<=t&&(e.expiredLanes|=s),a&=~s}}(e,t);var r=ht(e,e===_l?Al:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(lc.bind(null,e)):zi(lc.bind(null,e)),oi((function(){0===(6&Ol)&&Vi()})),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=_c(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Zl=-1,Jl=0,0!==(6&Ol))throw Error(a(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=ht(e,e===_l?Al:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Ol;Ol|=2;var o=pc();for(_l===e&&Al===t||($l=null,Vl=Xe()+500,hc(e,t));;)try{vc();break}catch(l){fc(e,l)}Ta(),El.current=o,Ol=i,null!==Nl?t=0:(_l=null,Al=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ml,hc(e,0),sc(e,r),rc(e,Xe()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!sr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ac(e,o))),1===t))throw n=Ml,hc(e,0),sc(e,r),rc(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Bl,$l);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=zl+500-Xe())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Bl,$l),t);break}wc(e,Bl,$l);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ot(r);o=1<<s,(s=t[s])>i&&(i=s),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Bl,$l),r);break}wc(e,Bl,$l);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?ic.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Bl,Bl=n,null!==t&&oc(t)),e}function oc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function sc(e,t){for(t&=~Fl,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&Ol))throw Error(a(327));jc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ml,hc(e,0),sc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Bl,$l),rc(e,Xe()),null}function cc(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(Vl=Xe()+500,Ui&&Vi())}}function uc(e){null!==Gl&&0===Gl.tag&&0===(6&Ol)&&jc();var t=Ol;Ol|=1;var n=Cl.transition,r=bt;try{if(Cl.transition=null,bt=1,e)return e()}finally{bt=r,Cl.transition=n,0===(6&(Ol=t))&&Vi()}}function dc(){Il=Pl.current,Ei(Pl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Nl)for(n=Nl.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:Qa(),Ei(_i),Ei(Oi),no();break;case 5:Za(r);break;case 4:Qa();break;case 13:case 19:Ei(Ja);break;case 10:Ca(r.type._context);break;case 22:case 23:dc()}n=n.return}if(_l=e,Nl=e=Pc(e.current,null),Al=Il=t,Dl=0,Ml=null,Fl=Ll=Rl=0,Bl=Ul=null,null!==Aa){for(t=0;t<Aa.length;t++)if(null!==(r=(n=Aa[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Aa=null}return e}function fc(e,t){for(;;){var n=Nl;try{if(Ta(),ro.current=Zo,co){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}co=!1}if(ao=0,lo=so=oo=null,uo=!1,ho=0,Tl.current=null,null===n||null===n.return){Dl=1,Ml=t,Nl=null;break}e:{var o=e,s=n.return,l=n,c=t;if(t=Al,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ys(p,s,l,0,t),1&p.mode&&ms(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ms(o,u,t),mc();break e}c=Error(a(426))}else if(ia&&1&l.mode){var y=gs(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ys(y,s,l,0,t),pa(cs(c,l));break e}}o=c=cs(c,l),4!==Dl&&(Dl=2),null===Ul?Ul=[o]:Ul.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,za(o,fs(0,c,t));break e;case 1:l=c;var v=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,za(o,ps(o,l,t));break e}}o=o.return}while(null!==o)}xc(n)}catch(x){t=x,Nl===n&&null!==n&&(Nl=n=n.return);continue}break}}function pc(){var e=El.current;return El.current=Zo,null===e?Zo:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===_l||0===(268435455&Rl)&&0===(268435455&Ll)||sc(_l,Al)}function gc(e,t){var n=Ol;Ol|=2;var r=pc();for(_l===e&&Al===t||($l=null,hc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(Ta(),Ol=n,El.current=r,null!==Nl)throw Error(a(261));return _l=null,Al=0,Dl}function yc(){for(;null!==Nl;)bc(Nl)}function vc(){for(;null!==Nl&&!Ye();)bc(Nl)}function bc(e){var t=Sl(e.alternate,e,Il);e.memoizedProps=e.pendingProps,null===t?xc(e):Nl=t,Tl.current=null}function xc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ks(n,t,Il)))return void(Nl=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Nl=n);if(null===e)return Dl=6,void(Nl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Nl=t);Nl=t=e}while(null!==t);0===Dl&&(Dl=5)}function wc(e,t,n){var r=bt,i=Cl.transition;try{Cl.transition=null,bt=1,function(e,t,n,r){do{jc()}while(null!==Gl);if(0!==(6&Ol))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===_l&&(Nl=_l=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Kl||(Kl=!0,_c(tt,(function(){return jc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Cl.transition,Cl.transition=null;var s=bt;bt=1;var l=Ol;Ol|=4,Tl.current=null,function(e,t){if(ei=qt,fr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var s=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(l=s+i),h!==o||0!==r&&3!==h.nodeType||(c=s+r),3===h.nodeType&&(s+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===n&&++u===i&&(l=s),f===o&&++d===r&&(c=s),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,Zs=t;null!==Zs;)if(e=(t=Zs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zs=e;else for(;null!==Zs;){t=Zs;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(a(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Zs=e;break}Zs=t.return}m=tl,tl=!1}(e,n),gl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,vl(n,e,i),Qe(),Ol=l,bt=s,Cl.transition=o}else e.current=n;if(Kl&&(Kl=!1,Gl=e,Yl=i),o=e.pendingLanes,0===o&&(Wl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Hl,Hl=null,e;0!==(1&Yl)&&0!==e.tag&&jc(),o=e.pendingLanes,0!==(1&o)?e===Xl?Ql++:(Ql=0,Xl=e):Ql=0,Vi()}(e,t,n,r)}finally{Cl.transition=i,bt=r}return null}function jc(){if(null!==Gl){var e=xt(Yl),t=Cl.transition,n=bt;try{if(Cl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&Ol))throw Error(a(331));var i=Ol;for(Ol|=4,Zs=e.current;null!==Zs;){var o=Zs,s=o.child;if(0!==(16&Zs.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zs=u;null!==Zs;){var d=Zs;switch(d.tag){case 0:case 11:case 15:nl(8,d,o)}var h=d.child;if(null!==h)h.return=d,Zs=h;else for(;null!==Zs;){var f=(d=Zs).sibling,p=d.return;if(al(d),d===u){Zs=null;break}if(null!==f){f.return=p,Zs=f;break}Zs=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Zs=o}}if(0!==(2064&o.subtreeFlags)&&null!==s)s.return=o,Zs=s;else e:for(;null!==Zs;){if(0!==(2048&(o=Zs).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,Zs=v;break e}Zs=o.return}}var b=e.current;for(Zs=b;null!==Zs;){var x=(s=Zs).child;if(0!==(2064&s.subtreeFlags)&&null!==x)x.return=s,Zs=x;else e:for(s=b;null!==Zs;){if(0!==(2048&(l=Zs).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(j){kc(l,l.return,j)}if(l===s){Zs=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Zs=w;break e}Zs=l.return}}if(Ol=i,Vi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(j){}r=!0}return r}finally{bt=n,Cl.transition=t}}return!1}function Sc(e,t,n){e=Ua(e,t=fs(0,t=cs(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=Ua(t,e=ps(t,e=cs(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_l===e&&(Al&n)===n&&(4===Dl||3===Dl&&(130023424&Al)===Al&&500>Xe()-zl?hc(e,0):Fl|=n),rc(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Da(e,t))&&(yt(e,t,n),rc(e,n))}function Cc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Oc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Tc(e,n)}function _c(e,t){return Ke(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Ic(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var s=2;if(r=e,"function"===typeof e)Ic(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Mc(n.children,i,o,t);case k:s=8,i|=8;break;case E:return(e=Ac(12,n,t,2|i)).elementType=E,e.lanes=o,e;case _:return(e=Ac(13,n,t,i)).elementType=_,e.lanes=o,e;case N:return(e=Ac(19,n,t,i)).elementType=N,e.lanes=o,e;case P:return Rc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case C:s=9;break e;case O:s=11;break e;case A:s=14;break e;case I:s=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Rc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,a,o,s,l){return e=new Uc(e,t,n,s,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ra(a),e}function zc(e){if(!e)return Ci;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ii(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ii(n))return Mi(e,n,t)}return t}function Vc(e,t,n,r,i,a,o,s,l){return(e=Bc(n,r,!0,e,0,a,0,s,l)).context=zc(null),n=e.current,(a=Fa(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function $c(e,t,n,r){var i=t.current,a=ec(),o=tc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fa(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(i,t,o))&&(nc(e,i,o,a),Ba(e,i,o)),o}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){Hc(e,t),(e=e.alternate)&&Hc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)bs=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bs=!1,function(e,t,n){switch(t.tag){case 3:_s(t),fa();break;case 5:Xa(t);break;case 1:Ii(t.type)&&Ri(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ja,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Ja,1&Ja.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ls(e,t,n):(Ti(Ja,1&Ja.current),null!==(e=qs(e,t,n))?e.sibling:null);Ti(Ja,1&Ja.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Ja,Ja.current),r)break;return null;case 22:case 23:return t.lanes=0,ks(e,t,n)}return qs(e,t,n)}(e,t,n);bs=0!==(131072&e.flags)}else bs=!1,ia&&0!==(1048576&t.flags)&&Ji(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;$s(e,t),e=t.pendingProps;var i=Ai(t,Oi.current);_a(t,n),i=go(null,t,r,e,i,n);var o=yo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ii(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ra(t),i.updater=is,t.stateNode=i,i._reactInternals=t,ls(t,r,e,n),t=Os(null,t,r,!0,o,n)):(t.tag=0,ia&&o&&ea(t),xs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch($s(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ic(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===A)return 14}return 2}(r),e=ns(r,e),i){case 0:t=Ts(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=ws(null,t,r,e,n);break e;case 14:t=js(null,t,r,ns(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ts(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 3:e:{if(_s(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,La(e,t),Va(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ns(e,t,r,n,i=cs(Error(a(423)),t));break e}if(r!==i){t=Ns(e,t,r,n,i=cs(Error(a(424)),t));break e}for(ra=ci(t.stateNode.containerInfo.firstChild),na=t,ia=!0,aa=null,n=wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fa(),r===i){t=qs(e,t,n);break e}xs(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ca(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==o&&ni(r,o)&&(t.flags|=32),Es(e,t),xs(e,t,s,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Ls(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=xa(t,null,r,n):xs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ws(e,t,r,i=t.elementType===r?i:ns(r,i),n);case 7:return xs(e,t,t.pendingProps,n),t.child;case 8:case 12:return xs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ti(ja,r._currentValue),r._currentValue=s,null!==o)if(sr(o.value,s)){if(o.children===i.children&&!_i.current){t=qs(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){s=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Fa(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Oa(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)s=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(s=o.return))throw Error(a(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Oa(s,n,t),s=o.sibling}else s=o.child;if(null!==s)s.return=o;else for(s=o;null!==s;){if(s===t){s=null;break}if(null!==(o=s.sibling)){o.return=s.return,s=o;break}s=s.return}o=s}xs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_a(t,n),r=r(i=Na(i)),t.flags|=1,xs(e,t,r,n),t.child;case 14:return i=ns(r=t.type,t.pendingProps),js(e,t,r,i=ns(r.type,i),n);case 15:return Ss(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ns(r,i),$s(e,t),t.tag=1,Ii(r)?(e=!0,Ri(t)):e=!1,_a(t,n),os(t,r,i),ls(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Vs(e,t,n);case 22:return ks(e,t,n)}throw Error(a(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function Jc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var s=i;i=function(){var e=qc(o);s.call(e)}}$c(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=qc(o);a.call(e)}}var o=Vc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,Vr(8===e.nodeType?e.parentNode:e),uc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=qc(l);s.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,Vr(8===e.nodeType?e.parentNode:e),uc((function(){$c(t,l,n,r)})),l}(n,t,e,i,r);return qc(o)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));$c(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc((function(){$c(null,e,null,null)})),t[pi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Xe()),0===(6&Ol)&&(Vl=Xe()+500,Vi()))}break;case 13:uc((function(){var t=Da(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=Da(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Da(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return bt},Et=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(a(90));K(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=cc,_e=uc;var eu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Te,Ce,cc]},tu={findFiberByHostInstance:vi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{it=ru.inject(nu),at=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(a(299));var n=!1,r="",i=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return Jc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",s=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,i,0,o,s),e[pi]=t.current,Vr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return Jc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(uc((function(){Jc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Jc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2761:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},2777:(e,t,n)=>{var r=n(5193),i=n(2761),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},2794:(e,t,n)=>{var r=n(9742),i=n(7498),a=n(9096);e.exports=function(e,t){return e&&e.length?r(e,a(t,2),i):void 0}},2866:(e,t,n)=>{var r=n(2969);e.exports=function(e){return function(t){return r(t,e)}}},2929:(e,t,n)=>{var r=n(6552).Uint8Array;e.exports=r},2969:(e,t,n)=>{var r=n(5324),i=n(914);e.exports=function(e,t){for(var n=0,a=(t=r(t,e)).length;null!=e&&n<a;)e=e[i(t[n++])];return n&&n==a?e:void 0}},3028:e=>{e.exports=function(e,t){return function(n){return e(t(n))}}},3097:(e,t,n)=>{var r=n(2969);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},3204:(e,t,n)=>{var r=n(3343),i=n(2777),a=n(4052),o=n(4543),s=n(9194),l=n(1268),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&i(e),d=!n&&!u&&o(e),h=!n&&!u&&!d&&l(e),f=n||u||d||h,p=f?r(e.length,String):[],m=p.length;for(var g in e)!t&&!c.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||p.push(g);return p}},3211:e=>{e.exports=function(e,t){return e===t||e!==e&&t!==t}},3218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3279:e=>{e.exports=function(e){return e}},3331:(e,t,n)=>{var r=n(9676),i=n(929),a=n(7303);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&i(t,n,o)&&(n=o=void 0),t=a(t),void 0===n?(n=t,t=0):n=a(n),o=void 0===o?t<n?1:-1:a(o),r(t,n,o,e)}}},3343:e=>{e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},3366:(e,t,n)=>{var r=n(7894),i=n(9057);e.exports=function(e,t){return null!=e&&i(e,t,r)}},3411:(e,t,n)=>{var r=n(149),i=n(9096),a=n(8883),o=n(4052);e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},3440:(e,t,n)=>{var r=n(6552)["__core-js_shared__"];e.exports=r},3538:(e,t,n)=>{var r=n(755),i=n(3411);e.exports=function(e,t){return r(i(e,t),1)}},3668:(e,t,n)=>{var r=n(8902),i=n(2587),a=n(8114);e.exports=function(e,t,n,o,s,l){var c=1&n,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var h=l.get(e),f=l.get(t);if(h&&f)return h==t&&f==e;var p=-1,m=!0,g=2&n?new r:void 0;for(l.set(e,t),l.set(t,e);++p<u;){var y=e[p],v=t[p];if(o)var b=c?o(v,y,p,t,e,l):o(y,v,p,e,t,l);if(void 0!==b){if(b)continue;m=!1;break}if(g){if(!i(t,(function(e,t){if(!a(g,t)&&(y===e||s(y,e,n,o,l)))return g.push(t)}))){m=!1;break}}else if(y!==v&&!s(y,v,n,o,l)){m=!1;break}}return l.delete(e),l.delete(t),m}},3713:(e,t,n)=>{var r=n(6140),i=n(1143),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))a.call(e,n)&&"constructor"!=n&&t.push(n);return t}},3781:(e,t,n)=>{var r=n(9417),i=n(8673);e.exports=function(e){for(var t=i(e),n=t.length;n--;){var a=t[n],o=e[a];t[n]=[a,o,r(o)]}return t}},3871:e=>{e.exports=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var a=Array(i);++r<i;)a[r]=e[r+t];return a}},3892:e=>{e.exports=function(e){return this.__data__.has(e)}},3932:(e,t,n)=>{var r=n(396),i=n(2866),a=n(2597),o=n(914);e.exports=function(e){return a(e)?r(o(e)):i(e)}},3950:(e,t,n)=>{var r=n(6686),i=n(4757),a=n(801),o=Math.max,s=Math.min;e.exports=function(e,t,n){var l,c,u,d,h,f,p=0,m=!1,g=!1,y=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function v(t){var n=l,r=c;return l=c=void 0,p=t,d=e.apply(r,n)}function b(e){var n=e-f;return void 0===f||n>=t||n<0||g&&e-p>=u}function x(){var e=i();if(b(e))return w(e);h=setTimeout(x,function(e){var n=t-(e-f);return g?s(n,u-(e-p)):n}(e))}function w(e){return h=void 0,y&&l?v(e):(l=c=void 0,d)}function j(){var e=i(),n=b(e);if(l=arguments,c=this,f=e,n){if(void 0===h)return function(e){return p=e,h=setTimeout(x,t),m?v(e):d}(f);if(g)return clearTimeout(h),h=setTimeout(x,t),v(f)}return void 0===h&&(h=setTimeout(x,t)),d}return t=a(t)||0,r(n)&&(m=!!n.leading,u=(g="maxWait"in n)?o(a(n.maxWait)||0,t):u,y="trailing"in n?!!n.trailing:y),j.cancel=function(){void 0!==h&&clearTimeout(h),p=0,l=f=c=h=void 0},j.flush=function(){return void 0===h?d:w(i())},j}},4020:e=>{e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},4052:e=>{var t=Array.isArray;e.exports=t},4065:e=>{e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},4079:(e,t,n)=>{var r=n(8259),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,o=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(a,"$1"):n||e)})),t}));e.exports=o},4160:e=>{e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},4190:(e,t,n)=>{var r=n(1340);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var x=b.prototype=new v;x.constructor=b,m(x,y.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,i)&&!k.hasOwnProperty(i)&&(a[i]=t[i]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];a.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===a[i]&&(a[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:s,props:a,_owner:S.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===a?"."+O(l,0):a,w(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),_(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(l=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var u=a+O(s=e[c],c);l+=_(s,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(s=e.next()).done;)l+=_(s=s.value,t,i,u=a+O(s,c++),o);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function N(e,t,n){if(null==e)return e;var r=[],i=0;return _(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var I={current:null},P={transition:null},D={ReactCurrentDispatcher:I,ReactCurrentBatchConfig:P,ReactCurrentOwner:S};function M(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=M,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),a=e.key,o=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,s=S.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=M,t.useCallback=function(e,t){return I.current.useCallback(e,t)},t.useContext=function(e){return I.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return I.current.useDeferredValue(e)},t.useEffect=function(e,t){return I.current.useEffect(e,t)},t.useId=function(){return I.current.useId()},t.useImperativeHandle=function(e,t,n){return I.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return I.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return I.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return I.current.useMemo(e,t)},t.useReducer=function(e,t,n){return I.current.useReducer(e,t,n)},t.useRef=function(e){return I.current.useRef(e)},t.useState=function(e){return I.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return I.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return I.current.useTransition()},t.version="18.3.1"},4258:(e,t,n)=>{var r=n(5906)();e.exports=r},4262:(e,t,n)=>{var r=n(8895),i=n(4052);e.exports=function(e,t,n){var a=t(e);return i(e)?a:r(a,n(e))}},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4416:(e,t,n)=>{var r=n(8902),i=n(5866),a=n(1558),o=n(8114),s=n(8182),l=n(2074);e.exports=function(e,t,n){var c=-1,u=i,d=e.length,h=!0,f=[],p=f;if(n)h=!1,u=a;else if(d>=200){var m=t?null:s(e);if(m)return l(m);h=!1,u=o,p=new r}else p=t?[]:f;e:for(;++c<d;){var g=e[c],y=t?t(g):g;if(g=n||0!==g?g:0,h&&y===y){for(var v=p.length;v--;)if(p[v]===y)continue e;t&&p.push(y),f.push(g)}else u(p,y,n)||(p!==f&&p.push(y),f.push(g))}return f}},4543:(e,t,n)=>{e=n.nmd(e);var r=n(6552),i=n(14),a=t&&!t.nodeType&&t,o=a&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l},4545:(e,t,n)=>{var r=n(7160);e.exports=function(){this.__data__=new r,this.size=0}},4552:(e,t,n)=>{var r=n(9812),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(l){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},4597:(e,t,n)=>{var r=n(2587),i=n(9096),a=n(2165),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:a;return n&&s(e,t,n)&&(t=void 0),l(e,i(t,3))}},4657:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},4664:(e,t,n)=>{var r=n(4258),i=n(8673);e.exports=function(e,t){return e&&r(e,t,i)}},4746:(e,t,n)=>{var r=n(5652);e.exports=function(e,t){var n=!0;return r(e,(function(e,r,i){return n=!!t(e,r,i)})),n}},4757:(e,t,n)=>{var r=n(6552);e.exports=function(){return r.Date.now()}},4816:(e,t,n)=>{var r=n(7251),i=n(7159),a=n(438),o=n(9394),s=n(6874);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},5029:(e,t,n)=>{var r=n(6989),i=n(3097),a=n(3366),o=n(2597),s=n(9417),l=n(1310),c=n(914);e.exports=function(e,t){return o(e)&&s(t)?l(c(e),t):function(n){var o=i(n,e);return void 0===o&&o===t?a(n,e):r(t,o,3)}}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5051:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},5173:(e,t,n)=>{e.exports=n(1497)()},5193:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},5204:(e,t,n)=>{var r=n(7937)(n(6552),"Map");e.exports=r},5268:(e,t,n)=>{var r=n(9160);e.exports=function(e){return r(e)&&e!=+e}},5295:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}},5324:(e,t,n)=>{var r=n(4052),i=n(2597),a=n(4079),o=n(1069);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:a(o(e))}},5387:(e,t,n)=>{var r=n(7937)(n(6552),"Promise");e.exports=r},5428:(e,t,n)=>{var r=n(6913),i=n(6173),a=n(2761),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},5538:(e,t,n)=>{var r=n(7160),i=n(4545),a=n(793),o=n(7760),s=n(3892),l=n(6788);function c(e){var t=this.__data__=new r(e);this.size=t.size}c.prototype.clear=i,c.prototype.delete=a,c.prototype.get=o,c.prototype.has=s,c.prototype.set=l,e.exports=c},5575:(e,t,n)=>{var r=n(7937)(Object,"create");e.exports=r},5636:(e,t,n)=>{var r=n(1170),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),r(e,this,c)}}},5647:(e,t,n)=>{var r=n(3279),i=n(5636),a=n(6350);e.exports=function(e,t){return a(i(e,t,r),e+"")}},5652:(e,t,n)=>{var r=n(4664),i=n(6516)(r);e.exports=i},5654:(e,t,n)=>{var r=n(7937),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(t){}}();e.exports=i},5713:e=>{e.exports=function(){}},5752:(e,t,n)=>{var r=n(9395),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,a,o,s){var l=1&n,c=r(e),u=c.length;if(u!=r(t).length&&!l)return!1;for(var d=u;d--;){var h=c[d];if(!(l?h in t:i.call(t,h)))return!1}var f=s.get(e),p=s.get(t);if(f&&p)return f==t&&p==e;var m=!0;s.set(e,t),s.set(t,e);for(var g=l;++d<u;){var y=e[h=c[d]],v=t[h];if(a)var b=l?a(v,y,h,t,e,s):a(y,v,h,e,t,s);if(!(void 0===b?y===v||o(y,v,n,a,s):b)){m=!1;break}g||(g="constructor"==h)}if(m&&!g){var x=e.constructor,w=t.constructor;x==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof x&&x instanceof x&&"function"==typeof w&&w instanceof w||(m=!1)}return s.delete(e),s.delete(t),m}},5797:(e,t,n)=>{var r=n(4816);function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},5816:e=>{e.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},5855:(e,t,n)=>{e.exports=n(6483)},5866:(e,t,n)=>{var r=n(8468);e.exports=function(e,t){return!!(null==e?0:e.length)&&r(e,t,0)>-1}},5893:(e,t,n)=>{var r=n(6599);e.exports=function(e,t,n){for(var i=-1,a=e.criteria,o=t.criteria,s=a.length,l=n.length;++i<s;){var c=r(a[i],o[i]);if(c)return i>=l?c:c*("desc"==n[i]?-1:1)}return e.index-t.index}},5906:e=>{e.exports=function(e){return function(t,n,r){for(var i=-1,a=Object(t),o=r(t),s=o.length;s--;){var l=o[e?s:++i];if(!1===n(a[l],l,a))break}return t}}},5967:e=>{e.exports=function(e){return e.split("")}},5990:(e,t,n)=>{var r=n(3028)(Object.getPrototypeOf,Object);e.exports=r},6095:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},6140:e=>{var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},6173:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},6179:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},6311:e=>{var t=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return t.test(e)}},6350:(e,t,n)=>{var r=n(8325),i=n(6578)(r);e.exports=i},6361:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return!0===e||!1===e||i(e)&&"[object Boolean]"==r(e)}},6378:(e,t)=>{"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case a:case s:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference"),t.isFragment=function(e){return y(e)===a}},6399:(e,t,n)=>{var r=n(5538),i=n(3668),a=n(9987),o=n(5752),s=n(6924),l=n(4052),c=n(4543),u=n(1268),d="[object Arguments]",h="[object Array]",f="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,m,g,y){var v=l(e),b=l(t),x=v?h:s(e),w=b?h:s(t),j=(x=x==d?f:x)==f,S=(w=w==d?f:w)==f,k=x==w;if(k&&c(e)){if(!c(t))return!1;v=!0,j=!1}if(k&&!j)return y||(y=new r),v||u(e)?i(e,t,n,m,g,y):a(e,t,x,n,m,g,y);if(!(1&n)){var E=j&&p.call(e,"__wrapped__"),T=S&&p.call(t,"__wrapped__");if(E||T){var C=E?e.value():e,O=T?t.value():t;return y||(y=new r),g(C,O,n,m,y)}}return!!k&&(y||(y=new r),o(e,t,n,m,g,y))}},6483:e=>{e.exports=function(e){return e&&e.length?e[0]:void 0}},6516:(e,t,n)=>{var r=n(6571);e.exports=function(e,t){return function(n,i){if(null==n)return n;if(!r(n))return e(n,i);for(var a=n.length,o=t?a:-1,s=Object(n);(t?o--:++o<a)&&!1!==i(s[o],o,s););return n}}},6532:(e,t,n)=>{var r=n(5538),i=n(6989);e.exports=function(e,t,n,a){var o=n.length,s=o,l=!a;if(null==e)return!s;for(e=Object(e);o--;){var c=n[o];if(l&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++o<s;){var u=(c=n[o])[0],d=e[u],h=c[1];if(l&&c[2]){if(void 0===d&&!(u in e))return!1}else{var f=new r;if(a)var p=a(d,h,u,e,t,f);if(!(void 0===p?i(h,d,3,a,f):p))return!1}}return!0}},6552:(e,t,n)=>{var r=n(7105),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},6571:(e,t,n)=>{var r=n(1629),i=n(6173);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},6578:e=>{var t=Date.now;e.exports=function(e){var n=0,r=0;return function(){var i=t(),a=16-(i-r);if(r=i,a>0){if(++n>=800)return arguments[0]}else n=0;return e.apply(void 0,arguments)}}},6599:(e,t,n)=>{var r=n(9841);e.exports=function(e,t){if(e!==t){var n=void 0!==e,i=null===e,a=e===e,o=r(e),s=void 0!==t,l=null===t,c=t===t,u=r(t);if(!l&&!u&&!o&&e>t||o&&s&&c&&!l&&!u||i&&s&&c||!n&&c||!a)return 1;if(!i&&!o&&!u&&e<t||u&&n&&a&&!i&&!o||l&&n&&a||!s&&a||!c)return-1}return 0}},6600:(e,t,n)=>{var r=n(7937)(n(6552),"WeakMap");e.exports=r},6604:(e,t,n)=>{var r=n(3331)();e.exports=r},6686:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},6704:e=>{e.exports=function(e){return this.__data__.has(e)}},6745:(e,t,n)=>{var r=n(9742),i=n(61),a=n(3279);e.exports=function(e){return e&&e.length?r(e,a,i):void 0}},6788:(e,t,n)=>{var r=n(7160),i=n(5204),a=n(4816);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var o=n.__data__;if(!i||o.length<199)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(o)}return n.set(e,t),this.size=n.size,this}},6832:(e,t,n)=>{e=n.nmd(e);var r=n(7105),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(t){}}();e.exports=s},6874:(e,t,n)=>{var r=n(2622);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},6913:(e,t,n)=>{var r=n(9812),i=n(4552),a=n(6095),o=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":o&&o in Object(e)?i(e):a(e)}},6924:(e,t,n)=>{var r=n(7685),i=n(5204),a=n(5387),o=n(2070),s=n(6600),l=n(6913),c=n(6996),u="[object Map]",d="[object Promise]",h="[object Set]",f="[object WeakMap]",p="[object DataView]",m=c(r),g=c(i),y=c(a),v=c(o),b=c(s),x=l;(r&&x(new r(new ArrayBuffer(1)))!=p||i&&x(new i)!=u||a&&x(a.resolve())!=d||o&&x(new o)!=h||s&&x(new s)!=f)&&(x=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case m:return p;case g:return u;case y:return d;case v:return h;case b:return f}return t}),e.exports=x},6954:(e,t,n)=>{var r=n(1629),i=n(7857),a=n(6686),o=n(6996),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?h:s).test(o(e))}},6989:(e,t,n)=>{var r=n(6399),i=n(2761);e.exports=function e(t,n,a,o,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,a,o,e,s))}},6996:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},7002:(e,t,n)=>{var r=n(5295),i=n(4746),a=n(9096),o=n(4052),s=n(929);e.exports=function(e,t,n){var l=o(e)?r:i;return n&&s(e,t,n)&&(t=void 0),l(e,a(t,3))}},7105:(e,t,n)=>{var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},7116:(e,t,n)=>{var r=n(9812),i=n(2777),a=n(4052),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},7159:(e,t,n)=>{var r=n(2622);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},7160:(e,t,n)=>{var r=n(7563),i=n(9935),a=n(4190),o=n(1946),s=n(1714);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>a(l,n))c<i&&0>a(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>a(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,P(j);else{var t=r(u);null!==t&&D(w,t.startTime-e)}}function j(e,n){m=!1,g&&(g=!1,v(T),T=-1),p=!0;var a=f;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!_());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var s=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?h.callback=s:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&D(w,d.startTime-n),l=!1}return l}finally{h=null,f=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,T=-1,C=5,O=-1;function _(){return!(t.unstable_now()-O<C)}function N(){if(null!==E){var e=t.unstable_now();O=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof b)S=function(){b(N)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,I=A.port2;A.port1.onmessage=N,S=function(){I.postMessage(null)}}else S=function(){y(N,0)};function P(e){E=e,k||(k=!0,S())}function D(e,n){T=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,n(u,e),null===r(c)&&e===r(u)&&(g?(v(T),T=-1):g=!0,D(w,a-o))):(e.sortIndex=s,n(c,e),m||p||(m=!0,P(j))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},7251:(e,t,n)=>{var r=n(8724),i=n(7160),a=n(5204);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},7283:e=>{"use strict";var t=Object.prototype.hasOwnProperty,n="~";function r(){}function i(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function a(e,t,r,a,o){if("function"!==typeof r)throw new TypeError("The listener must be a function");var s=new i(r,a||e,o),l=n?n+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],s]:e._events[l].push(s):(e._events[l]=s,e._eventsCount++),e}function o(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(n=!1)),s.prototype.eventNames=function(){var e,r,i=[];if(0===this._eventsCount)return i;for(r in e=this._events)t.call(e,r)&&i.push(n?r.slice(1):r);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},s.prototype.listeners=function(e){var t=n?n+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,a=r.length,o=new Array(a);i<a;i++)o[i]=r[i].fn;return o},s.prototype.listenerCount=function(e){var t=n?n+e:e,r=this._events[t];return r?r.fn?1:r.length:0},s.prototype.emit=function(e,t,r,i,a,o){var s=n?n+e:e;if(!this._events[s])return!1;var l,c,u=this._events[s],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,r),!0;case 4:return u.fn.call(u.context,t,r,i),!0;case 5:return u.fn.call(u.context,t,r,i,a),!0;case 6:return u.fn.call(u.context,t,r,i,a,o),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,f=u.length;for(c=0;c<f;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,r);break;case 4:u[c].fn.call(u[c].context,t,r,i);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},s.prototype.on=function(e,t,n){return a(this,e,t,n,!1)},s.prototype.once=function(e,t,n){return a(this,e,t,n,!0)},s.prototype.removeListener=function(e,t,r,i){var a=n?n+e:e;if(!this._events[a])return this;if(!t)return o(this,a),this;var s=this._events[a];if(s.fn)s.fn!==t||i&&!s.once||r&&s.context!==r||o(this,a);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||i&&!s[l].once||r&&s[l].context!==r)&&c.push(s[l]);c.length?this._events[a]=1===c.length?c[0]:c:o(this,a)}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=n?n+e:e,this._events[t]&&o(this,t)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,e.exports=s},7303:(e,t,n)=>{var r=n(801),i=1/0;e.exports=function(e){return e?(e=r(e))===i||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}},7424:(e,t,n)=>{var r=n(755),i=n(2536),a=n(5647),o=n(929),s=a((function(e,t){if(null==e)return[];var n=t.length;return n>1&&o(e,t[0],t[1])?t=[]:n>2&&o(t[0],t[1],t[2])&&(t=[t[0]]),i(e,r(t,1),[])}));e.exports=s},7498:e=>{e.exports=function(e,t){return e>t}},7529:e=>{e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},7563:e=>{e.exports=function(){this.__data__=[],this.size=0}},7574:e=>{e.exports=function(e){return function(t){return e(t)}}},7615:(e,t,n)=>{var r=n(5575);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},7676:(e,t,n)=>{var r=n(8189),i=n(6311),a=n(9115),o=n(1069);e.exports=function(e){return function(t){t=o(t);var n=i(t)?a(t):void 0,s=n?n[0]:t.charAt(0),l=n?r(n,1).join(""):t.slice(1);return s[e]()+l}}},7685:(e,t,n)=>{var r=n(7937)(n(6552),"DataView");e.exports=r},7760:e=>{e.exports=function(e){return this.__data__.get(e)}},7828:e=>{e.exports=function(){return[]}},7857:(e,t,n)=>{var r=n(3440),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},7894:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},7937:(e,t,n)=>{var r=n(6954),i=n(4657);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},8114:e=>{e.exports=function(e,t){return e.has(t)}},8182:(e,t,n)=>{var r=n(2070),i=n(5713),a=n(2074),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},8189:(e,t,n)=>{var r=n(3871);e.exports=function(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:r(e,t,n)}},8210:function(e,t,n){var r;!function(){"use strict";var i,a=1e9,o={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},s=!0,l="[DecimalError] ",c=l+"Invalid argument: ",u=l+"Exponent out of range: ",d=Math.floor,h=Math.pow,f=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,p=1e7,m=9007199254740991,g=d(1286742750677284.5),y={};function v(e,t){var n,r,i,a,o,l,c,u,d=e.constructor,h=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),s?O(t,h):t;if(c=e.d,u=t.d,o=e.e,i=t.e,c=c.slice(),a=o-i){for(a<0?(r=c,a=-a,l=u.length):(r=u,i=o,l=c.length),a>(l=(o=Math.ceil(h/7))>l?o+1:l+1)&&(a=l,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for((l=c.length)-(a=u.length)<0&&(a=l,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/p|0,c[a]%=p;for(n&&(c.unshift(n),++i),l=c.length;0==c[--l];)c.pop();return t.d=c,t.e=i,s?O(t,h):t}function b(e,t,n){if(e!==~~e||e<t||e>n)throw Error(c+e)}function x(e){var t,n,r,i=e.length-1,a="",o=e[0];if(i>0){for(a+=o,t=1;t<i;t++)(n=7-(r=e[t]+"").length)&&(a+=E(n)),a+=r;(n=7-(r=(o=e[t])+"").length)&&(a+=E(n))}else if(0===o)return"0";for(;o%10===0;)o/=10;return a+o}y.absoluteValue=y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e},y.comparedTo=y.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(t=0,n=(r=a.d.length)<(i=e.d.length)?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1},y.decimalPlaces=y.dp=function(){var e=this,t=e.d.length-1,n=7*(t-e.e);if(t=e.d[t])for(;t%10==0;t/=10)n--;return n<0?0:n},y.dividedBy=y.div=function(e){return w(this,new this.constructor(e))},y.dividedToIntegerBy=y.idiv=function(e){var t=this.constructor;return O(w(this,new t(e),0,1),t.precision)},y.equals=y.eq=function(e){return!this.cmp(e)},y.exponent=function(){return S(this)},y.greaterThan=y.gt=function(e){return this.cmp(e)>0},y.greaterThanOrEqualTo=y.gte=function(e){return this.cmp(e)>=0},y.isInteger=y.isint=function(){return this.e>this.d.length-2},y.isNegative=y.isneg=function(){return this.s<0},y.isPositive=y.ispos=function(){return this.s>0},y.isZero=function(){return 0===this.s},y.lessThan=y.lt=function(e){return this.cmp(e)<0},y.lessThanOrEqualTo=y.lte=function(e){return this.cmp(e)<1},y.logarithm=y.log=function(e){var t,n=this,r=n.constructor,a=r.precision,o=a+5;if(void 0===e)e=new r(10);else if((e=new r(e)).s<1||e.eq(i))throw Error(l+"NaN");if(n.s<1)throw Error(l+(n.s?"NaN":"-Infinity"));return n.eq(i)?new r(0):(s=!1,t=w(T(n,o),T(e,o),o),s=!0,O(t,a))},y.minus=y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?_(t,e):v(t,(e.s=-e.s,e))},y.modulo=y.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(!(e=new r(e)).s)throw Error(l+"NaN");return n.s?(s=!1,t=w(n,e,0,1).times(e),s=!0,n.minus(t)):O(new r(n),i)},y.naturalExponential=y.exp=function(){return j(this)},y.naturalLogarithm=y.ln=function(){return T(this)},y.negated=y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e},y.plus=y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?v(t,e):_(t,(e.s=-e.s,e))},y.precision=y.sd=function(e){var t,n,r,i=this;if(void 0!==e&&e!==!!e&&1!==e&&0!==e)throw Error(c+e);if(t=S(i)+1,n=7*(r=i.d.length-1)+1,r=i.d[r]){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n},y.squareRoot=y.sqrt=function(){var e,t,n,r,i,a,o,c=this,u=c.constructor;if(c.s<1){if(!c.s)return new u(0);throw Error(l+"NaN")}for(e=S(c),s=!1,0==(i=Math.sqrt(+c))||i==1/0?(((t=x(c.d)).length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=d((e+1)/2)-(e<0||e%2),r=new u(t=i==1/0?"5e"+e:(t=i.toExponential()).slice(0,t.indexOf("e")+1)+e)):r=new u(i.toString()),i=o=(n=u.precision)+3;;)if(r=(a=r).plus(w(c,a,o+2)).times(.5),x(a.d).slice(0,o)===(t=x(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&"4999"==t){if(O(a,n+1,0),a.times(a).eq(c)){r=a;break}}else if("9999"!=t)break;o+=4}return s=!0,O(r,n)},y.times=y.mul=function(e){var t,n,r,i,a,o,l,c,u,d=this,h=d.constructor,f=d.d,m=(e=new h(e)).d;if(!d.s||!e.s)return new h(0);for(e.s*=d.s,n=d.e+e.e,(c=f.length)<(u=m.length)&&(a=f,f=m,m=a,o=c,c=u,u=o),a=[],r=o=c+u;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)l=a[i]+m[r]*f[i-r-1]+t,a[i--]=l%p|0,t=l/p|0;a[i]=(a[i]+t)%p|0}for(;!a[--o];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,s?O(e,h.precision):e},y.toDecimalPlaces=y.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),void 0===e?n:(b(e,0,a),void 0===t?t=r.rounding:b(t,0,8),O(n,e+S(n)+1,t))},y.toExponential=function(e,t){var n,r=this,i=r.constructor;return void 0===e?n=N(r,!0):(b(e,0,a),void 0===t?t=i.rounding:b(t,0,8),n=N(r=O(new i(r),e+1,t),!0,e+1)),n},y.toFixed=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?N(i):(b(e,0,a),void 0===t?t=o.rounding:b(t,0,8),n=N((r=O(new o(i),e+S(i)+1,t)).abs(),!1,e+S(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)},y.toInteger=y.toint=function(){var e=this,t=e.constructor;return O(new t(e),S(e)+1,t.rounding)},y.toNumber=function(){return+this},y.toPower=y.pow=function(e){var t,n,r,a,o,c,u=this,h=u.constructor,f=+(e=new h(e));if(!e.s)return new h(i);if(!(u=new h(u)).s){if(e.s<1)throw Error(l+"Infinity");return u}if(u.eq(i))return u;if(r=h.precision,e.eq(i))return O(u,r);if(c=(t=e.e)>=(n=e.d.length-1),o=u.s,c){if((n=f<0?-f:f)<=m){for(a=new h(i),t=Math.ceil(r/7+4),s=!1;n%2&&A((a=a.times(u)).d,t),0!==(n=d(n/2));)A((u=u.times(u)).d,t);return s=!0,e.s<0?new h(i).div(a):O(a,r)}}else if(o<0)throw Error(l+"NaN");return o=o<0&&1&e.d[Math.max(t,n)]?-1:1,u.s=1,s=!1,a=e.times(T(u,r+12)),s=!0,(a=j(a)).s=o,a},y.toPrecision=function(e,t){var n,r,i=this,o=i.constructor;return void 0===e?r=N(i,(n=S(i))<=o.toExpNeg||n>=o.toExpPos):(b(e,1,a),void 0===t?t=o.rounding:b(t,0,8),r=N(i=O(new o(i),e,t),e<=(n=S(i))||n<=o.toExpNeg,e)),r},y.toSignificantDigits=y.tosd=function(e,t){var n=this.constructor;return void 0===e?(e=n.precision,t=n.rounding):(b(e,1,a),void 0===t?t=n.rounding:b(t,0,8)),O(new n(this),e,t)},y.toString=y.valueOf=y.val=y.toJSON=function(){var e=this,t=S(e),n=e.constructor;return N(e,t<=n.toExpNeg||t>=n.toExpPos)};var w=function(){function e(e,t){var n,r=0,i=e.length;for(e=e.slice();i--;)n=e[i]*t+r,e[i]=n%p|0,r=n/p|0;return r&&e.unshift(r),e}function t(e,t,n,r){var i,a;if(n!=r)a=n>r?1:-1;else for(i=a=0;i<n;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function n(e,t,n){for(var r=0;n--;)e[n]-=r,r=e[n]<t[n]?1:0,e[n]=r*p+e[n]-t[n];for(;!e[0]&&e.length>1;)e.shift()}return function(r,i,a,o){var s,c,u,d,h,f,m,g,y,v,b,x,w,j,k,E,T,C,_=r.constructor,N=r.s==i.s?1:-1,A=r.d,I=i.d;if(!r.s)return new _(r);if(!i.s)throw Error(l+"Division by zero");for(c=r.e-i.e,T=I.length,k=A.length,g=(m=new _(N)).d=[],u=0;I[u]==(A[u]||0);)++u;if(I[u]>(A[u]||0)&&--c,(x=null==a?a=_.precision:o?a+(S(r)-S(i))+1:a)<0)return new _(0);if(x=x/7+2|0,u=0,1==T)for(d=0,I=I[0],x++;(u<k||d)&&x--;u++)w=d*p+(A[u]||0),g[u]=w/I|0,d=w%I|0;else{for((d=p/(I[0]+1)|0)>1&&(I=e(I,d),A=e(A,d),T=I.length,k=A.length),j=T,v=(y=A.slice(0,T)).length;v<T;)y[v++]=0;(C=I.slice()).unshift(0),E=I[0],I[1]>=p/2&&++E;do{d=0,(s=t(I,y,T,v))<0?(b=y[0],T!=v&&(b=b*p+(y[1]||0)),(d=b/E|0)>1?(d>=p&&(d=p-1),1==(s=t(h=e(I,d),y,f=h.length,v=y.length))&&(d--,n(h,T<f?C:I,f))):(0==d&&(s=d=1),h=I.slice()),(f=h.length)<v&&h.unshift(0),n(y,h,v),-1==s&&(s=t(I,y,T,v=y.length))<1&&(d++,n(y,T<v?C:I,v)),v=y.length):0===s&&(d++,y=[0]),g[u++]=d,s&&y[0]?y[v++]=A[j]||0:(y=[A[j]],v=1)}while((j++<k||void 0!==y[0])&&x--)}return g[0]||g.shift(),m.e=c,O(m,o?a+S(m)+1:a)}}();function j(e,t){var n,r,a,o,l,c=0,d=0,f=e.constructor,p=f.precision;if(S(e)>16)throw Error(u+S(e));if(!e.s)return new f(i);for(null==t?(s=!1,l=p):l=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),d+=5;for(l+=Math.log(h(2,d))/Math.LN10*2+5|0,n=r=a=new f(i),f.precision=l;;){if(r=O(r.times(e),l),n=n.times(++c),x((o=a.plus(w(r,n,l))).d).slice(0,l)===x(a.d).slice(0,l)){for(;d--;)a=O(a.times(a),l);return f.precision=p,null==t?(s=!0,O(a,p)):a}a=o}}function S(e){for(var t=7*e.e,n=e.d[0];n>=10;n/=10)t++;return t}function k(e,t,n){if(t>e.LN10.sd())throw s=!0,n&&(e.precision=n),Error(l+"LN10 precision limit exceeded");return O(new e(e.LN10),t)}function E(e){for(var t="";e--;)t+="0";return t}function T(e,t){var n,r,a,o,c,u,d,h,f,p=1,m=e,g=m.d,y=m.constructor,v=y.precision;if(m.s<1)throw Error(l+(m.s?"NaN":"-Infinity"));if(m.eq(i))return new y(0);if(null==t?(s=!1,h=v):h=t,m.eq(10))return null==t&&(s=!0),k(y,h);if(h+=10,y.precision=h,r=(n=x(g)).charAt(0),o=S(m),!(Math.abs(o)<15e14))return d=k(y,h+2,v).times(o+""),m=T(new y(r+"."+n.slice(1)),h-10).plus(d),y.precision=v,null==t?(s=!0,O(m,v)):m;for(;r<7&&1!=r||1==r&&n.charAt(1)>3;)r=(n=x((m=m.times(e)).d)).charAt(0),p++;for(o=S(m),r>1?(m=new y("0."+n),o++):m=new y(r+"."+n.slice(1)),u=c=m=w(m.minus(i),m.plus(i),h),f=O(m.times(m),h),a=3;;){if(c=O(c.times(f),h),x((d=u.plus(w(c,new y(a),h))).d).slice(0,h)===x(u.d).slice(0,h))return u=u.times(2),0!==o&&(u=u.plus(k(y,h+2,v).times(o+""))),u=w(u,new y(p),h),y.precision=v,null==t?(s=!0,O(u,v)):u;u=d,a+=2}}function C(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;48===t.charCodeAt(r);)++r;for(i=t.length;48===t.charCodeAt(i-1);)--i;if(t=t.slice(r,i)){if(i-=r,n=n-r-1,e.e=d(n/7),e.d=[],r=(n+1)%7,n<0&&(r+=7),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=7;r<i;)e.d.push(+t.slice(r,r+=7));r=7-(t=t.slice(r)).length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),s&&(e.e>g||e.e<-g))throw Error(u+n)}else e.s=0,e.e=0,e.d=[0];return e}function O(e,t,n){var r,i,a,o,l,c,f,m,y=e.d;for(o=1,a=y[0];a>=10;a/=10)o++;if((r=t-o)<0)r+=7,i=t,f=y[m=0];else{if((m=Math.ceil((r+1)/7))>=(a=y.length))return e;for(f=a=y[m],o=1;a>=10;a/=10)o++;i=(r%=7)-7+o}if(void 0!==n&&(l=f/(a=h(10,o-i-1))%10|0,c=t<0||void 0!==y[m+1]||f%a,c=n<4?(l||c)&&(0==n||n==(e.s<0?3:2)):l>5||5==l&&(4==n||c||6==n&&(r>0?i>0?f/h(10,o-i):0:y[m-1])%10&1||n==(e.s<0?8:7))),t<1||!y[0])return c?(a=S(e),y.length=1,t=t-a-1,y[0]=h(10,(7-t%7)%7),e.e=d(-t/7)||0):(y.length=1,y[0]=e.e=e.s=0),e;if(0==r?(y.length=m,a=1,m--):(y.length=m+1,a=h(10,7-r),y[m]=i>0?(f/h(10,o-i)%h(10,i)|0)*a:0),c)for(;;){if(0==m){(y[0]+=a)==p&&(y[0]=1,++e.e);break}if(y[m]+=a,y[m]!=p)break;y[m--]=0,a=1}for(r=y.length;0===y[--r];)y.pop();if(s&&(e.e>g||e.e<-g))throw Error(u+S(e));return e}function _(e,t){var n,r,i,a,o,l,c,u,d,h,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new f(e),s?O(t,m):t;if(c=e.d,h=t.d,r=t.e,u=e.e,c=c.slice(),o=u-r){for((d=o<0)?(n=c,o=-o,l=h.length):(n=h,r=u,l=c.length),o>(i=Math.max(Math.ceil(m/7),l)+2)&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for((d=(i=c.length)<(l=h.length))&&(l=i),i=0;i<l;i++)if(c[i]!=h[i]){d=c[i]<h[i];break}o=0}for(d&&(n=c,c=h,h=n,t.s=-t.s),l=c.length,i=h.length-l;i>0;--i)c[l++]=0;for(i=h.length;i>o;){if(c[--i]<h[i]){for(a=i;a&&0===c[--a];)c[a]=p-1;--c[a],c[i]+=p}c[i]-=h[i]}for(;0===c[--l];)c.pop();for(;0===c[0];c.shift())--r;return c[0]?(t.d=c,t.e=r,s?O(t,m):t):new f(0)}function N(e,t,n){var r,i=S(e),a=x(e.d),o=a.length;return t?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+E(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+E(-i-1)+a,n&&(r=n-o)>0&&(a+=E(r))):i>=o?(a+=E(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+E(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=E(r))),e.s<0?"-"+a:a}function A(e,t){if(e.length>t)return e.length=t,!0}function I(e){if(!e||"object"!==typeof e)throw Error(l+"Object expected");var t,n,r,i=["precision",1,a,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if(void 0!==(r=e[n=i[t]])){if(!(d(r)===r&&r>=i[t+1]&&r<=i[t+2]))throw Error(c+n+": "+r);this[n]=r}if(void 0!==(r=e[n="LN10"])){if(r!=Math.LN10)throw Error(c+n+": "+r);this[n]=new this(r)}return this}o=function e(t){var n,r,i;function a(e){var t=this;if(!(t instanceof a))return new a(e);if(t.constructor=a,e instanceof a)return t.s=e.s,t.e=e.e,void(t.d=(e=e.d)?e.slice():e);if("number"===typeof e){if(0*e!==0)throw Error(c+e);if(e>0)t.s=1;else{if(!(e<0))return t.s=0,t.e=0,void(t.d=[0]);e=-e,t.s=-1}return e===~~e&&e<1e7?(t.e=0,void(t.d=[e])):C(t,e.toString())}if("string"!==typeof e)throw Error(c+e);if(45===e.charCodeAt(0)?(e=e.slice(1),t.s=-1):t.s=1,!f.test(e))throw Error(c+e);C(t,e)}if(a.prototype=y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=e,a.config=a.set=I,void 0===t&&(t={}),t)for(i=["precision","rounding","toExpNeg","toExpPos","LN10"],n=0;n<i.length;)t.hasOwnProperty(r=i[n++])||(t[r]=this[r]);return a.config(t),a}(o),o.default=o.Decimal=o,i=new o(1),void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},8259:(e,t,n)=>{var r=n(5797);e.exports=function(e){var t=r(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}},8325:(e,t,n)=>{var r=n(2541),i=n(5654),a=n(3279),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},8468:(e,t,n)=>{var r=n(5816),i=n(644),a=n(4020);e.exports=function(e,t,n){return t===t?a(e,t,n):r(e,i,n)}},8541:(e,t,n)=>{var r=n(9812),i=n(149),a=n(4052),o=n(9841),s=r?r.prototype:void 0,l=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(a(t))return i(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n}},8673:(e,t,n)=>{var r=n(3204),i=n(3713),a=n(6571);e.exports=function(e){return a(e)?r(e):i(e)}},8724:(e,t,n)=>{var r=n(7615),i=n(5051),a=n(2154),o=n(8734),s=n(2662);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},8734:(e,t,n)=>{var r=n(5575),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8883:(e,t,n)=>{var r=n(5652),i=n(6571);e.exports=function(e,t){var n=-1,a=i(e)?Array(e.length):[];return r(e,(function(e,r,i){a[++n]=t(e,r,i)})),a}},8895:e=>{e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},8902:(e,t,n)=>{var r=n(4816),i=n(6179),a=n(6704);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},8990:(e,t,n)=>{var r=n(9995)(n(2520));e.exports=r},9057:(e,t,n)=>{var r=n(5324),i=n(2777),a=n(4052),o=n(9194),s=n(6173),l=n(914);e.exports=function(e,t,n){for(var c=-1,u=(t=r(t,e)).length,d=!1;++c<u;){var h=l(t[c]);if(!(d=null!=e&&n(e,h)))break;e=e[h]}return d||++c!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(h,u)&&(a(e)||i(e))}},9062:(e,t,n)=>{"use strict";e.exports=n(6378)},9096:(e,t,n)=>{var r=n(9256),i=n(5029),a=n(3279),o=n(4052),s=n(3932);e.exports=function(e){return"function"==typeof e?e:null==e?a:"object"==typeof e?o(e)?i(e[0],e[1]):r(e):s(e)}},9115:(e,t,n)=>{var r=n(5967),i=n(6311),a=n(715);e.exports=function(e){return i(e)?a(e):r(e)}},9140:(e,t,n)=>{var r=n(7303);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}},9160:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"number"==typeof e||i(e)&&"[object Number]"==r(e)}},9194:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},9256:(e,t,n)=>{var r=n(6532),i=n(3781),a=n(1310);e.exports=function(e){var t=i(e);return 1==t.length&&t[0][2]?a(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},9364:(e,t,n)=>{var r=n(9742),i=n(9096),a=n(61);e.exports=function(e,t){return e&&e.length?r(e,i(t,2),a):void 0}},9394:(e,t,n)=>{var r=n(2622);e.exports=function(e){return r(this,e).has(e)}},9395:(e,t,n)=>{var r=n(4262),i=n(9621),a=n(8673);e.exports=function(e){return r(e,a,i)}},9417:(e,t,n)=>{var r=n(6686);e.exports=function(e){return e===e&&!r(e)}},9621:(e,t,n)=>{var r=n(7529),i=n(7828),a=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),(function(t){return a.call(e,t)})))}:i;e.exports=s},9676:e=>{var t=Math.ceil,n=Math.max;e.exports=function(e,r,i,a){for(var o=-1,s=n(t((r-e)/(i||1)),0),l=Array(s);s--;)l[a?s:++o]=e,e+=i;return l}},9686:e=>{e.exports=function(e){return null==e}},9742:(e,t,n)=>{var r=n(9841);e.exports=function(e,t,n){for(var i=-1,a=e.length;++i<a;){var o=e[i],s=t(o);if(null!=s&&(void 0===l?s===s&&!r(s):n(s,l)))var l=s,c=o}return c}},9812:(e,t,n)=>{var r=n(6552).Symbol;e.exports=r},9841:(e,t,n)=>{var r=n(6913),i=n(2761);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9853:(e,t,n)=>{var r=n(6989);e.exports=function(e,t){return r(e,t)}},9889:(e,t,n)=>{var r=n(3950),i=n(6686);e.exports=function(e,t,n){var a=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(n)&&(a="leading"in n?!!n.leading:a,o="trailing"in n?!!n.trailing:o),r(e,t,{leading:a,maxWait:t,trailing:o})}},9935:(e,t,n)=>{var r=n(1340),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},9987:(e,t,n)=>{var r=n(9812),i=n(2929),a=n(3211),o=n(3668),s=n(4160),l=n(2074),c=r?r.prototype:void 0,u=c?c.valueOf:void 0;e.exports=function(e,t,n,r,c,d,h){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!d(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return a(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var f=s;case"[object Set]":var p=1&r;if(f||(f=l),e.size!=t.size&&!p)return!1;var m=h.get(e);if(m)return m==t;r|=2,h.set(e,t);var g=o(f(e),f(t),r,c,d,h);return h.delete(e),g;case"[object Symbol]":if(u)return u.call(e)==u.call(t)}return!1}},9995:(e,t,n)=>{var r=n(9096),i=n(6571),a=n(8673);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!i(t)){var l=r(n,3);t=a(t),n=function(e){return l(s[e],e,s)}}var c=e(t,n,o);return c>-1?s[l?t[c]:c]:void 0}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(a,o),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{"use strict";var e={};n.r(e),n.d(e,{scaleBand:()=>BE,scaleDiverging:()=>yA,scaleDivergingLog:()=>vA,scaleDivergingPow:()=>xA,scaleDivergingSqrt:()=>wA,scaleDivergingSymlog:()=>bA,scaleIdentity:()=>dO,scaleImplicit:()=>FE,scaleLinear:()=>uO,scaleLog:()=>xO,scaleOrdinal:()=>UE,scalePoint:()=>VE,scalePow:()=>_O,scaleQuantile:()=>zO,scaleQuantize:()=>VO,scaleRadial:()=>IO,scaleSequential:()=>uA,scaleSequentialLog:()=>dA,scaleSequentialPow:()=>fA,scaleSequentialQuantile:()=>mA,scaleSequentialSqrt:()=>pA,scaleSequentialSymlog:()=>hA,scaleSqrt:()=>NO,scaleSymlog:()=>kO,scaleThreshold:()=>$O,scaleTime:()=>oA,scaleUtc:()=>sA,tickFormat:()=>lO});var t,r=n(5043),i=n.t(r,2),a=n(4391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const s="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:a=document.defaultView,v5Compat:c=!1}=i,f=a.history,p=t.Pop,m=null,g=y();function y(){return(f.state||{idx:null}).idx}function v(){p=t.Pop;let e=y(),n=null==e?null:e-g;g=e,m&&m({action:p,location:x.location,delta:n})}function b(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(o({},f.state,{idx:g}),""));let x={get action(){return p},get location(){return e(a,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(s,v),m=e,()=>{a.removeEventListener(s,v),m=null}},createHref:e=>n(a,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=d(x.location,e,n);r&&r(i,e),g=y()+1;let o=u(i,g),s=x.createHref(i);try{f.pushState(o,"",s)}catch(l){if(l instanceof DOMException&&"DataCloneError"===l.name)throw l;a.location.assign(s)}c&&m&&m({action:p,location:x.location,delta:1})},replace:function(e,n){p=t.Replace;let i=d(x.location,e,n);r&&r(i,e),g=y();let a=u(i,g),o=x.createHref(i);f.replaceState(a,"",o),c&&m&&m({action:p,location:x.location,delta:0})},go:e=>f.go(e)};return x}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=A(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let a=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(a);let o=null;for(let s=0;null==o&&s<a.length;++s){let e=N(i);o=O(a[s],e,r)}return o}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,a)=>{let o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let s=R([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),v(e.children,t,c,s)),(null!=e.path||e.index)&&t.push({path:s,score:C(s,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return i?[a,""]:[a];let o=b(r.join("/")),s=[];return s.push(...o.map((e=>""===e?a:[a,e].join("/")))),i&&s.push(...o),s.map((t=>e.startsWith("/")&&""===t?"/":t))}const x=/^:[\w-]+$/,w=3,j=2,S=1,k=10,E=-2,T=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(T)&&(r+=E),t&&(r+=j),n.filter((e=>!T(e))).reduce(((e,t)=>e+(x.test(t)?w:""===t?S:k)),r)}function O(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},a="/",o=[];for(let s=0;s<r.length;++s){let e=r[s],l=s===r.length-1,c="/"===a?t:t.slice(a.length)||"/",u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=_({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:R([a,u.pathname]),pathnameBase:L(R([a,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(a=R([a,u.pathnameBase]))}return o}function _(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),s=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=s[n]||"";o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=s[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:a,pathnameBase:o,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function A(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function I(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function D(e,t){let n=P(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=o({},e),l(!i.pathname||!i.pathname.includes("?"),I("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),I("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),I("#","search","hash",i)));let a,s=""===e||""===i.pathname,c=s?"/":i.pathname;if(null==c)a=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}a=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:F(r),hash:U(i)}}(i,a),d=c&&"/"!==c&&c.endsWith("/"),h=(s||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const R=e=>e.join("/").replace(/\/\/+/g,"/"),L=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function B(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const z=["post","put","patch","delete"],V=(new Set(z),["get",...z]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(this,arguments)}const q=r.createContext(null);const H=r.createContext(null);const W=r.createContext(null);const K=r.createContext(null);const G=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Y=r.createContext(null);function Q(){return null!=r.useContext(K)}function X(){return Q()||l(!1),r.useContext(K).location}function Z(e){r.useContext(W).static||r.useLayoutEffect(e)}function J(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=ce(se.UseNavigateStable),t=de(le.UseNavigateStable),n=r.useRef(!1);return Z((()=>{n.current=!0})),r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,$({fromRouteId:t},i)))}),[e,t])}():function(){Q()||l(!1);let e=r.useContext(q),{basename:t,future:n,navigator:i}=r.useContext(W),{matches:a}=r.useContext(G),{pathname:o}=X(),s=JSON.stringify(D(a,n.v7_relativeSplatPath)),c=r.useRef(!1);Z((()=>{c.current=!0}));let u=r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let a=M(n,JSON.parse(s),o,"path"===r.relative);null==e&&"/"!==t&&(a.pathname="/"===a.pathname?t:R([t,a.pathname])),(r.replace?i.replace:i.push)(a,r.state,r)}),[t,i,s,o,e]);return u}()}function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(W),{matches:a}=r.useContext(G),{pathname:o}=X(),s=JSON.stringify(D(a,i.v7_relativeSplatPath));return r.useMemo((()=>M(e,JSON.parse(s),o,"path"===n)),[e,s,o,n])}function te(e,n,i,a){Q()||l(!1);let{navigator:o,static:s}=r.useContext(W),{matches:c}=r.useContext(G),u=c[c.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let p,m=X();if(n){var y;let e="string"===typeof n?f(n):n;"/"===h||(null==(y=e.pathname)?void 0:y.startsWith(h))||l(!1),p=e}else p=m;let v=p.pathname||"/",b=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!s&&i&&i.matches&&i.matches.length>0?i.matches:g(e,{pathname:b});let w=oe(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:R([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:R([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),c,i,a);return n&&w?r.createElement(K.Provider,{value:{location:$({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:t.Pop}},w):w}function ne(){let e=function(){var e;let t=r.useContext(Y),n=ue(le.UseRouteError),i=de(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=B(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:a},n):null,null)}const re=r.createElement(ne,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(Y.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:i}=e,a=r.useContext(q);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:t},i)}function oe(e,t,n,i){var a;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(o=i)&&o.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let s=e,c=null==(a=n)?void 0:a.errors;if(null!=c){let e=s.findIndex((e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id])));e>=0||l(!1),s=s.slice(0,Math.min(s.length,e+1))}let u=!1,d=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<s.length;r++){let e=s[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,s=d>=0?s.slice(0,d+1):[s[0]];break}}}return s.reduceRight(((e,i,a)=>{let o,l=!1,h=null,f=null;var p;n&&(o=c&&i.route.id?c[i.route.id]:void 0,h=i.route.errorElement||re,u&&(d<0&&0===a?(p="route-fallback",!1||he[p]||(he[p]=!0),l=!0,f=null):d===a&&(l=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(s.slice(0,a+1)),g=()=>{let t;return t=o?h:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(ae,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===a)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=r.useContext(q);return t||l(!1),t}function ue(e){let t=r.useContext(H);return t||l(!1),t}function de(e){let t=function(){let e=r.useContext(G);return e||l(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const he={};function fe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}i.startTransition;function pe(e){let{to:t,replace:n,state:i,relative:a}=e;Q()||l(!1);let{future:o,static:s}=r.useContext(W),{matches:c}=r.useContext(G),{pathname:u}=X(),d=J(),h=M(t,D(c,o.v7_relativeSplatPath),u,"path"===a),f=JSON.stringify(h);return r.useEffect((()=>d(JSON.parse(f),{replace:n,state:i,relative:a})),[d,f,a,n,i]),null}function me(e){l(!1)}function ge(e){let{basename:n="/",children:i=null,location:a,navigationType:o=t.Pop,navigator:s,static:c=!1,future:u}=e;Q()&&l(!1);let d=n.replace(/^\/*/,"/"),h=r.useMemo((()=>({basename:d,navigator:s,static:c,future:$({v7_relativeSplatPath:!1},u)})),[d,u,s,c]);"string"===typeof a&&(a=f(a));let{pathname:p="/",search:m="",hash:g="",state:y=null,key:v="default"}=a,b=r.useMemo((()=>{let e=A(p,d);return null==e?null:{location:{pathname:e,search:m,hash:g,state:y,key:v},navigationType:o}}),[d,p,m,g,y,v,o]);return null==b?null:r.createElement(W.Provider,{value:h},r.createElement(K.Provider,{children:i,value:b}))}function ye(e){let{children:t,location:n}=e;return te(ve(t),n)}new Promise((()=>{}));r.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let a=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ve(e.props.children,a));e.type!==me&&l(!1),e.props.index&&e.props.children&&l(!1);let o={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ve(e.props.children,a)),n.push(o)})),n}var be=n(7950),xe=n.t(be,2);function we(){return we=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function je(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch($$){}new Map;const ke=i.startTransition;xe.flushSync,i.useId;function Ee(e){let{basename:t,children:n,future:i,window:a}=e,o=r.useRef();var s;null==o.current&&(o.current=(void 0===(s={window:a,v5Compat:!0})&&(s={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return d("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,s)));let l=o.current,[c,u]=r.useState({action:l.action,location:l.location}),{v7_startTransition:f}=i||{},m=r.useCallback((e=>{f&&ke?ke((()=>u(e))):u(e)}),[u,f]);return r.useLayoutEffect((()=>l.listen(m)),[l,m]),r.useEffect((()=>fe(i)),[i]),r.createElement(ge,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:i})}const Te="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oe=r.forwardRef((function(e,t){let n,{onClick:i,relative:a,reloadDocument:o,replace:s,state:c,target:u,to:d,preventScrollReset:f,viewTransition:p}=e,m=je(e,Se),{basename:g}=r.useContext(W),y=!1;if("string"===typeof d&&Ce.test(d)&&(n=d,Te))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=A(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:y=!0}catch($$){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||l(!1);let{basename:i,navigator:a}=r.useContext(W),{hash:o,pathname:s,search:c}=ee(e,{relative:n}),u=s;return"/"!==i&&(u="/"===s?i:R([i,s])),a.createHref({pathname:u,search:c,hash:o})}(d,{relative:a}),b=function(e,t){let{target:n,replace:i,state:a,preventScrollReset:o,relative:s,viewTransition:l}=void 0===t?{}:t,c=J(),u=X(),d=ee(e,{relative:s});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:h(u)===h(d);c(e,{replace:n,state:a,preventScrollReset:o,relative:s,viewTransition:l})}}),[u,c,d,i,a,n,e,o,s,l])}(d,{replace:s,state:c,target:u,preventScrollReset:f,relative:a,viewTransition:p});return r.createElement("a",we({},m,{href:n||v,onClick:y||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var _e,Ne;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_e||(_e={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ne||(Ne={}));var Ae=n(579);const Ie={light:{name:"light",primary:"#4F46E5",secondary:"#10B981",background:"#F9FAFB",card:"#FFFFFF",text:"#1F2937",border:"#E5E7EB",accent:"#8B5CF6",success:"#10B981",danger:"#EF4444",warning:"#F59E0B"},dark:{name:"dark",primary:"#6366F1",secondary:"#10B981",background:"#111827",card:"#1F2937",text:"#F9FAFB",border:"#374151",accent:"#8B5CF6",success:"#10B981",danger:"#EF4444",warning:"#F59E0B"},gaming:{name:"gaming",primary:"#7C3AED",secondary:"#EC4899",background:"#0F172A",card:"#1E293B",text:"#F8FAFC",border:"#334155",accent:"#F97316",success:"#22C55E",danger:"#EF4444",warning:"#EAB308"}},Pe=(0,r.createContext)(),De=()=>(0,r.useContext)(Pe),Me=e=>{let{children:t}=e;const[n,i]=(0,r.useState)((()=>{const e=localStorage.getItem("theme");return e&&Ie[e]?e:"dark"})),a=Ie[n];(0,r.useEffect)((()=>{Object.entries(a).forEach((e=>{let[t,n]=e;"name"!==t&&document.documentElement.style.setProperty(`--color-${t}`,n)})),localStorage.setItem("theme",n)}),[n,a]);return(0,Ae.jsx)(Pe.Provider,{value:{currentTheme:n,theme:a,changeTheme:e=>{Ie[e]&&i(e)},themes:Ie},children:t})};function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Le(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function Fe(e){Le(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===Re(e)&&"[object Date]"===t?new Date(e.getTime()):"number"===typeof e||"[object Number]"===t?new Date(e):("string"!==typeof e&&"[object String]"!==t||"undefined"===typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function Ue(e){if(Le(1,arguments),!function(e){return Le(1,arguments),e instanceof Date||"object"===Re(e)&&"[object Date]"===Object.prototype.toString.call(e)}(e)&&"number"!==typeof e)return!1;var t=Fe(e);return!isNaN(Number(t))}function Be(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ze(e,t){return Le(2,arguments),function(e,t){Le(2,arguments);var n=Fe(e).getTime(),r=Be(t);return new Date(n+r)}(e,-Be(t))}function Ve(e){Le(1,arguments);var t=Fe(e),n=t.getUTCDay(),r=(n<1?7:0)+n-1;return t.setUTCDate(t.getUTCDate()-r),t.setUTCHours(0,0,0,0),t}function $e(e){Le(1,arguments);var t=Fe(e),n=t.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var i=Ve(r),a=new Date(0);a.setUTCFullYear(n,0,4),a.setUTCHours(0,0,0,0);var o=Ve(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function qe(e){Le(1,arguments);var t=Fe(e),n=Ve(t).getTime()-function(e){Le(1,arguments);var t=$e(e),n=new Date(0);return n.setUTCFullYear(t,0,4),n.setUTCHours(0,0,0,0),Ve(n)}(t).getTime();return Math.round(n/6048e5)+1}var He={};function We(){return He}function Ke(e,t){var n,r,i,a,o,s,l,c;Le(1,arguments);var u=We(),d=Be(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Fe(e),f=h.getUTCDay(),p=(f<d?7:0)+f-d;return h.setUTCDate(h.getUTCDate()-p),h.setUTCHours(0,0,0,0),h}function Ge(e,t){var n,r,i,a,o,s,l,c;Le(1,arguments);var u=Fe(e),d=u.getUTCFullYear(),h=We(),f=Be(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:h.firstWeekContainsDate)&&void 0!==r?r:null===(l=h.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(d+1,0,f),p.setUTCHours(0,0,0,0);var m=Ke(p,t),g=new Date(0);g.setUTCFullYear(d,0,f),g.setUTCHours(0,0,0,0);var y=Ke(g,t);return u.getTime()>=m.getTime()?d+1:u.getTime()>=y.getTime()?d:d-1}function Ye(e,t){Le(1,arguments);var n=Fe(e),r=Ke(n,t).getTime()-function(e,t){var n,r,i,a,o,s,l,c;Le(1,arguments);var u=We(),d=Be(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),h=Ge(e,t),f=new Date(0);return f.setUTCFullYear(h,0,d),f.setUTCHours(0,0,0,0),Ke(f,t)}(n,t).getTime();return Math.round(r/6048e5)+1}function Qe(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}var Xe={y:function(e,t){var n=e.getUTCFullYear(),r=n>0?n:1-n;return Qe("yy"===t?r%100:r,t.length)},M:function(e,t){var n=e.getUTCMonth();return"M"===t?String(n+1):Qe(n+1,2)},d:function(e,t){return Qe(e.getUTCDate(),t.length)},a:function(e,t){var n=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(e,t){return Qe(e.getUTCHours()%12||12,t.length)},H:function(e,t){return Qe(e.getUTCHours(),t.length)},m:function(e,t){return Qe(e.getUTCMinutes(),t.length)},s:function(e,t){return Qe(e.getUTCSeconds(),t.length)},S:function(e,t){var n=t.length,r=e.getUTCMilliseconds();return Qe(Math.floor(r*Math.pow(10,n-3)),t.length)}};const Ze=Xe;var Je="midnight",et="noon",tt="morning",nt="afternoon",rt="evening",it="night",at={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getUTCFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Ze.y(e,t)},Y:function(e,t,n,r){var i=Ge(e,r),a=i>0?i:1-i;return"YY"===t?Qe(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):Qe(a,t.length)},R:function(e,t){return Qe($e(e),t.length)},u:function(e,t){return Qe(e.getUTCFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return Qe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return Qe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getUTCMonth();switch(t){case"M":case"MM":return Ze.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getUTCMonth();switch(t){case"L":return String(r+1);case"LL":return Qe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Ye(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):Qe(i,t.length)},I:function(e,t,n){var r=qe(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):Qe(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getUTCDate(),{unit:"date"}):Ze.d(e,t)},D:function(e,t,n){var r=function(e){Le(1,arguments);var t=Fe(e),n=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var r=n-t.getTime();return Math.floor(r/864e5)+1}(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):Qe(r,t.length)},E:function(e,t,n){var r=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return Qe(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return Qe(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getUTCDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return Qe(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?et:0===i?Je:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?rt:i>=12?nt:i>=4?tt:it,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Ze.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getUTCHours(),{unit:"hour"}):Ze.H(e,t)},K:function(e,t,n){var r=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):Qe(r,t.length)},k:function(e,t,n){var r=e.getUTCHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):Qe(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getUTCMinutes(),{unit:"minute"}):Ze.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getUTCSeconds(),{unit:"second"}):Ze.s(e,t)},S:function(e,t){return Ze.S(e,t)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return st(i);case"XXXX":case"XX":return lt(i);default:return lt(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return st(i);case"xxxx":case"xx":return lt(i);default:return lt(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+ot(i,":");default:return"GMT"+lt(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+ot(i,":");default:return"GMT"+lt(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return Qe(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return Qe((r._originalDate||e).getTime(),t.length)}};function ot(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(0===a)return n+String(i);var o=t||"";return n+String(i)+o+Qe(a,2)}function st(e,t){return e%60===0?(e>0?"-":"+")+Qe(Math.abs(e)/60,2):lt(e,t)}function lt(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+Qe(Math.floor(i/60),2)+n+Qe(i%60,2)}const ct=at;var ut=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},dt=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},ht={p:dt,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return ut(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",ut(i,t)).replace("{{time}}",dt(a,t))}};const ft=ht;function pt(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}var mt=["D","DD"],gt=["YY","YYYY"];function yt(e,t,n){if("YYYY"===e)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===e)throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===e)throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===e)throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var vt={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const bt=function(e,t,n){var r,i=vt[e];return r="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function xt(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const wt={date:xt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:xt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:xt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var jt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};const St=function(e,t,n,r){return jt[e]};function kt(e){return function(t,n){var r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!==n&&void 0!==n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const Et={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:kt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:kt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:kt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:kt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:kt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function Tt(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o,s=a[0],l=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(l,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n;return}(l,(function(e){return e.test(s)}));return o=e.valueCallback?e.valueCallback(c):c,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(s.length)}}}var Ct,Ot={ordinalNumber:(Ct={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(Ct.matchPattern);if(!n)return null;var r=n[0],i=e.match(Ct.parsePattern);if(!i)return null;var a=Ct.valueCallback?Ct.valueCallback(i[0]):i[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(r.length)}}),era:Tt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Tt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:Tt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Tt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Tt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};const _t={code:"en-US",formatDistance:bt,formatLong:wt,formatRelative:St,localize:Et,match:Ot,options:{weekStartsOn:0,firstWeekContainsDate:1}};var Nt=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,At=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,It=/^'([^]*?)'?$/,Pt=/''/g,Dt=/[a-zA-Z]/;function Mt(e,t,n){var r,i,a,o,s,l,c,u,d,h,f,p,m,g,y,v,b,x;Le(2,arguments);var w=String(t),j=We(),S=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:j.locale)&&void 0!==r?r:_t,k=Be(null!==(a=null!==(o=null!==(s=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:j.firstWeekContainsDate)&&void 0!==o?o:null===(d=j.locale)||void 0===d||null===(h=d.options)||void 0===h?void 0:h.firstWeekContainsDate)&&void 0!==a?a:1);if(!(k>=1&&k<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var E=Be(null!==(f=null!==(p=null!==(m=null!==(g=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==g?g:null===n||void 0===n||null===(y=n.locale)||void 0===y||null===(v=y.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==m?m:j.weekStartsOn)&&void 0!==p?p:null===(b=j.locale)||void 0===b||null===(x=b.options)||void 0===x?void 0:x.weekStartsOn)&&void 0!==f?f:0);if(!(E>=0&&E<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!S.localize)throw new RangeError("locale must contain localize property");if(!S.formatLong)throw new RangeError("locale must contain formatLong property");var T=Fe(e);if(!Ue(T))throw new RangeError("Invalid time value");var C=ze(T,pt(T)),O={firstWeekContainsDate:k,weekStartsOn:E,locale:S,_originalDate:T};return w.match(At).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,ft[t])(e,S.formatLong):e})).join("").match(Nt).map((function(r){if("''"===r)return"'";var i=r[0];if("'"===i)return function(e){var t=e.match(It);if(!t)return e;return t[1].replace(Pt,"'")}(r);var a,o=ct[i];if(o)return null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||(a=r,-1===gt.indexOf(a))||yt(r,t,String(e)),null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return-1!==mt.indexOf(e)}(r)||yt(r,t,String(e)),o(C,r,S.localize,O);if(i.match(Dt))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return r})).join("")}const Rt=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Lt={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],a=i+1<e.length,o=a?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let d=(15&o)<<2|l>>6,h=63&l;s||(h=64,a||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Rt(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){const a=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{const a=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&a)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const s=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==a||null==o||null==s)throw new Ft;const l=t<<2|a>>4;if(r.push(l),64!==o){const e=a<<4&240|o>>2;if(r.push(e),64!==s){const e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ft extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ut=function(e){return function(e){const t=Rt(e);return Lt.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Bt=function(e){try{return Lt.decodeString(e,!0)}catch($$){console.error("base64Decode failed: ",$$)}return null};const zt=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Vt=()=>{try{return zt()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch($$){return}const t=e&&Bt(e[1]);return t&&JSON.parse(t)})()}catch($$){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${$$}`)}},$t=e=>{var t,n;return null===(n=null===(t=Vt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},qt=()=>{var e;return null===(e=Vt())||void 0===e?void 0:e.config},Ht=e=>{var t;return null===(t=Vt())||void 0===t?void 0:t[`_${e}`]};class Wt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Kt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Gt(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Yt(){return!function(){var e;const t=null===(e=Vt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch($$){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Qt(){try{return"object"===typeof indexedDB}catch($$){return!1}}function Xt(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Zt extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Zt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jt.prototype.create)}}class Jt{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(en,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",a=`${this.serviceName}: ${i} (${n}).`;return new Zt(n,a,t)}}const en=/\{\$([^}]+)}/g;function tn(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],a=t[i];if(nn(n)&&nn(a)){if(!tn(n,a))return!1}else if(n!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function nn(e){return null!==e&&"object"===typeof e}function rn(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function an(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function on(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class sn{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ln),void 0===r.error&&(r.error=ln),void 0===r.complete&&(r.complete=ln);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch($$){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch($$){"undefined"!==typeof console&&console.error&&console.error($$)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ln(){}function cn(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function un(e){return e&&e._delegate?e._delegate:e}class dn{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const hn="[DEFAULT]";class fn{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Wt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch($$){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch($$){if(r)return null;throw $$}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:hn})}catch($$){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch($$){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,a]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&a.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const a=this.instances.get(r);return a&&e(a,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===hn?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(a){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hn;return this.component?this.component.multipleInstances?e:hn:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class pn{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fn(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const mn=[];var gn;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(gn||(gn={}));const yn={debug:gn.DEBUG,verbose:gn.VERBOSE,info:gn.INFO,warn:gn.WARN,error:gn.ERROR,silent:gn.SILENT},vn=gn.INFO,bn={[gn.DEBUG]:"log",[gn.VERBOSE]:"log",[gn.INFO]:"info",[gn.WARN]:"warn",[gn.ERROR]:"error"},xn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=bn[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,a=new Array(i>2?i-2:0),o=2;o<i;o++)a[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...a)};class wn{constructor(e){this.name=e,this._logLevel=vn,this._logHandler=xn,this._userLogHandler=null,mn.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?yn[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gn.DEBUG,...t),this._logHandler(this,gn.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gn.VERBOSE,...t),this._logHandler(this,gn.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gn.INFO,...t),this._logHandler(this,gn.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gn.WARN,...t),this._logHandler(this,gn.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gn.ERROR,...t),this._logHandler(this,gn.ERROR,...t)}}let jn,Sn;const kn=new WeakMap,En=new WeakMap,Tn=new WeakMap,Cn=new WeakMap,On=new WeakMap;let _n={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return En.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Tn.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return In(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Nn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Sn||(Sn=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Pn(this),n),In(kn.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return In(e.apply(Pn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const a=e.call(Pn(this),t,...r);return Tn.set(a,t.sort?t.sort():[t]),In(a)}}function An(e){return"function"===typeof e?Nn(e):(e instanceof IDBTransaction&&function(e){if(En.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));En.set(e,t)}(e),((e,t)=>t.some((t=>e instanceof t)))(e,jn||(jn=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,_n):e)}function In(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",a)},i=()=>{t(In(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((t=>{t instanceof IDBCursor&&kn.set(t,e)})).catch((()=>{})),On.set(t,e),t}(e);if(Cn.has(e))return Cn.get(e);const t=An(e);return t!==e&&(Cn.set(e,t),On.set(t,e)),t}const Pn=e=>On.get(e);function Dn(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:a}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),s=In(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(In(o.result),e.oldVersion,e.newVersion,In(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),s.then((e=>{a&&e.addEventListener("close",(()=>a())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),s}const Mn=["get","getKey","getAll","getAllKeys","count"],Rn=["put","add","delete","clear"],Ln=new Map;function Fn(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ln.get(t))return Ln.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Rn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Mn.includes(n))return;const a=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let a=t.store;for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];return r&&(a=a.index(s.shift())),(await Promise.all([a[n](...s),i&&t.done]))[0]};return Ln.set(t,a),a}_n=(e=>({...e,get:(t,n,r)=>Fn(t,n)||e.get(t,n,r),has:(t,n)=>!!Fn(t,n)||e.has(t,n)}))(_n);class Un{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Bn="@firebase/app",zn="0.11.2",Vn=new wn("@firebase/app"),$n="@firebase/app-compat",qn="@firebase/analytics-compat",Hn="@firebase/analytics",Wn="@firebase/app-check-compat",Kn="@firebase/app-check",Gn="@firebase/auth",Yn="@firebase/auth-compat",Qn="@firebase/database",Xn="@firebase/data-connect",Zn="@firebase/database-compat",Jn="@firebase/functions",er="@firebase/functions-compat",tr="@firebase/installations",nr="@firebase/installations-compat",rr="@firebase/messaging",ir="@firebase/messaging-compat",ar="@firebase/performance",or="@firebase/performance-compat",sr="@firebase/remote-config",lr="@firebase/remote-config-compat",cr="@firebase/storage",ur="@firebase/storage-compat",dr="@firebase/firestore",hr="@firebase/vertexai",fr="@firebase/firestore-compat",pr="firebase",mr="[DEFAULT]",gr={[Bn]:"fire-core",[$n]:"fire-core-compat",[Hn]:"fire-analytics",[qn]:"fire-analytics-compat",[Kn]:"fire-app-check",[Wn]:"fire-app-check-compat",[Gn]:"fire-auth",[Yn]:"fire-auth-compat",[Qn]:"fire-rtdb",[Xn]:"fire-data-connect",[Zn]:"fire-rtdb-compat",[Jn]:"fire-fn",[er]:"fire-fn-compat",[tr]:"fire-iid",[nr]:"fire-iid-compat",[rr]:"fire-fcm",[ir]:"fire-fcm-compat",[ar]:"fire-perf",[or]:"fire-perf-compat",[sr]:"fire-rc",[lr]:"fire-rc-compat",[cr]:"fire-gcs",[ur]:"fire-gcs-compat",[dr]:"fire-fst",[fr]:"fire-fst-compat",[hr]:"fire-vertex","fire-js":"fire-js",[pr]:"fire-js-all"},yr=new Map,vr=new Map,br=new Map;function xr(e,t){try{e.container.addComponent(t)}catch($$){Vn.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,$$)}}function wr(e){const t=e.name;if(br.has(t))return Vn.debug(`There were multiple attempts to register component ${t}.`),!1;br.set(t,e);for(const n of yr.values())xr(n,e);for(const n of vr.values())xr(n,e);return!0}function jr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Sr(e){return null!==e&&void 0!==e&&void 0!==e.settings}const kr=new Jt("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Er{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dn("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw kr.create("app-deleted",{appName:this._name})}}const Tr="11.4.0";function Cr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:mr,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw kr.create("bad-app-name",{appName:String(i)});if(n||(n=qt()),!n)throw kr.create("no-options");const a=yr.get(i);if(a){if(tn(n,a.options)&&tn(r,a.config))return a;throw kr.create("duplicate-app",{appName:i})}const o=new pn(i);for(const l of br.values())o.addComponent(l);const s=new Er(n,r,o);return yr.set(i,s),s}function Or(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mr;const t=yr.get(e);if(!t&&e===mr&&qt())return Cr();if(!t)throw kr.create("no-app",{appName:e});return t}function _r(e,t,n){var r;let i=null!==(r=gr[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const e=[`Unable to register library "${i}" with version "${t}":`];return a&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Vn.warn(e.join(" "))}wr(new dn(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const Nr="firebase-heartbeat-store";let Ar=null;function Ir(){return Ar||(Ar=Dn("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Nr)}catch($$){console.warn($$)}}}).catch((e=>{throw kr.create("idb-open",{originalErrorMessage:e.message})}))),Ar}async function Pr(e,t){try{const n=(await Ir()).transaction(Nr,"readwrite"),r=n.objectStore(Nr);await r.put(t,Dr(e)),await n.done}catch($$){if($$ instanceof Zt)Vn.warn($$.message);else{const t=kr.create("idb-set",{originalErrorMessage:null===$$||void 0===$$?void 0:$$.message});Vn.warn(t.message)}}}function Dr(e){return`${e.name}!${e.options.appId}`}class Mr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Lr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Rr();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch($$){Vn.warn($$)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Rr(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Fr(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Fr(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ut(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch($$){return Vn.warn($$),""}}}function Rr(){return(new Date).toISOString().substring(0,10)}class Lr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Qt()&&Xt().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Ir()).transaction(Nr),n=await t.objectStore(Nr).get(Dr(e));return await t.done,n}catch($$){if($$ instanceof Zt)Vn.warn($$.message);else{const t=kr.create("idb-get",{originalErrorMessage:null===$$||void 0===$$?void 0:$$.message});Vn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Fr(e){return Ut(JSON.stringify({version:2,heartbeats:e})).length}var Ur;Ur="",wr(new dn("platform-logger",(e=>new Un(e)),"PRIVATE")),wr(new dn("heartbeat",(e=>new Mr(e)),"PRIVATE")),_r(Bn,zn,Ur),_r(Bn,zn,"esm2017"),_r("fire-js","");function Br(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function zr(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Vr=zr,$r=new Jt("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qr=new wn("@firebase/auth");function Hr(e){if(qr.logLevel<=gn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qr.error(`Auth (${Tr}): ${e}`,...n)}}function Wr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Qr(e,...n)}function Kr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Qr(e,...n)}function Gr(e,t,n){const r=Object.assign(Object.assign({},Vr()),{[t]:n});return new Jt("auth","Firebase",r).create(t,{appName:e.name})}function Yr(e){return Gr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Qr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return $r.create(e,...n)}function Xr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Qr(t,...r)}}function Zr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Hr(t),new Error(t)}function Jr(e,t){e||Zr(t)}function ei(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function ti(){return"http:"===ni()||"https:"===ni()}function ni(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ri{constructor(e,t){this.shortDelay=e,this.longDelay=t,Jr(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(ti()||Gt()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function ii(e,t){Jr(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ai{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Zr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Zr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Zr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const oi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},si=new ri(3e4,6e4);function li(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ci(e,t,n,r){return ui(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},a={};r&&("GET"===t?a=r:i={body:JSON.stringify(r)});const o=rn(Object.assign({key:e.config.apiKey},a)).slice(1),s=await e._getAdditionalHeaders();s["Content-Type"]="application/json",e.languageCode&&(s["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:s},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),ai.fetch()(hi(e,e.config.apiHost,n,o),l)}))}async function ui(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},oi),t);try{const t=new pi(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const a=await i.json();if("needConfirmation"in a)throw mi(e,"account-exists-with-different-credential",a);if(i.ok&&!("errorMessage"in a))return a;{const t=i.ok?a.errorMessage:a.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw mi(e,"credential-already-in-use",a);if("EMAIL_EXISTS"===n)throw mi(e,"email-already-in-use",a);if("USER_DISABLED"===n)throw mi(e,"user-disabled",a);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Gr(e,s,o);Wr(e,s)}}catch($$){if($$ instanceof Zt)throw $$;Wr(e,"network-request-failed",{message:String($$)})}}async function di(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const a=await ci(e,t,n,r,i);return"mfaPendingCredential"in a&&Wr(e,"multi-factor-auth-required",{_serverResponse:a}),a}function hi(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?ii(e.config,i):`${e.config.apiScheme}://${i}`}function fi(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pi{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Kr(this.auth,"network-request-failed"))),si.get())}))}}function mi(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kr(e,t,r);return i.customData._tokenResponse=n,i}function gi(e){return void 0!==e&&void 0!==e.enterprise}class yi{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fi(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vi(e,t){return ci(e,"GET","/v2/recaptchaConfig",li(e,t))}async function bi(e,t){return ci(e,"POST","/v1/accounts:lookup",t)}function xi(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch($$){}}function wi(e){return 1e3*Number(e)}function ji(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Hr("JWT malformed, contained fewer than 3 sections"),null;try{const e=Bt(n);return e?JSON.parse(e):(Hr("Failed to decode base64 JWT payload"),null)}catch($$){return Hr("Caught error parsing JWT payload as JSON",null===$$||void 0===$$?void 0:$$.toString()),null}}function Si(e){const t=ji(e);return Xr(t,"internal-error"),Xr("undefined"!==typeof t.exp,"internal-error"),Xr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ki(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch($$){throw $$ instanceof Zt&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}($$)&&e.auth.currentUser===e&&await e.auth.signOut(),$$}}class Ei{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch($$){return void("auth/network-request-failed"===(null===$$||void 0===$$?void 0:$$.code)&&this.schedule(!0))}this.schedule()}}class Ti{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=xi(this.lastLoginAt),this.creationTime=xi(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ci(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ki(e,bi(n,{idToken:r}));Xr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const a=i.users[0];e._notifyReloadListener(a);const o=(null===(t=a.providerUserInfo)||void 0===t?void 0:t.length)?Oi(a.providerUserInfo):[],s=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&a.passwordHash)&&!(null===s||void 0===s?void 0:s.length),h=!!u&&d,f={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:s,metadata:new Ti(a.createdAt,a.lastLoginAt),isAnonymous:h};Object.assign(e,f)}function Oi(e){return e.map((e=>{var{providerId:t}=e,n=Br(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class _i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xr(e.idToken,"internal-error"),Xr("undefined"!==typeof e.idToken,"internal-error"),Xr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Si(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Xr(0!==e.length,"internal-error");const t=Si(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Xr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await ui(e,{},(async()=>{const n=rn({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=hi(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",ai.fetch()(a,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,a=new _i;return n&&(Xr("string"===typeof n,"internal-error",{appName:e}),a.refreshToken=n),r&&(Xr("string"===typeof r,"internal-error",{appName:e}),a.accessToken=r),i&&(Xr("number"===typeof i,"internal-error",{appName:e}),a.expirationTime=i),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _i,this.toJSON())}_performRefresh(){return Zr("not implemented")}}function Ni(e,t){Xr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Ai{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Br(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ei(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ti(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ki(this,this.stsTokenManager.getToken(this.auth,e));return Xr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=un(e),r=await n.getIdToken(t),i=ji(r);Xr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a="object"===typeof i.firebase?i.firebase:void 0,o=null===a||void 0===a?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:xi(wi(i.auth_time)),issuedAtTime:xi(wi(i.iat)),expirationTime:xi(wi(i.exp)),signInProvider:o||null,signInSecondFactor:(null===a||void 0===a?void 0:a.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=un(e);await Ci(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Ci(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Sr(this.auth.app))return Promise.reject(Yr(this.auth));const e=await this.getIdToken();return await ki(this,async function(e,t){return ci(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,a,o,s,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(a=t.photoURL)&&void 0!==a?a:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(s=t._redirectEventId)&&void 0!==s?s:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:j}=t;Xr(v&&j,e,"internal-error");const S=_i.fromJSON(this.name,j);Xr("string"===typeof v,e,"internal-error"),Ni(u,e.name),Ni(d,e.name),Xr("boolean"===typeof b,e,"internal-error"),Xr("boolean"===typeof x,e,"internal-error"),Ni(h,e.name),Ni(f,e.name),Ni(p,e.name),Ni(m,e.name),Ni(g,e.name),Ni(y,e.name);const k=new Ai({uid:v,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:f,phoneNumber:h,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new _i;r.updateFromServerResponse(t);const i=new Ai({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Ci(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Xr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Oi(r.providerUserInfo):[],a=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new _i;o.updateFromIdToken(n);const s=new Ai({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:a}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Ti(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(s,l),s}}const Ii=new Map;function Pi(e){Jr(e instanceof Function,"Expected a class definition");let t=Ii.get(e);return t?(Jr(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Ii.set(e,t),t)}class Di{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Di.type="NONE";const Mi=Di;function Ri(e,t,n){return`firebase:${e}:${t}:${n}`}class Li{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Ri(this.userKey,r.apiKey,i),this.fullPersistenceKey=Ri("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Li(Pi(Mi),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Pi(Mi);const a=Ri(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(a);if(t){const n=Ai._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const s=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],o&&await i._set(a,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(a)}catch(l){}}))),new Li(i,e,n)):new Li(i,e,n)}}function Fi(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Vi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ui(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qi(t))return"Blackberry";if(Hi(t))return"Webos";if(Bi(t))return"Safari";if((t.includes("chrome/")||zi(t))&&!t.includes("edge/"))return"Chrome";if($i(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ui(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();return/firefox\//i.test(e)}function Bi(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();return/crios\//i.test(e)}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();return/iemobile/i.test(e)}function $i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();return/android/i.test(e)}function qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();return/blackberry/i.test(e)}function Hi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();return/webos/i.test(e)}function Wi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Ki(){return function(){const e=Kt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt();return Wi(e)||$i(e)||Hi(e)||qi(e)||/windows phone/i.test(e)||Vi(e)}function Yi(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Fi(Kt());break;case"Worker":t=`${Fi(Kt())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Tr}/${r}`}class Qi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch($$){r($$)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch($$){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===$$||void 0===$$?void 0:$$.message})}}}class Xi{constructor(e){var t,n,r,i;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=a.minPasswordLength)&&void 0!==t?t:6,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),void 0!==a.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),void 0!==a.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),void 0!==a.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),void 0!==a.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,a,o;const s={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,s),this.validatePasswordCharacterOptions(e,s),s.isValid&&(s.isValid=null===(t=s.meetsMinPasswordLength)||void 0===t||t),s.isValid&&(s.isValid=null===(n=s.meetsMaxPasswordLength)||void 0===n||n),s.isValid&&(s.isValid=null===(r=s.containsLowercaseLetter)||void 0===r||r),s.isValid&&(s.isValid=null===(i=s.containsUppercaseLetter)||void 0===i||i),s.isValid&&(s.isValid=null===(a=s.containsNumericCharacter)||void 0===a||a),s.isValid&&(s.isValid=null===(o=s.containsNonAlphanumericCharacter)||void 0===o||o),s}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Zi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ea(this),this.idTokenSubscription=new ea(this),this.beforeStateQueue=new Qi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=$r,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pi(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Li.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch($$){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await bi(this,{idToken:e}),n=await Ai._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Sr(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch($$){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject($$)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch($$){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ci(e)}catch($$){if("auth/network-request-failed"!==(null===$$||void 0===$$?void 0:$$.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Sr(this.app))return Promise.reject(Yr(this));const t=e?un(e):null;return t&&Xr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Xr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Sr(this.app)?Promise.reject(Yr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Sr(this.app)?Promise.reject(Yr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Pi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ci(e,"GET","/v2/passwordPolicy",li(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Xi(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Jt("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ci(e,"POST","/v2/accounts:revokeToken",li(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pi(e)||this._popupRedirectResolver;Xr(t,this,"argument-error"),this.redirectPersistenceManager=await Li.create(this,[Pi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xr(o,this,"internal-error"),o.then((()=>{a||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{a=!0,i()}}{const n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(qr.logLevel<=gn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qr.warn(`Auth (${Tr}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function Ji(e){return un(e)}class ea{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new sn(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Xr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ta={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function na(e){return ta.loadJS(e)}function ra(e){return`__${e}${Math.floor(1e6*Math.random())}`}class ia{constructor(){this.enterprise=new aa}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aa{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const oa="NO_RECAPTCHA";class sa{constructor(e){this.type="recaptcha-enterprise",this.auth=Ji(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;gi(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(oa)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new ia).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{vi(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new yi(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&gi(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ta.recaptchaEnterpriseScript;0!==t.length&&(t+=i),na(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function la(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const a=new sa(e);let o;if(i)o=oa;else try{o=await a.verify(n)}catch(l){o=await a.verify(n,!0)}const s=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in s){const e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in s){const e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function ca(e,t,n,r,i){var a,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await la(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await la(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await la(e,t,n);return r(e,i).catch((async i=>{var a;if("AUDIT"===(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await la(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await la(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function ua(e){const t=Ji(e),n=await vi(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new yi(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new sa(t).verify()}}function da(e,t,n){const r=Ji(e);Xr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=ha(t),{host:o,port:s}=function(e){const t=ha(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:fa(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:fa(t)}}}(t),l={url:`${a}//${o}${null===s?"":`:${s}`}/`},c=Object.freeze({host:o,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Xr(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Xr(tn(l,r.config.emulator)&&tn(c,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=l,r.emulatorConfig=c,r.settings.appVerificationDisabledForTesting=!0,i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ha(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function fa(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class pa{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zr("not implemented")}_getIdTokenResponse(e){return Zr("not implemented")}_linkToIdToken(e,t){return Zr("not implemented")}_getReauthenticationResolver(e){return Zr("not implemented")}}async function ma(e,t){return ci(e,"POST","/v1/accounts:signUp",t)}async function ga(e,t){return di(e,"POST","/v1/accounts:signInWithPassword",li(e,t))}class ya extends pa{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ya(e,t,"password")}static _fromEmailAndCode(e,t){return new ya(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return ca(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ga,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return di(e,"POST","/v1/accounts:signInWithEmailLink",li(e,t))}(e,{email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return ca(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ma,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return di(e,"POST","/v1/accounts:signInWithEmailLink",li(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Wr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function va(e,t){return di(e,"POST","/v1/accounts:signInWithIdp",li(e,t))}class ba extends pa{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ba(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Wr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Br(t,["providerId","signInMethod"]);if(!n||!r)return null;const a=new ba(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return va(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,va(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,va(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=rn(t)}return e}}async function xa(e,t){return ci(e,"POST","/v1/accounts:sendVerificationCode",li(e,t))}const wa={USER_NOT_FOUND:"user-not-found"};class ja extends pa{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ja({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ja({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return di(e,"POST","/v1/accounts:signInWithPhoneNumber",li(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await di(e,"POST","/v1/accounts:signInWithPhoneNumber",li(e,t));if(n.temporaryProof)throw mi(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return di(e,"POST","/v1/accounts:signInWithPhoneNumber",li(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),wa)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new ja({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Sa{constructor(e){var t,n,r,i,a,o;const s=an(on(e)),l=null!==(t=s.apiKey)&&void 0!==t?t:null,c=null!==(n=s.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);Xr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(a=s.languageCode)&&void 0!==a?a:null,this.tenantId=null!==(o=s.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=an(on(e)).link,n=t?an(on(t)).deep_link_id:null,r=an(on(e)).deep_link_id;return(r?an(on(r)).link:null)||r||n||t||e}(e);try{return new Sa(t)}catch(n){return null}}}class ka{constructor(){this.providerId=ka.PROVIDER_ID}static credential(e,t){return ya._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Sa.parseLink(t);return Xr(n,"argument-error"),ya._fromEmailAndCode(e,n.code,n.tenantId)}}ka.PROVIDER_ID="password",ka.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ka.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ea{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ta extends Ea{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ca extends Ta{constructor(){super("facebook.com")}static credential(e){return ba._fromParams({providerId:Ca.PROVIDER_ID,signInMethod:Ca.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ca.credentialFromTaggedObject(e)}static credentialFromError(e){return Ca.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ca.credential(t.oauthAccessToken)}catch(n){return null}}}Ca.FACEBOOK_SIGN_IN_METHOD="facebook.com",Ca.PROVIDER_ID="facebook.com";class Oa extends Ta{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ba._fromParams({providerId:Oa.PROVIDER_ID,signInMethod:Oa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oa.credentialFromTaggedObject(e)}static credentialFromError(e){return Oa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Oa.credential(n,r)}catch(i){return null}}}Oa.GOOGLE_SIGN_IN_METHOD="google.com",Oa.PROVIDER_ID="google.com";class _a extends Ta{constructor(){super("github.com")}static credential(e){return ba._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _a.credential(t.oauthAccessToken)}catch(n){return null}}}_a.GITHUB_SIGN_IN_METHOD="github.com",_a.PROVIDER_ID="github.com";class Na extends Ta{constructor(){super("twitter.com")}static credential(e,t){return ba._fromParams({providerId:Na.PROVIDER_ID,signInMethod:Na.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Na.credentialFromTaggedObject(e)}static credentialFromError(e){return Na.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Na.credential(n,r)}catch(i){return null}}}async function Aa(e,t){return di(e,"POST","/v1/accounts:signUp",li(e,t))}Na.TWITTER_SIGN_IN_METHOD="twitter.com",Na.PROVIDER_ID="twitter.com";class Ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Ai._fromIdTokenResponse(e,n,r),a=Pa(n);return new Ia({user:i,providerId:a,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Pa(n);return new Ia({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Pa(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Da extends Zt{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Da.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Da(e,t,n,r)}}function Ma(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Da._fromErrorAndOperation(e,n,t,r);throw n}))}async function Ra(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ki(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ia._forOperation(e,"link",r)}async function La(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Sr(r.app))return Promise.reject(Yr(r));const i="reauthenticate";try{const a=await ki(e,Ma(r,i,t,e),n);Xr(a.idToken,r,"internal-error");const o=ji(a.idToken);Xr(o,r,"internal-error");const{sub:s}=o;return Xr(e.uid===s,r,"user-mismatch"),Ia._forOperation(e,i,a)}catch($$){throw"auth/user-not-found"===(null===$$||void 0===$$?void 0:$$.code)&&Wr(r,"user-mismatch"),$$}}async function Fa(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Sr(e.app))return Promise.reject(Yr(e));const r="signIn",i=await Ma(e,r,t),a=await Ia._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}async function Ua(e,t){return Fa(Ji(e),t)}async function Ba(e){const t=Ji(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function za(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=un(e),a={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await ki(i,async function(e,t){return ci(e,"POST","/v1/accounts:update",t)}(i.auth,a));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const s=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));s&&(s.displayName=i.displayName,s.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}function Va(e,t){return ci(e,"POST","/v2/accounts/mfaEnrollment:start",li(e,t))}new WeakMap;const $a="__sak";class qa{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($a,"1"),this.storage.removeItem($a),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Ha extends qa{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Gi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Ki()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ha.type="LOCAL";const Wa=Ha;class Ka extends qa{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ka.type="SESSION";const Ga=Ka;class Ya{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ya(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!(null===a||void 0===a?void 0:a.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(a).map((async e=>e(t.origin,i))),s=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Qa(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ya.receivers=[];class Xa{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,a;return new Promise(((o,s)=>{const l=Qa("",20);r.port1.start();const c=setTimeout((()=>{s(new Error("unsupported_event"))}),n);a={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(a),r.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{a&&this.removeMessageHandler(a)}))}}function Za(){return window}function Ja(){return"undefined"!==typeof Za().WorkerGlobalScope&&"function"===typeof Za().importScripts}const eo="firebaseLocalStorageDb",to="firebaseLocalStorage",no="fbase_key";class ro{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function io(e,t){return e.transaction([to],t?"readwrite":"readonly").objectStore(to)}function ao(){const e=indexedDB.open(eo,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(to,{keyPath:no})}catch($$){n($$)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(to)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(eo);return new ro(e).toPromise()}(),t(await ao()))}))}))}async function oo(e,t,n){const r=io(e,!0).put({[no]:t,value:n});return new ro(r).toPromise()}function so(e,t){const n=io(e,!0).delete(t);return new ro(n).toPromise()}class lo{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await ao()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch($$){if(t++>3)throw $$;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ja()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ya._getInstance(Ja()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Xa(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ao();return await oo(e,$a,"1"),await so(e,$a),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>oo(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=io(e,!1).get(t),r=await new ro(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>so(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=io(e,!1).getAll();return new ro(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}lo.type="LOCAL";const co=lo;function uo(e,t){return ci(e,"POST","/v2/accounts/mfaSignIn:start",li(e,t))}ra("rcb"),new ri(3e4,6e4);const ho="recaptcha";async function fo(e,t,n){var r;if(!e._getRecaptchaConfig())try{await ua(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Xr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},a=ca(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===oa){Xr((null===n||void 0===n?void 0:n.type)===ho,e,"argument-error");return Va(e,await po(e,t,n))}return Va(e,t)}),"PHONE_PROVIDER");return(await a.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Xr("signin"===t.type,e,"internal-error");const a=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Xr(a,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},s=ca(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===oa){Xr((null===n||void 0===n?void 0:n.type)===ho,e,"argument-error");return uo(e,await po(e,t,n))}return uo(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=ca(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===oa){Xr((null===n||void 0===n?void 0:n.type)===ho,e,"argument-error");return xa(e,await po(e,t,n))}return xa(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function po(e,t,n){Xr(n.type===ho,e,"argument-error");const r=await n.verify();Xr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class mo{constructor(e){this.providerId=mo.PROVIDER_ID,this.auth=Ji(e)}verifyPhoneNumber(e,t){return fo(this.auth,e,un(t))}static credential(e,t){return ja._fromVerification(e,t)}static credentialFromResult(e){const t=e;return mo.credentialFromTaggedObject(t)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?ja._fromTokenResponse(n,r):null}}function go(e,t){return t?Pi(t):(Xr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}mo.PROVIDER_ID="phone",mo.PHONE_SIGN_IN_METHOD="phone";class yo extends pa{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return va(e,this._buildIdpRequest())}_linkToIdToken(e,t){return va(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return va(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function vo(e){return Fa(e.auth,new yo(e),e.bypassAuthState)}function bo(e){const{auth:t,user:n}=e;return Xr(n,t,"internal-error"),La(n,new yo(e),e.bypassAuthState)}async function xo(e){const{auth:t,user:n}=e;return Xr(n,t,"internal-error"),Ra(n,new yo(e),e.bypassAuthState)}class wo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch($$){this.reject($$)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a)return void this.reject(a);const s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch($$){this.reject($$)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vo;case"linkViaPopup":case"linkViaRedirect":return xo;case"reauthViaPopup":case"reauthViaRedirect":return bo;default:Wr(this.auth,"internal-error")}}resolve(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Jr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jo=new ri(2e3,1e4);class So extends wo{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xr(e,this.auth,"internal-error"),e}async onExecution(){Jr(1===this.filter.length,"Popup operations only handle one event");const e=Qa();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Kr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Kr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,jo.get())};e()}}So.currentPopupAction=null;const ko=new Map;class Eo extends wo{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ko.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Oo(t),r=Co(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch($$){e=()=>Promise.reject($$)}ko.set(this.auth._key(),e)}return this.bypassAuthState||ko.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function To(e,t){ko.set(e._key(),t)}function Co(e){return Pi(e._redirectPersistence)}function Oo(e){return Ri("pendingRedirect",e.config.apiKey,e.name)}async function _o(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Sr(e.app))return Promise.reject(Yr(e));const r=Ji(e),i=go(r,t),a=new Eo(r,i,n),o=await a.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class No{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Io(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Io(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ao(e))}saveEventToCache(e){this.cachedEventUids.add(Ao(e)),this.lastProcessedEventTime=Date.now()}}function Ao(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Io(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Po=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Do=/^https?/;async function Mo(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ci(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ro(r))return}catch(n){}Wr(e,"unauthorized-domain")}function Ro(e){const t=ei(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Do.test(n))return!1;if(Po.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Lo=new ri(3e4,6e4);function Fo(){const e=Za().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Uo(e){return new Promise(((t,n)=>{var r,i,a;function o(){Fo(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Fo(),n(Kr(e,"network-request-failed"))},timeout:Lo.get()})}if(null===(i=null===(r=Za().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Za().gapi)||void 0===a?void 0:a.load)){const t=ra("iframefcb");return Za()[t]=()=>{gapi.load?o():n(Kr(e,"network-request-failed"))},na(`${ta.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw Bo=null,e}))}let Bo=null;const zo=new ri(5e3,15e3),Vo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$o=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qo(e){const t=e.config;Xr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?ii(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Tr},i=$o.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${rn(r).slice(1)}`}async function Ho(e){const t=await function(e){return Bo=Bo||Uo(e),Bo}(e),n=Za().gapi;return Xr(n,e,"internal-error"),t.open({where:document.body,url:qo(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vo,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Kr(e,"network-request-failed"),a=Za().setTimeout((()=>{r(i)}),zo.get());function o(){Za().clearTimeout(a),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Wo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ko{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch($$){}}}function Go(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},Wo),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Kt().toLowerCase();n&&(s=zi(c)?"_blank":n),Ui(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Wi(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Kt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new Ko(null);const d=window.open(t||"",s,u);Xr(d,e,"popup-blocked");try{d.focus()}catch($$){}return new Ko(d)}const Yo="__/auth/handler",Qo="emulator/auth/handler",Xo=encodeURIComponent("fac");async function Zo(e,t,n,r,i,a){Xr(e.config.authDomain,e,"auth-domain-config-required"),Xr(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Tr,eventId:i};if(t instanceof Ea){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof Ta){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const s=o;for(const u of Object.keys(s))void 0===s[u]&&delete s[u];const l=await e._getAppCheckToken(),c=l?`#${Xo}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Yo}`;return ii(t,Qo)}(e)}?${rn(s).slice(1)}${c}`}const Jo="webStorageSupport";const es=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ga,this._completeRedirectFn=_o,this._overrideRedirectResult=To}async _openPopup(e,t,n,r){var i;Jr(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Go(e,await Zo(e,t,n,ei(),r),Qa())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Za().location.href=e}(await Zo(e,t,n,ei(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Jr(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Ho(e),n=new No(e);return t.register("authEvent",(t=>{Xr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Jo,{type:Jo},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Jo];void 0!==i&&t(!!i),Wr(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Mo(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Gi()||Bi()||Wi()}};var ts="@firebase/auth",ns="1.9.1";class rs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const is=Ht("authIdTokenMaxAge")||300;let as=null;var os;ta={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Kr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},os="Browser",wr(new dn("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:o,authDomain:s}=r.options;Xr(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:s,clientPlatform:os,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yi(os)},c=new Zi(r,i,a,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),wr(new dn("auth-internal",(e=>(e=>new rs(e))(Ji(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),_r(ts,ns,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(os)),_r(ts,ns,"esm2017");_r("firebase","11.4.0","app");const ss="@firebase/installations",ls="0.6.13",cs=1e4,us=`w:${ls}`,ds="FIS_v2",hs=36e5,fs=new Jt("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ps(e){return e instanceof Zt&&e.code.includes("request-failed")}function ms(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function gs(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function ys(e,t){const n=(await t.json()).error;return fs.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function vs(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function bs(e,t){let{refreshToken:n}=t;const r=vs(e);return r.append("Authorization",function(e){return`${ds} ${e}`}(n)),r}async function xs(e){const t=await e();return t.status>=500&&t.status<600?e():t}function ws(e){return new Promise((t=>{setTimeout(t,e)}))}const js=/^[cdef][\w-]{21}$/;function Ss(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=function(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return js.test(t)?t:""}catch(e){return""}}function ks(e){return`${e.appName}!${e.appId}`}const Es=new Map;function Ts(e,t){const n=ks(e);Cs(n,t),function(e,t){const n=_s();n&&n.postMessage({key:e,fid:t});Ns()}(n,t)}function Cs(e,t){const n=Es.get(e);if(n)for(const r of n)r(t)}let Os=null;function _s(){return!Os&&"BroadcastChannel"in self&&(Os=new BroadcastChannel("[Firebase] FID Change"),Os.onmessage=e=>{Cs(e.data.key,e.data.fid)}),Os}function Ns(){0===Es.size&&Os&&(Os.close(),Os=null)}const As="firebase-installations-store";let Is=null;function Ps(){return Is||(Is=Dn("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(As)}})),Is}async function Ds(e,t){const n=ks(e),r=(await Ps()).transaction(As,"readwrite"),i=r.objectStore(As),a=await i.get(n);return await i.put(t,n),await r.done,a&&a.fid===t.fid||Ts(e,t.fid),t}async function Ms(e){const t=ks(e),n=(await Ps()).transaction(As,"readwrite");await n.objectStore(As).delete(t),await n.done}async function Rs(e,t){const n=ks(e),r=(await Ps()).transaction(As,"readwrite"),i=r.objectStore(As),a=await i.get(n),o=t(a);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||a&&a.fid===o.fid||Ts(e,o.fid),o}async function Ls(e){let t;const n=await Rs(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Ss(),registrationStatus:0};return Bs(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(fs.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const a=ms(n),o=vs(n),s=r.getImmediate({optional:!0});if(s){const e=await s.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:ds,appId:n.appId,sdkVersion:us},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await xs((()=>fetch(a,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:gs(e.authToken)}}throw await ys("Create Installation",u)}(e,t);return Ds(e.appConfig,n)}catch($$){throw ps($$)&&409===$$.customData.serverCode?await Ms(e.appConfig):await Ds(e.appConfig,{fid:t.fid,registrationStatus:0}),$$}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Fs(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Fs(e){let t=await Us(e.appConfig);for(;1===t.registrationStatus;)await ws(100),t=await Us(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Ls(e);return n||t}return t}function Us(e){return Rs(e,(e=>{if(!e)throw fs.create("installation-not-found");return Bs(e)}))}function Bs(e){return 1===(t=e).registrationStatus&&t.registrationTime+cs<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function zs(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${ms(e)}/${n}/authTokens:generate`}(n,t),a=bs(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const s={installation:{sdkVersion:us,appId:n.appId}},l={method:"POST",headers:a,body:JSON.stringify(s)},c=await xs((()=>fetch(i,l)));if(c.ok){return gs(await c.json())}throw await ys("Generate Auth Token",c)}async function Vs(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Rs(e.appConfig,(r=>{if(!qs(r))throw fs.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+hs}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await $s(e.appConfig);for(;1===n.authToken.requestStatus;)await ws(100),n=await $s(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Vs(e,t):r}(e,n),r;{if(!navigator.onLine)throw fs.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await zs(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Ds(e.appConfig,r),n}catch($$){if(!ps($$)||401!==$$.customData.serverCode&&404!==$$.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Ds(e.appConfig,n)}else await Ms(e.appConfig);throw $$}}(e,n),n}}));return t?await t:r.authToken}function $s(e){return Rs(e,(e=>{if(!qs(e))throw fs.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+cs<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function qs(e){return void 0!==e&&2===e.registrationStatus}async function Hs(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Ls(e);t&&await t}(n);return(await Vs(n,t)).token}function Ws(e){return fs.create("missing-app-config-values",{valueName:e})}const Ks="installations",Gs=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Ws("App Configuration");if(!e.name)throw Ws("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Ws(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:jr(t,"heartbeat"),_delete:()=>Promise.resolve()}},Ys=e=>{const t=jr(e.getProvider("app").getImmediate(),Ks).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Ls(t);return r?r.catch(console.error):Vs(t).catch(console.error),n.fid}(t),getToken:e=>Hs(t,e)}};wr(new dn(Ks,Gs,"PUBLIC")),wr(new dn("installations-internal",Ys,"PRIVATE")),_r(ss,ls),_r(ss,ls,"esm2017");const Qs="analytics",Xs="https://www.googletagmanager.com/gtag/js",Zs=new wn("@firebase/analytics"),Js=new Jt("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function el(e){if(!e.startsWith(Xs)){const t=Js.create("invalid-gtag-resource",{gtagURL:e});return Zs.warn(t.message),""}return e}function tl(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function nl(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:el}),r=document.createElement("script"),i=`${Xs}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function rl(e,t,n,r){return async function(i){try{for(var a=arguments.length,o=new Array(a>1?a-1:0),s=1;s<a;s++)o[s-1]=arguments[s];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let a=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await tl(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){a=[];break}a.push(i)}}0===a.length&&(a=Object.values(t)),await Promise.all(a),e("event",r,i||{})}catch($$){Zs.error($$)}}(e,t,n,r,i)}else if("config"===i){const[i,a]=o;await async function(e,t,n,r,i,a){const o=r[i];try{if(o)await t[o];else{const e=(await tl(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch($$){Zs.error($$)}e("config",i,a)}(e,t,n,r,i,a)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch($$){Zs.error($$)}}}const il=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function al(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ol(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:il,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:a}=e.options;if(!r)throw Js.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:r};throw Js.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new ll;return setTimeout((async()=>{s.abort()}),void 0!==n?n:6e4),sl({appId:r,apiKey:i,measurementId:a},o,s,t)}async function sl(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:il;var o;const{appId:s,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(a),r(Js.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch($$){if(l)return Zs.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===$$||void 0===$$?void 0:$$.message}]`),{appId:s,measurementId:l};throw $$}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:al(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(a,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(s){}throw Js.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return a.deleteThrottleMetadata(s),t}catch($$){const r=$$;if(!function(e){if(!(e instanceof Zt)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(a.deleteThrottleMetadata(s),l)return Zs.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:s,measurementId:l};throw $$}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?cn(i,a.intervalMillis,30):cn(i,a.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return a.setThrottleMetadata(s,u),Zs.debug(`Calling attemptFetch again in ${c} millis`),sl(e,u,n,a)}}class ll{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let cl,ul;function dl(e){ul=e}function hl(e){cl=e}async function fl(e,t,n,r,i,a,o){var s;const l=ol(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Zs.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>Zs.error(e))),t.push(l);const c=async function(){if(!Qt())return Zs.warn(Js.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Xt()}catch($$){return Zs.warn(Js.create("indexeddb-unavailable",{errorInfo:null===$$||void 0===$$?void 0:$$.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(Xs)&&n.src.includes(e))return n;return null})(a)||nl(a,u.measurementId),ul&&(i("consent","default",ul),dl(void 0)),i("js",new Date);const h=null!==(s=null===o||void 0===o?void 0:o.config)&&void 0!==s?s:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),cl&&(i("set",cl),hl(void 0)),u.measurementId}class pl{constructor(e){this.app=e}_delete(){return delete ml[this.app.options.appId],Promise.resolve()}}let ml={},gl=[];const yl={};let vl,bl,xl="dataLayer",wl="gtag",jl=!1;function Sl(){const e=[];if(Gt()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=Js.create("invalid-analytics-context",{errorInfo:t});Zs.warn(n.message)}}function kl(e,t,n){Sl();const r=e.options.appId;if(!r)throw Js.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Js.create("no-api-key");Zs.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ml[r])throw Js.create("already-exists",{id:r});if(!jl){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(xl);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=rl(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}(ml,gl,yl,xl,wl);bl=e,vl=t,jl=!0}ml[r]=fl(e,gl,yl,t,vl,xl,n);return new pl(e)}function El(e,t,n,r){e=un(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(bl,ml[e.app.options.appId],t,n,r).catch((e=>Zs.error(e)))}const Tl="@firebase/analytics",Cl="0.10.12";wr(new dn(Qs,((e,t)=>{let{options:n}=t;return kl(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),wr(new dn("analytics-internal",(function(e){try{const t=e.getProvider(Qs).getImmediate();return{logEvent:(e,n,r)=>El(t,e,n,r)}}catch($$){throw Js.create("interop-component-reg-failed",{reason:$$})}}),"PRIVATE")),_r(Tl,Cl),_r(Tl,Cl,"esm2017");var Ol,_l,Nl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Al={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,a=this.h,o=0;o<t;){if(0==a)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[a++]=e.charCodeAt(o++),a==this.blockSize){n(this,i),a=0;break}}else for(;o<t;)if(i[a++]=e[o++],a==this.blockSize){n(this,i),a=0;break}}this.h=a,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function a(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return s;if(0>e)return h(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var s=a(0),l=a(1),c=a(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(h(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(s,s);if(d(e))return t=g(h(e),t),new m(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new m(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),a=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=a.add(r);0>=c.l(e)&&(i=i.add(n),a=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=s;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(a=o(n)).j(t);d(c)||0<c.l(e);)c=(a=o(n-=r)).j(t);u(a)&&(a=l),i=i.add(a),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,a=[],o=0;o<i;o++)a[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(a,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,a=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,a=0;a<=t;a++){var o=i+(65535&this.i(a))+(65535&e.i(a)),s=(o>>>16)+(this.i(a)>>>16)+(e.i(a)>>>16);i=s>>>16,o&=65535,s&=65535,n[a]=s<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return s;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var a=0;a<e.g.length;a++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(a)>>>16,g=65535&e.i(a);n[2*i+2*a]+=f*g,p(n,2*i+2*a),n[2*i+2*a+1]+=l*g,p(n,2*i+2*a+1),n[2*i+2*a+1]+=f*m,p(n,2*i+2*a+1),n[2*i+2*a+2]+=l*m,p(n,2*i+2*a+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,_l=Al.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=s,a=0;a<t.length;a+=8){var l=Math.min(8,t.length-a),c=parseInt(t.substring(a,a+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Ol=Al.Integer=r}).apply("undefined"!==typeof Nl?Nl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Il,Pl,Dl,Ml,Rl,Ll,Fl,Ul,Bl="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},zl={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Bl&&Bl];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break e;i=i[o]}(r=r(a=i[e=e[e.length-1]]))!=a&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function s(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?s:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(a(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=_;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var E=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,O=!1,_=new class{constructor(){this.h=this.g=null}add(e,t){const n=E.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},N=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(Gj){S(Gj)}var t=E;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}O=!1};function I(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}I.prototype.s=!1,I.prototype.ma=function(){this.s||(this.s=!0,this.N())},I.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(Gj){}return e}();function M(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:R[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}d(M,P);var R={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var L="closure_listenable_"+(1e6*Math.random()|0),F=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++F,this.da=this.fa=!1}function B(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function V(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Array.prototype.indexOf.call(i,t,void 0);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(B(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=$(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var q="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return G(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)W(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.K(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var s=o(i)?!!i.capture:!!i,l=J(e);if(l||(e[q]=l=new z(e)),(n=l.add(t,n,r,s,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Z;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(X(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function G(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)G(e,t[a],n,r,i);return null}return n=te(n),e&&e[L]?e.L(t,n,o(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Y(e,t[a],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[L]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(a=e.g[t],n,r,i))&&(B(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=J(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[L])V(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(X(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=J(t))?(V(n,e),0==n.h&&(n.src=null,t[q]=null)):B(e)}}}function X(e){return e in H?H[e]:H[e]="on"+e}function Z(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function J(e){return(e=e[q])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){I.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;w(t=new P(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=ie(o=t.g=n[a],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.da&&o.capture==n){var s=o.listener,l=o.ha||o.src;o.fa&&V(e.i,o),i=!1!==s.call(l,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,I),ne.prototype[L]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)B(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class se extends I{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){I.call(this),this.h=e,this.g={}}d(le,I);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){P.call(this,"d")}function be(){P.call(this,"c")}d(ve,P),d(be,P);var xe={},we=null;function je(){return we=we||new ne}function Se(e){P.call(this,xe.La,e)}function ke(e){const t=je();re(t,new Se(t))}function Ee(e,t){P.call(this,xe.STAT_EVENT,e),this.stat=t}function Te(e){const t=je();re(t,new Ee(t,e))}function Ce(e,t){P.call(this,xe.Ma,e),this.size=t}function Oe(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function _e(){this.g=!0}function Ne(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return de(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(Se,P),xe.STAT_EVENT="statevent",d(Ee,P),xe.Ma="timingevent",d(Ce,P),_e.prototype.xa=function(){this.g=!1},_e.prototype.info=function(){};var Ae,Ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Re}function Re(){this.i=null,this.g="",this.h=!1}d(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Ae=new De;var Le={},Fe={};function Ue(e,t,n){e.L=1,e.v=dt(ot(t)),e.m=n,e.P=!0,Be(e,null)}function Be(e,t){e.F=Date.now(),$e(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Re,e.g=hn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new se(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var a=0;a<i.length;a++){var o=W(n,i[a],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),l=0;l<s.length;l++){var c=s[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ve(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Fe:(n=Number(t.substring(n,r)),isNaN(n)?Le:(r+=1)+n>t.length?Fe:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,qe(e,e.I)}function qe(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Oe(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||sn(e.j,e)}function Ke(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ge(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Je(n.h,e)))if(!e.K&&Je(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}nn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Oe(c(n.Za,n),6e3));if(1>=Ze(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else cn(n,11)}else if((e.K||n.g==e)&&on(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var a=r.h;a.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(et(a,a.h),a.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var s=o,l=r.L;l&&(s.I=l),s.B&&(He(s),$e(s)),r.g=o}else tn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||cn(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?cn(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=h||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Ht(this.g);e="";var a=r.length,o=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),We(this);var s="";break t}this.h.i=new i.TextDecoder}for(t=0;t<a;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==a-1)});r.length=0,this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ke(this),We(this);break e}Ne(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ge(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<s.length;){if(e=Ve(this,s),e==Fe){4==h&&(this.s=4,Te(14),n=!1),Ne(this.i,this.l,null,"[Incomplete Response]");break}if(e==Le){this.s=4,Te(15),Ne(this.i,this.l,s,"[Invalid Chunk]"),n=!1;break}Ne(this.i,this.l,e,null),Ge(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=s.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<s.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),rn(d),d.M=!0,Te(11))}}else Ne(this.i,this.l,s,"[Invalid Chunked Response]"),Ke(this),We(this)}else Ne(this.i,this.l,s,null),Ge(this,s);4==h&&Ke(this),this.o&&!this.J&&(4==h?sn(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=j(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const a=t[i]||[];t[i]=a,a.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<s.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ke(this),We(this)}}}catch(h){}},Me.prototype.cancel=function(){this.J=!0,Ke(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ke(this),this.s=2,We(this)):qe(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xe(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Ze(e){return e.h?1:e.g?e.g.size:0}function Je(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(a(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,st(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new xt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,st(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new xt(null,this.h))}function ot(e){return new at(e)}function st(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof xt?(e.i=t,function(e,t){t&&!e.j&&(wt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(jt(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,vt)),e.i=new xt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?yt:gt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,bt)),e.join("")};var mt=/[#\/\?@]/g,gt=/[#\?:]/g,yt=/[#\?]/g,vt=/[#\?@]/g,bt=/#/g;function xt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function wt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function jt(e,t){wt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function St(e,t){return wt(e),t=Et(e,t),e.g.has(t)}function kt(e,t,n){jt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Tt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(a){}}function Ct(){this.g=new fe}function Ot(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch($$){throw t.push(r+"type="+encodeURIComponent("_badmap")),$$}}function _t(e){this.l=e.Ub||null,this.j=e.eb||!1}function Nt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function At(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function It(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Mt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Rt(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=xt.prototype).add=function(e,t){wt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){wt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){wt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){wt(this);let t=[];if("string"===typeof e)St(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return wt(this),this.i=null,St(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const a=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=a;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},d(_t,pe),_t.prototype.g=function(){return new Nt(this.l,this.j)},_t.prototype.i=function(e){return function(){return e}}({}),d(Nt,ne),(e=Nt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,It(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;At(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?It(this):Pt(this),3==this.readyState&&At(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,It(this))},e.Qa=function(e){this.g&&(this.response=e,It(this))},e.ga=function(){this.g&&It(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Nt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Rt,ne);var Lt=/^https?$/i,Ft=["POST","PUT"];function Ut(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Bt(e),Vt(e)}function Bt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function zt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))ae(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var a;if(a=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),a=!Lt.test(o?o.toLowerCase():"")}n=a}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var s=2<qt(e)?e.g.statusText:""}catch(l){s=""}e.l=s+" ["+e.Z()+"]",Bt(e)}}finally{Vt(e)}}}function Vt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch($$){}}}function $t(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Vl){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new _e,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Qt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),Jt(e,n),(t=new Me(e,e.j,t)).L=2,t.v=dt(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=hn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}un(e)}function Yt(e){e.g&&(rn(e),e.g.cancel(),e.g=null)}function Qt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Xe(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||N(),O||(C(),O=!0),_.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),Jt(e,r),e.m&&e.o&&Mt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=en(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function Jt(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function en(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let s=0;s<n;s++){let n=i[s].g;const l=i[s].map;if(n-=t,0>n)t=Math.max(0,i[s].g-100),o=!1;else try{Ot(l,e,"req"+n+"_")}catch(a){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function tn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||N(),O||(C(),O=!0),_.add(t,e),e.v=0}}function nn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Oe(c(e.Fa,e),ln(e,e.v)),e.v++,!0)}function rn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),Jt(e,t),e.m&&e.o&&Mt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(ot(t)),n.m=null,n.P=!0,Be(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function sn(e,t){var n=null;if(e.g==t){on(e),rn(e),e.g=null;var r=2}else{if(!Je(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=je(),new Ce(r,n)),Xt(e)}else tn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Ze(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Oe(c(e.Ga,e,t),ln(e,e.B)),e.B++,!0))}(e,t)||2==r&&nn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:cn(e,5);break;case 4:cn(e,10);break;case 3:cn(e,6);break;default:cn(e,2)}}function ln(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function cn(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||st(r,"https"),dt(r),t?function(e,t){const n=new _e;if(i.Image){const r=new Image;r.onload=u(Tt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Tt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Tt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Tt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new _e;const n=new AbortController,r=setTimeout((()=>{n.abort(),Tt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Tt(0,0,!0,t):Tt(0,0,!1,t)})).catch((()=>{clearTimeout(r),Tt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),un(e),Qt(e)}function un(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof at?ot(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var a=i.location;r=a.protocol,t=t?t+"."+a.hostname:a.hostname,a=+a.port;var o=new at(null);r&&st(o,r),t&&(o.g=t),a&&lt(o,a),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),Jt(e,r),r}function hn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Rt(new _t({eb:n})):new Rt(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function mn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new vn(this)}function gn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function vn(e){this.g=e}(e=Rt.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?me(this.o):me(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Ut(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var a in r)n.set(a,r[a]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),a=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ft,t,void 0))||r||a||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Ut(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Vt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vt(this,!0)),Rt.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?zt(this):this.bb())},e.bb=function(){zt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(Xj){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(Xj){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let a=this.o;if(this.S&&(a?(a=b(a),w(a,this.S)):a=this.S),null!==this.m||this.O||(i.H=a,a=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=en(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),Jt(this,n),a&&(this.O?t="headers="+encodeURIComponent(String(Dt(a)))+"&"+t:this.m&&Mt(n,this.m,a)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Xe(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Oe(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),nn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new mn(e,t)},d(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&Xt(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)},d(gn,ve),d(yn,be),d(vn,fn),vn.prototype.ua=function(){re(this.g,"a")},vn.prototype.ta=function(e){re(this.g,new gn(e))},vn.prototype.sa=function(e){re(this.g,new yn)},vn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ul=zl.createWebChannelTransport=function(){return new pn},Fl=zl.getStatEventTarget=function(){return je()},Ll=zl.Event=xe,Rl=zl.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ie.NO_ERROR=0,Ie.TIMEOUT=8,Ie.HTTP_ERROR=6,Ml=zl.ErrorCode=Ie,Pe.COMPLETE="complete",Dl=zl.EventType=Pe,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Pl=zl.WebChannel=ge,zl.FetchXmlHttpFactory=_t,Rt.prototype.listenOnce=Rt.prototype.L,Rt.prototype.getLastError=Rt.prototype.Ka,Rt.prototype.getLastErrorCode=Rt.prototype.Ba,Rt.prototype.getStatus=Rt.prototype.Z,Rt.prototype.getResponseJson=Rt.prototype.Oa,Rt.prototype.getResponseText=Rt.prototype.oa,Rt.prototype.send=Rt.prototype.ea,Rt.prototype.setWithCredentials=Rt.prototype.Ha,Il=zl.XhrIo=Rt}).apply("undefined"!==typeof Bl?Bl:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const Vl="@firebase/firestore",$l="4.7.9";class ql{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ql.UNAUTHENTICATED=new ql(null),ql.GOOGLE_CREDENTIALS=new ql("google-credentials-uid"),ql.FIRST_PARTY=new ql("first-party-uid"),ql.MOCK_USER=new ql("mock-user");let Hl="11.4.0";const Wl=new wn("@firebase/firestore");function Kl(){return Wl.logLevel}function Gl(e){if(Wl.logLevel<=gn.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Xl);Wl.debug(`Firestore (${Hl}): ${e}`,...i)}}function Yl(e){if(Wl.logLevel<=gn.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Xl);Wl.error(`Firestore (${Hl}): ${e}`,...i)}}function Ql(e){if(Wl.logLevel<=gn.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Xl);Wl.warn(`Firestore (${Hl}): ${e}`,...i)}}function Xl(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Zl(){const e=`FIRESTORE (${Hl}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Yl(e),new Error(e)}function Jl(e,t){e||Zl()}function ec(e,t){return e}const tc={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class nc extends Zt{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class rc{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class ic{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ac{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ql.UNAUTHENTICATED)))}shutdown(){}}class oc{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class sc{constructor(e){this.t=e,this.currentUser=ql.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Jl(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new rc;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new rc,e.enqueueRetryable((()=>r(this.currentUser)))};const a=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Gl("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Gl("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new rc)}}),0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Gl("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Jl("string"==typeof t.accessToken),new ic(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Jl(null===e||"string"==typeof e),new ql(e)}}class lc{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ql.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class cc{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new lc(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ql.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uc{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dc{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Sr(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Jl(void 0===this.o);const n=e=>{null!=e.error&&Gl("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,Gl("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Gl("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Gl("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.V)return Promise.resolve(new uc(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Jl("string"==typeof e.token),this.R=e.token,new uc(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function hc(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class fc{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=hc(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function pc(e,t){return e<t?-1:e>t?1:0}function mc(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const gc=-62135596800,yc=1e6;class vc{static now(){return vc.fromMillis(Date.now())}static fromDate(e){return vc.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*yc);return new vc(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new nc(tc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new nc(tc.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<gc)throw new nc(tc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new nc(tc.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yc}_compareTo(e){return this.seconds===e.seconds?pc(this.nanoseconds,e.nanoseconds):pc(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-gc;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bc{static fromTimestamp(e){return new bc(e)}static min(){return new bc(new vc(0,0))}static max(){return new bc(new vc(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const xc="__name__";class wc{constructor(e,t,n){void 0===t?t=0:t>e.length&&Zl(),void 0===n?n=e.length-t:n>e.length-t&&Zl(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===wc.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof wc?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=wc.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return Math.sign(e.length-t.length)}static compareSegments(e,t){const n=wc.isNumericId(e),r=wc.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?wc.extractNumericId(e).compare(wc.extractNumericId(t)):e<t?-1:e>t?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ol.fromString(e.substring(4,e.length-2))}}class jc extends wc{construct(e,t,n){return new jc(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new nc(tc.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new jc(e)}static emptyPath(){return new jc([])}}const Sc=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kc extends wc{construct(e,t,n){return new kc(e,t,n)}static isValidIdentifier(e){return Sc.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kc.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===xc}static keyField(){return new kc([xc])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new nc(tc.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let a=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new nc(tc.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new nc(tc.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(a=!a,r++):"."!==t||a?(n+=t,r++):(i(),r++)}if(i(),a)throw new nc(tc.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kc(t)}static emptyPath(){return new kc([])}}class Ec{constructor(e){this.path=e}static fromPath(e){return new Ec(jc.fromString(e))}static fromName(e){return new Ec(jc.fromString(e).popFirst(5))}static empty(){return new Ec(jc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jc.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jc.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ec(new jc(e.slice()))}}const Tc=-1;class Cc{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Cc.UNKNOWN_ID=-1;function Oc(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=bc.fromTimestamp(1e9===r?new vc(n+1,0):new vc(n,r));return new Nc(i,Ec.empty(),t)}function _c(e){return new Nc(e.readTime,e.key,Tc)}class Nc{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Nc(bc.min(),Ec.empty(),Tc)}static max(){return new Nc(bc.max(),Ec.empty(),Tc)}}function Ac(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ec.comparator(e.documentKey,t.documentKey),0!==n?n:pc(e.largestBatchId,t.largestBatchId))}const Ic="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Dc(e){if(e.code!==tc.FAILED_PRECONDITION||e.message!==Ic)throw e;Gl("LocalStore","Unexpectedly lost primary lease")}class Mc{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Zl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Mc(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Mc?t:Mc.resolve(t)}catch(e){return Mc.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Mc.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Mc.reject(t)}static resolve(e){return new Mc(((t,n)=>{t(e)}))}static reject(e){return new Mc(((t,n)=>{n(e)}))}static waitFor(e){return new Mc(((t,n)=>{let r=0,i=0,a=!1;e.forEach((e=>{++r,e.next((()=>{++i,a&&i===r&&t()}),(e=>n(e)))})),a=!0,i===r&&t()}))}static or(e){let t=Mc.resolve(!1);for(const n of e)t=t.next((e=>e?Mc.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Mc(((n,r)=>{const i=e.length,a=new Array(i);let o=0;for(let s=0;s<i;s++){const l=s;t(e[l]).next((e=>{a[l]=e,++o,o===i&&n(a)}),(e=>r(e)))}}))}static doWhile(e,t){return new Mc(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Rc(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Lc(e){return"IndexedDbTransactionError"===e.name}class Fc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Fc.ae=-1;const Uc=-1;function Bc(e){return null==e}function zc(e){return 0===e&&1/e==-1/0}function Vc(e){return"number"==typeof e&&Number.isInteger(e)&&!zc(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const $c="\x01";function qc(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Wc(t)),t=Hc(e.get(n),t);return Wc(t)}function Hc(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case $c:n+="\x01\x11";break;default:n+=t}}return n}function Wc(e){return e+$c+"\x01"}const Kc="remoteDocuments",Gc="owner",Yc="mutationQueues",Qc="mutations";const Xc="documentMutations",Zc="remoteDocumentsV14",Jc="remoteDocumentGlobal",eu="targets",tu="targetDocuments",nu="targetGlobal",ru="collectionParents",iu="clientMetadata",au="bundles",ou="namedQueries",su="indexConfiguration",lu="indexState",cu="indexEntries",uu="documentOverlays",du="globals",hu=[Yc,Qc,Xc,Kc,eu,Gc,nu,tu,iu,Jc,ru,au,ou],fu=[Yc,Qc,Xc,Zc,eu,Gc,nu,tu,iu,Jc,ru,au,ou,uu],pu=fu,mu=[...pu,su,lu,cu];function gu(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yu(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function vu(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class bu{constructor(e,t){this.comparator=e,this.root=t||wu.EMPTY}insert(e,t){return new bu(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,wu.BLACK,null,null))}remove(e){return new bu(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wu.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xu(this.root,e,this.comparator,!1)}getReverseIterator(){return new xu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xu(this.root,e,this.comparator,!0)}}class xu{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wu{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:wu.RED,this.left=null!=r?r:wu.EMPTY,this.right=null!=i?i:wu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new wu(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return wu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return wu.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Zl();if(this.right.isRed())throw Zl();const e=this.left.check();if(e!==this.right.check())throw Zl();return e+(this.isRed()?0:1)}}wu.EMPTY=null,wu.RED=!0,wu.BLACK=!1,wu.EMPTY=new class{constructor(){this.size=0}get key(){throw Zl()}get value(){throw Zl()}get color(){throw Zl()}get left(){throw Zl()}get right(){throw Zl()}copy(e,t,n,r,i){return this}insert(e,t,n){return new wu(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ju{constructor(e){this.comparator=e,this.data=new bu(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Su(this.data.getIterator())}getIteratorFrom(e){return new Su(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ju))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ju(this.comparator);return t.data=e,t}}class Su{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ku{constructor(e){this.fields=e,e.sort(kc.comparator)}static empty(){return new ku([])}unionWith(e){let t=new ju(kc.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new ku(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return mc(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Eu extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Tu{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Eu("Invalid base64 string: "+e):e}}(e);return new Tu(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Tu(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return pc(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Tu.EMPTY_BYTE_STRING=new Tu("");const Cu=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ou(e){if(Jl(!!e),"string"==typeof e){let t=0;const n=Cu.exec(e);if(Jl(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_u(e.seconds),nanos:_u(e.nanos)}}function _u(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Nu(e){return"string"==typeof e?Tu.fromBase64String(e):Tu.fromUint8Array(e)}const Au="server_timestamp",Iu="__type__",Pu="__previous_value__",Du="__local_write_time__";function Mu(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[Iu])||void 0===n?void 0:n.stringValue)===Au}function Ru(e){const t=e.mapValue.fields[Pu];return Mu(t)?Ru(t):t}function Lu(e){const t=Ou(e.mapValue.fields[Du].timestampValue);return new vc(t.seconds,t.nanos)}class Fu{constructor(e,t,n,r,i,a,o,s,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=l}}const Uu="(default)";class Bu{constructor(e,t){this.projectId=e,this.database=t||Uu}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===Uu}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}const zu="__type__",Vu="__max__",$u={mapValue:{fields:{__type__:{stringValue:Vu}}}},qu="__vector__",Hu="value";function Wu(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Mu(e)?4:cd(e)?9007199254740991:sd(e)?10:11:Zl()}function Ku(e,t){if(e===t)return!0;const n=Wu(e);if(n!==Wu(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Lu(e).isEqual(Lu(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ou(e.timestampValue),r=Ou(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Nu(e.bytesValue).isEqual(Nu(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _u(e.geoPointValue.latitude)===_u(t.geoPointValue.latitude)&&_u(e.geoPointValue.longitude)===_u(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _u(e.integerValue)===_u(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=_u(e.doubleValue),r=_u(t.doubleValue);return n===r?zc(n)===zc(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return mc(e.arrayValue.values||[],t.arrayValue.values||[],Ku);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(gu(n)!==gu(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ku(n[i],r[i])))return!1;return!0}(e,t);default:return Zl()}}function Gu(e,t){return void 0!==(e.values||[]).find((e=>Ku(e,t)))}function Yu(e,t){if(e===t)return 0;const n=Wu(e),r=Wu(t);if(n!==r)return pc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return pc(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=_u(e.integerValue||e.doubleValue),r=_u(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qu(e.timestampValue,t.timestampValue);case 4:return Qu(Lu(e),Lu(t));case 5:return pc(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Nu(e),r=Nu(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=pc(n[i],r[i]);if(0!==e)return e}return pc(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=pc(_u(e.latitude),_u(t.latitude));return 0!==n?n:pc(_u(e.longitude),_u(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Xu(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,a;const o=e.fields||{},s=t.fields||{},l=null===(n=o[Hu])||void 0===n?void 0:n.arrayValue,c=null===(r=s[Hu])||void 0===r?void 0:r.arrayValue,u=pc((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(a=null==c?void 0:c.values)||void 0===a?void 0:a.length)||0);return 0!==u?u:Xu(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===$u.mapValue&&t===$u.mapValue)return 0;if(e===$u.mapValue)return 1;if(t===$u.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let o=0;o<r.length&&o<a.length;++o){const e=pc(r[o],a[o]);if(0!==e)return e;const t=Yu(n[r[o]],i[a[o]]);if(0!==t)return t}return pc(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zl()}}function Qu(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return pc(e,t);const n=Ou(e),r=Ou(t),i=pc(n.seconds,r.seconds);return 0!==i?i:pc(n.nanos,r.nanos)}function Xu(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Yu(n[i],r[i]);if(e)return e}return pc(n.length,r.length)}function Zu(e){return Ju(e)}function Ju(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ou(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Nu(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ec.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ju(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ju(e.fields[i])}`;return n+"}"}(e.mapValue):Zl()}function ed(e){switch(Wu(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Ru(e);return t?16+ed(t):16;case 5:return 2*e.stringValue.length;case 6:return Nu(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+ed(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return yu(e.fields,((e,n)=>{t+=e.length+ed(n)})),t}(e.mapValue);default:throw Zl()}}function td(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function nd(e){return!!e&&"integerValue"in e}function rd(e){return!!e&&"arrayValue"in e}function id(e){return!!e&&"nullValue"in e}function ad(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function od(e){return!!e&&"mapValue"in e}function sd(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[zu])||void 0===n?void 0:n.stringValue)===qu}function ld(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yu(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=ld(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ld(e.arrayValue.values[n]);return t}return Object.assign({},e)}function cd(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===Vu}class ud{constructor(e){this.value=e}static empty(){return new ud({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!od(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ld(t)}setAll(e){let t=kc.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ld(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());od(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ku(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];od(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yu(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new ud(ld(this.value))}}function dd(e){const t=[];return yu(e.fields,((e,n)=>{const r=new kc([e]);if(od(n)){const e=dd(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new ku(t)}class hd{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(e){return new hd(e,0,bc.min(),bc.min(),bc.min(),ud.empty(),0)}static newFoundDocument(e,t,n,r){return new hd(e,1,t,bc.min(),n,r,0)}static newNoDocument(e,t){return new hd(e,2,t,bc.min(),bc.min(),ud.empty(),0)}static newUnknownDocument(e,t){return new hd(e,3,t,bc.min(),bc.min(),ud.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(bc.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ud.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ud.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bc.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hd&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hd(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fd{constructor(e,t){this.position=e,this.inclusive=t}}function pd(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Ec.comparator(Ec.fromName(o.referenceValue),n.key):Yu(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function md(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ku(e.position[n],t.position[n]))return!1;return!0}class gd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function yd(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class vd{}class bd extends vd{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Cd(e,t,n):"array-contains"===t?new Ad(e,n):"in"===t?new Id(e,n):"not-in"===t?new Pd(e,n):"array-contains-any"===t?new Dd(e,n):new bd(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Od(e,n):new _d(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Yu(t,this.value)):null!==t&&Wu(this.value)===Wu(t)&&this.matchesComparison(Yu(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zl()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class xd extends vd{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new xd(e,t)}matches(e){return wd(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function wd(e){return"and"===e.op}function jd(e){return Sd(e)&&wd(e)}function Sd(e){for(const t of e.filters)if(t instanceof xd)return!1;return!0}function kd(e){if(e instanceof bd)return e.field.canonicalString()+e.op.toString()+Zu(e.value);if(jd(e))return e.filters.map((e=>kd(e))).join(",");{const t=e.filters.map((e=>kd(e))).join(",");return`${e.op}(${t})`}}function Ed(e,t){return e instanceof bd?function(e,t){return t instanceof bd&&e.op===t.op&&e.field.isEqual(t.field)&&Ku(e.value,t.value)}(e,t):e instanceof xd?function(e,t){return t instanceof xd&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Ed(n,t.filters[r])),!0)}(e,t):void Zl()}function Td(e){return e instanceof bd?function(e){return`${e.field.canonicalString()} ${e.op} ${Zu(e.value)}`}(e):e instanceof xd?function(e){return e.op.toString()+" {"+e.getFilters().map(Td).join(" ,")+"}"}(e):"Filter"}class Cd extends bd{constructor(e,t,n){super(e,t,n),this.key=Ec.fromName(n.referenceValue)}matches(e){const t=Ec.comparator(e.key,this.key);return this.matchesComparison(t)}}class Od extends bd{constructor(e,t){super(e,"in",t),this.keys=Nd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class _d extends bd{constructor(e,t){super(e,"not-in",t),this.keys=Nd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Nd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ec.fromName(e.referenceValue)))}class Ad extends bd{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rd(t)&&Gu(t.arrayValue,this.value)}}class Id extends bd{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Gu(this.value.arrayValue,t)}}class Pd extends bd{constructor(e,t){super(e,"not-in",t)}matches(e){if(Gu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Gu(this.value.arrayValue,t)}}class Dd extends bd{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rd(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Gu(this.value.arrayValue,e)))}}class Md{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.le=null}}function Rd(e){return new Md(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Ld(e){const t=ec(e);if(null===t.le){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>kd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Bc(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Zu(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Zu(e))).join(",")),t.le=e}return t.le}function Fd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!yd(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Ed(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!md(e.startAt,t.startAt)&&md(e.endAt,t.endAt)}function Ud(e){return Ec.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Bd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function zd(e,t,n,r,i,a,o,s){return new Bd(e,t,n,r,i,a,o,s)}function Vd(e){return new Bd(e)}function $d(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function qd(e){return null!==e.collectionGroup}function Hd(e){const t=ec(e);if(null===t.he){t.he=[];const e=new Set;for(const i of t.explicitOrderBy)t.he.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ju(kc.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.he.push(new gd(r,n))})),e.has(kc.keyField().canonicalString())||t.he.push(new gd(kc.keyField(),n))}return t.he}function Wd(e){const t=ec(e);return t.Pe||(t.Pe=Kd(t,Hd(e))),t.Pe}function Kd(e,t){if("F"===e.limitType)return Rd(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new gd(e.field,t)}));const n=e.endAt?new fd(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new fd(e.startAt.position,e.startAt.inclusive):null;return Rd(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Gd(e,t){const n=e.filters.concat([t]);return new Bd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Yd(e,t,n){return new Bd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Qd(e,t){return Fd(Wd(e),Wd(t))&&e.limitType===t.limitType}function Xd(e){return`${Ld(Wd(e))}|lt:${e.limitType}`}function Zd(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Td(e))).join(", ")}]`),Bc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Zu(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Zu(e))).join(",")),`Target(${t})`}(Wd(e))}; limitType=${e.limitType})`}function Jd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ec.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Hd(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=pd(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Hd(e),t))&&!(e.endAt&&!function(e,t,n){const r=pd(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Hd(e),t))}(e,t)}function eh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function th(e){return(t,n)=>{let r=!1;for(const i of Hd(e)){const e=nh(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function nh(e,t,n){const r=e.field.isKeyField()?Ec.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Yu(r,i):Zl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zl()}}class rh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yu(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return vu(this.inner)}size(){return this.innerSize}}const ih=new bu(Ec.comparator);function ah(){return ih}const oh=new bu(Ec.comparator);function sh(){let e=oh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function lh(e){let t=oh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ch(){return dh()}function uh(){return dh()}function dh(){return new rh((e=>e.toString()),((e,t)=>e.isEqual(t)))}const hh=new bu(Ec.comparator),fh=new ju(Ec.comparator);function ph(){let e=fh;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const mh=new ju(pc);function gh(){return mh}function yh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zc(t)?"-0":t}}function vh(e){return{integerValue:""+e}}function bh(e,t){return Vc(t)?vh(t):yh(e,t)}class xh{constructor(){this._=void 0}}function wh(e,t,n){return e instanceof kh?function(e,t){const n={fields:{[Iu]:{stringValue:Au},[Du]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Mu(t)&&(t=Ru(t)),t&&(n.fields[Pu]=t),{mapValue:n}}(n,t):e instanceof Eh?Th(e,t):e instanceof Ch?Oh(e,t):function(e,t){const n=Sh(e,t),r=Nh(n)+Nh(e.Ie);return nd(n)&&nd(e.Ie)?vh(r):yh(e.serializer,r)}(e,t)}function jh(e,t,n){return e instanceof Eh?Th(e,t):e instanceof Ch?Oh(e,t):n}function Sh(e,t){return e instanceof _h?function(e){return nd(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class kh extends xh{}class Eh extends xh{constructor(e){super(),this.elements=e}}function Th(e,t){const n=Ah(t);for(const r of e.elements)n.some((e=>Ku(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Ch extends xh{constructor(e){super(),this.elements=e}}function Oh(e,t){let n=Ah(t);for(const r of e.elements)n=n.filter((e=>!Ku(e,r)));return{arrayValue:{values:n}}}class _h extends xh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Nh(e){return _u(e.integerValue||e.doubleValue)}function Ah(e){return rd(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Ih{constructor(e,t){this.field=e,this.transform=t}}class Ph{constructor(e,t){this.version=e,this.transformResults=t}}class Dh{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dh}static exists(e){return new Dh(void 0,e)}static updateTime(e){return new Dh(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Rh{}function Lh(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Kh(e.key,Dh.none()):new Vh(e.key,e.data,Dh.none());{const n=e.data,r=ud.empty();let i=new ju(kc.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new $h(e.key,r,new ku(i.toArray()),Dh.none())}}function Fh(e,t,n){e instanceof Vh?function(e,t,n){const r=e.value.clone(),i=Hh(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof $h?function(e,t,n){if(!Mh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Hh(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(qh(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Uh(e,t,n,r){return e instanceof Vh?function(e,t,n,r){if(!Mh(e.precondition,t))return n;const i=e.value.clone(),a=Wh(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof $h?function(e,t,n,r){if(!Mh(e.precondition,t))return n;const i=Wh(e.fieldTransforms,r,t),a=t.data;return a.setAll(qh(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Mh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Bh(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Sh(r.transform,e||null);null!=i&&(null===n&&(n=ud.empty()),n.set(r.field,i))}return n||null}function zh(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&mc(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Eh&&t instanceof Eh||e instanceof Ch&&t instanceof Ch?mc(e.elements,t.elements,Ku):e instanceof _h&&t instanceof _h?Ku(e.Ie,t.Ie):e instanceof kh&&t instanceof kh}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Vh extends Rh{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class $h extends Rh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function qh(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Hh(e,t,n){const r=new Map;Jl(e.length===n.length);for(let i=0;i<n.length;i++){const a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,jh(o,s,n[i]))}return r}function Wh(e,t,n){const r=new Map;for(const i of e){const e=i.transform,a=n.data.field(i.field);r.set(i.field,wh(e,a,t))}return r}class Kh extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gh extends Rh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Yh{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Fh(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Uh(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Uh(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=uh();return this.mutations.forEach((r=>{const i=e.get(r.key),a=i.overlayedDocument;let o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;const s=Lh(a,o);null!==s&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(bc.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ph())}isEqual(e){return this.batchId===e.batchId&&mc(this.mutations,e.mutations,((e,t)=>zh(e,t)))&&mc(this.baseMutations,e.baseMutations,((e,t)=>zh(e,t)))}}class Qh{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Jl(e.mutations.length===n.length);let r=hh;const i=e.mutations;for(let a=0;a<i.length;a++)r=r.insert(i[a].key,n[a].version);return new Qh(e,t,n,r)}}class Xh{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Zh{constructor(e,t){this.count=e,this.unchangedNames=t}}var Jh,ef;function tf(e){switch(e){case tc.OK:return Zl();case tc.CANCELLED:case tc.UNKNOWN:case tc.DEADLINE_EXCEEDED:case tc.RESOURCE_EXHAUSTED:case tc.INTERNAL:case tc.UNAVAILABLE:case tc.UNAUTHENTICATED:return!1;case tc.INVALID_ARGUMENT:case tc.NOT_FOUND:case tc.ALREADY_EXISTS:case tc.PERMISSION_DENIED:case tc.FAILED_PRECONDITION:case tc.ABORTED:case tc.OUT_OF_RANGE:case tc.UNIMPLEMENTED:case tc.DATA_LOSS:return!0;default:return Zl()}}function nf(e){if(void 0===e)return Yl("GRPC error has no .code"),tc.UNKNOWN;switch(e){case Jh.OK:return tc.OK;case Jh.CANCELLED:return tc.CANCELLED;case Jh.UNKNOWN:return tc.UNKNOWN;case Jh.DEADLINE_EXCEEDED:return tc.DEADLINE_EXCEEDED;case Jh.RESOURCE_EXHAUSTED:return tc.RESOURCE_EXHAUSTED;case Jh.INTERNAL:return tc.INTERNAL;case Jh.UNAVAILABLE:return tc.UNAVAILABLE;case Jh.UNAUTHENTICATED:return tc.UNAUTHENTICATED;case Jh.INVALID_ARGUMENT:return tc.INVALID_ARGUMENT;case Jh.NOT_FOUND:return tc.NOT_FOUND;case Jh.ALREADY_EXISTS:return tc.ALREADY_EXISTS;case Jh.PERMISSION_DENIED:return tc.PERMISSION_DENIED;case Jh.FAILED_PRECONDITION:return tc.FAILED_PRECONDITION;case Jh.ABORTED:return tc.ABORTED;case Jh.OUT_OF_RANGE:return tc.OUT_OF_RANGE;case Jh.UNIMPLEMENTED:return tc.UNIMPLEMENTED;case Jh.DATA_LOSS:return tc.DATA_LOSS;default:return Zl()}}(ef=Jh||(Jh={}))[ef.OK=0]="OK",ef[ef.CANCELLED=1]="CANCELLED",ef[ef.UNKNOWN=2]="UNKNOWN",ef[ef.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ef[ef.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ef[ef.NOT_FOUND=5]="NOT_FOUND",ef[ef.ALREADY_EXISTS=6]="ALREADY_EXISTS",ef[ef.PERMISSION_DENIED=7]="PERMISSION_DENIED",ef[ef.UNAUTHENTICATED=16]="UNAUTHENTICATED",ef[ef.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ef[ef.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ef[ef.ABORTED=10]="ABORTED",ef[ef.OUT_OF_RANGE=11]="OUT_OF_RANGE",ef[ef.UNIMPLEMENTED=12]="UNIMPLEMENTED",ef[ef.INTERNAL=13]="INTERNAL",ef[ef.UNAVAILABLE=14]="UNAVAILABLE",ef[ef.DATA_LOSS=15]="DATA_LOSS";let rf=null;function af(){return new TextEncoder}const of=new Ol([4294967295,4294967295],0);function sf(e){const t=af().encode(e),n=new _l;return n.update(t),new Uint8Array(n.digest())}function lf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new Ol([n,r],0),new Ol([i,a],0)]}class cf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new uf(`Invalid padding: ${t}`);if(n<0)throw new uf(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new uf(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new uf(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=Ol.fromNumber(this.Ee)}Ae(e,t,n){let r=e.add(t.multiply(Ol.fromNumber(n)));return 1===r.compare(of)&&(r=new Ol([r.getBits(0),r.getBits(1)],0)),r.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ee)return!1;const t=sf(e),[n,r]=lf(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);if(!this.Re(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),a=new cf(i,r,t);return n.forEach((e=>a.insert(e))),a}insert(e){if(0===this.Ee)return;const t=sf(e),[n,r]=lf(t);for(let i=0;i<this.hashCount;i++){const e=this.Ae(n,r,i);this.Ve(e)}}Ve(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class uf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class df{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,hf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new df(bc.min(),r,new bu(pc),ah(),ph())}}class hf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new hf(n,t,ph(),ph(),ph())}}class ff{constructor(e,t,n,r){this.me=e,this.removedTargetIds=t,this.key=n,this.fe=r}}class pf{constructor(e,t){this.targetId=e,this.ge=t}}class mf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Tu.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class gf{constructor(){this.pe=0,this.ye=bf(),this.we=Tu.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return 0!==this.pe}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ph(),t=ph(),n=ph();return this.ye.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zl()}})),new hf(this.we,this.be,e,t,n)}Me(){this.Se=!1,this.ye=bf()}xe(e,t){this.Se=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Jl(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class yf{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ah(),this.$e=vf(),this.Ke=vf(),this.Ue=new bu(pc)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Ce(e.resumeToken);break;case 1:n.Be(),n.De||n.Me(),n.Ce(e.resumeToken);break;case 2:n.Be(),n.De||this.removeTarget(t);break;case 3:this.Je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Ce(e.resumeToken));break;default:Zl()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){const t=e.targetId,n=e.ge.count,r=this.Xe(t);if(r){const i=r.target;if(Ud(i))if(0===n){const e=new Ec(i.path);this.ze(t,e,hd.newNoDocument(e,bc.min()))}else Jl(1===n);else{const r=this.et(t);if(r!==n){const n=this.tt(e),i=n?this.nt(n,e,r):1;if(0!==i){this.Ye(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(t,e)}null==rf||rf.rt(function(e,t,n,r,i){var a,o,s,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(a=null==h?void 0:h.hashCount)&&void 0!==a?a:0,bitmapLength:null!==(l=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.ge,this.ke.it(),n,i))}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let a,o;try{a=Nu(n).toUint8Array()}catch(e){if(e instanceof Eu)return Ql("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new cf(a,r,i)}catch(e){return Ql(e instanceof uf?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ee?null:o}nt(e,t,n){return t.ge.count===n-this.st(e,t.targetId)?0:2}st(e,t){const n=this.ke.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ke.it(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.ze(t,n,null),r++)})),r}ot(e){const t=new Map;this.qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&Ud(i.target)){const t=new Ec(i.target.path);this._t(t).has(r)||this.ut(r,t)||this.ze(r,t,hd.newNoDocument(t,e))}n.ve&&(t.set(r,n.Fe()),n.Me())}}));let n=ph();this.Ke.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qe.forEach(((t,n)=>n.setReadTime(e)));const r=new df(e,t,this.Ue,this.Qe,n);return this.Qe=ah(),this.$e=vf(),this.Ke=vf(),this.Ue=new bu(pc),r}Ge(e,t){if(!this.Je(e))return;const n=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,n),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ke=this.Ke.insert(t.key,this.ct(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ut(e,t)?r.xe(t,1):r.Oe(t),this.Ke=this.Ke.insert(t,this.ct(t).delete(e)),this.Ke=this.Ke.insert(t,this.ct(t).add(e)),n&&(this.Qe=this.Qe.insert(t,n))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new gf,this.qe.set(e,t)),t}ct(e){let t=this.Ke.get(e);return t||(t=new ju(pc),this.Ke=this.Ke.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new ju(pc),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||Gl("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new gf),this.ke.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function vf(){return new bu(Ec.comparator)}function bf(){return new bu(Ec.comparator)}const xf={asc:"ASCENDING",desc:"DESCENDING"},wf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jf={and:"AND",or:"OR"};class Sf{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function kf(e,t){return e.useProto3Json||Bc(t)?t:{value:t}}function Ef(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Tf(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Cf(e,t){return Ef(e,t.toTimestamp())}function Of(e){return Jl(!!e),bc.fromTimestamp(function(e){const t=Ou(e);return new vc(t.seconds,t.nanos)}(e))}function _f(e,t){return Nf(e,t).canonicalString()}function Nf(e,t){const n=function(e){return new jc(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Af(e){const t=jc.fromString(e);return Jl(Xf(t)),t}function If(e,t){return _f(e.databaseId,t.path)}function Pf(e,t){const n=Af(t);if(n.get(1)!==e.databaseId.projectId)throw new nc(tc.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new nc(tc.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ec(Lf(n))}function Df(e,t){return _f(e.databaseId,t)}function Mf(e){const t=Af(e);return 4===t.length?jc.emptyPath():Lf(t)}function Rf(e){return new jc(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Lf(e){return Jl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ff(e,t,n){return{name:If(e,t),fields:n.value.mapValue.fields}}function Uf(e,t){let n;if(t instanceof Vh)n={update:Ff(e,t.key,t.value)};else if(t instanceof Kh)n={delete:If(e,t.key)};else if(t instanceof $h)n={update:Ff(e,t.key,t.data),updateMask:Qf(t.fieldMask)};else{if(!(t instanceof Gh))return Zl();n={verify:If(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof kh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Eh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ch)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof _h)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Zl()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Cf(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zl()}(e,t.precondition)),n}function Bf(e,t){return{documents:[Df(e,t.path)]}}function zf(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Df(e,i);const a=function(e){if(0!==e.length)return Yf(xd.create(e,"and"))}(t.filters);a&&(n.structuredQuery.where=a);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Kf(e.field),direction:qf(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=kf(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ht:n,parent:i}}function Vf(e){let t=Mf(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Jl(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){const t=$f(e);return t instanceof xd&&jd(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new gd(Gf(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t="object"==typeof e?e.value:e,Bc(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new fd(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new fd(n,t)}(n.endAt)),zd(t,i,o,a,s,"F",l,c)}function $f(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gf(e.unaryFilter.field);return bd.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Gf(e.unaryFilter.field);return bd.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Gf(e.unaryFilter.field);return bd.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Gf(e.unaryFilter.field);return bd.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zl()}}(e):void 0!==e.fieldFilter?function(e){return bd.create(Gf(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return xd.create(e.compositeFilter.filters.map((e=>$f(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zl()}}(e.compositeFilter.op))}(e):Zl()}function qf(e){return xf[e]}function Hf(e){return wf[e]}function Wf(e){return jf[e]}function Kf(e){return{fieldPath:e.canonicalString()}}function Gf(e){return kc.fromServerFormat(e.fieldPath)}function Yf(e){return e instanceof bd?function(e){if("=="===e.op){if(ad(e.value))return{unaryFilter:{field:Kf(e.field),op:"IS_NAN"}};if(id(e.value))return{unaryFilter:{field:Kf(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ad(e.value))return{unaryFilter:{field:Kf(e.field),op:"IS_NOT_NAN"}};if(id(e.value))return{unaryFilter:{field:Kf(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kf(e.field),op:Hf(e.op),value:e.value}}}(e):e instanceof xd?function(e){const t=e.getFilters().map((e=>Yf(e)));return 1===t.length?t[0]:{compositeFilter:{op:Wf(e.op),filters:t}}}(e):Zl()}function Qf(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Xf(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Zf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:bc.min(),a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:bc.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Tu.EMPTY_BYTE_STRING,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(e){return new Zf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Zf(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Jf{constructor(e){this.Tt=e}}function ep(e){const t=Vf({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Yd(t,t.limit,"L"):t}class tp{constructor(){}At(e,t){this.Rt(e,t),t.Vt()}Rt(e,t){if("nullValue"in e)this.ft(t,5);else if("booleanValue"in e)this.ft(t,10),t.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(t,15),t.gt(_u(e.integerValue));else if("doubleValue"in e){const n=_u(e.doubleValue);isNaN(n)?this.ft(t,13):(this.ft(t,15),zc(n)?t.gt(0):t.gt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.ft(t,20),"string"==typeof n&&(n=Ou(n)),t.yt(`${n.seconds||""}`),t.gt(n.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,t),this.bt(t);else if("bytesValue"in e)this.ft(t,30),t.St(Nu(e.bytesValue)),this.bt(t);else if("referenceValue"in e)this.Dt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ft(t,45),t.gt(n.latitude||0),t.gt(n.longitude||0)}else"mapValue"in e?cd(e)?this.ft(t,Number.MAX_SAFE_INTEGER):sd(e)?this.vt(e.mapValue,t):(this.Ct(e.mapValue,t),this.bt(t)):"arrayValue"in e?(this.Ft(e.arrayValue,t),this.bt(t)):Zl()}wt(e,t){this.ft(t,25),this.Mt(e,t)}Mt(e,t){t.yt(e)}Ct(e,t){const n=e.fields||{};this.ft(t,55);for(const r of Object.keys(n))this.wt(r,t),this.Rt(n[r],t)}vt(e,t){var n,r;const i=e.fields||{};this.ft(t,53);const a=Hu,o=(null===(r=null===(n=i[a].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.ft(t,15),t.gt(_u(o)),this.wt(a,t),this.Rt(i[a],t)}Ft(e,t){const n=e.values||[];this.ft(t,50);for(const r of n)this.Rt(r,t)}Dt(e,t){this.ft(t,37),Ec.fromName(e).path.forEach((e=>{this.ft(t,60),this.Mt(e,t)}))}ft(e,t){e.gt(t)}bt(e){e.gt(2)}}tp.xt=new tp;class np{constructor(){this.Tn=new rp}addToCollectionParentIndex(e,t){return this.Tn.add(t),Mc.resolve()}getCollectionParents(e,t){return Mc.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return Mc.resolve()}deleteFieldIndex(e,t){return Mc.resolve()}deleteAllFieldIndexes(e){return Mc.resolve()}createTargetIndexes(e,t){return Mc.resolve()}getDocumentsMatchingTarget(e,t){return Mc.resolve(null)}getIndexType(e,t){return Mc.resolve(0)}getFieldIndexes(e,t){return Mc.resolve([])}getNextCollectionGroupToUpdate(e){return Mc.resolve(null)}getMinOffset(e,t){return Mc.resolve(Nc.min())}getMinOffsetFromCollectionGroup(e,t){return Mc.resolve(Nc.min())}updateCollectionGroup(e,t,n){return Mc.resolve()}updateIndexEntries(e,t){return Mc.resolve()}}class rp{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ju(jc.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ju(jc.comparator)).toArray()}}new Uint8Array(0);const ip={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ap=41943040;class op{static withCacheSize(e){return new op(e,op.DEFAULT_COLLECTION_PERCENTILE,op.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}op.DEFAULT_COLLECTION_PERCENTILE=10,op.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,op.DEFAULT=new op(ap,op.DEFAULT_COLLECTION_PERCENTILE,op.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),op.DISABLED=new op(-1,0,0);class sp{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new sp(0)}static Un(){return new sp(-1)}}const lp="LruGarbageCollector",cp=1048576;function up(e,t){let[n,r]=e,[i,a]=t;const o=pc(n,i);return 0===o?pc(r,a):o}class dp{constructor(e){this.Hn=e,this.buffer=new ju(up),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();up(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hp{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Xn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return null!==this.Xn}er(e){Gl(lp,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Lc(e)?Gl(lp,"Ignoring IndexedDB error during garbage collection: ",e):await Dc(e)}await this.er(3e5)}))}}class fp{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return Mc.resolve(Fc.ae);const n=new dp(t);return this.tr.forEachTarget(e,(e=>n.Zn(e.sequenceNumber))).next((()=>this.tr.rr(e,(e=>n.Zn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.tr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Gl("LruGarbageCollector","Garbage collection skipped; disabled"),Mc.resolve(ip)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Gl("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ip):this.ir(e,t)))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let n,r,i,a,o,s,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Gl("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Kl()<=gn.DEBUG&&Gl("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${a-c}ms\n\tDetermined least recently used ${r} in `+(o-a)+"ms\n"+`\tRemoved ${i} targets in `+(s-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-s)+"ms\n"+`Total Duration: ${l-c}ms`),Mc.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function pp(e,t){return new fp(e,t)}class mp{constructor(){this.changes=new rh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hd.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Mc.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class gp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class yp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Uh(n.mutation,e,ku.empty(),vc.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ph()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ph();const r=ch();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=sh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ch();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ph())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=ah();const a=dh(),o=dh();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof $h)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Uh(o.mutation,t,o.mutation.getFieldMask(),vc.now())):a.set(t.key,ku.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new gp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=dh();let r=new bu(((e,t)=>e-t)),i=ph();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const a=t.get(e);if(null===a)return;let o=n.get(e)||ku.empty();o=i.applyToLocalView(a,o),n.set(e,o);const s=(r.get(i.batchId)||ph()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{const a=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),s=r.key,l=r.value,c=uh();l.forEach((e=>{if(!i.has(e)){const r=Lh(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,c))}return Mc.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ec.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):qd(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Mc.resolve(ch());let o=Tc,s=i;return a.next((t=>Mc.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Mc.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,ph()))).next((e=>({batchId:o,changes:lh(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ec(t)).next((e=>{let t=sh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let a=sh();return this.indexManager.getCollectionParents(e,i).next((o=>Mc.forEach(o,(o=>{const s=function(e,t){return new Bd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,hd.newInvalidDocument(r)))}));let n=sh();return e.forEach(((e,r)=>{const a=i.get(e);void 0!==a&&Uh(a.mutation,r,ku.empty(),vc.now()),Jd(t,r)&&(n=n.insert(e,r))})),n}))}}class vp{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return Mc.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Of(e.createTime)}}(t)),Mc.resolve()}getNamedQuery(e,t){return Mc.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(e){return{name:e.name,query:ep(e.bundledQuery),readTime:Of(e.readTime)}}(t)),Mc.resolve()}}class bp{constructor(){this.overlays=new bu(Ec.comparator),this.Rr=new Map}getOverlay(e,t){return Mc.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ch();return Mc.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Et(e,t,r)})),Mc.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Rr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Rr.delete(n)),Mc.resolve()}getOverlaysForCollection(e,t,n){const r=ch(),i=t.length+1,a=new Ec(t.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Mc.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new bu(((e,t)=>e-t));const a=this.overlays.getIterator();for(;a.hasNext();){const e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ch(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=ch(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Mc.resolve(o)}Et(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Rr.get(r.largestBatchId).delete(n.key);this.Rr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Xh(t,n));let i=this.Rr.get(t);void 0===i&&(i=ph(),this.Rr.set(t,i)),this.Rr.set(t,i.add(n.key))}}class xp{constructor(){this.sessionToken=Tu.EMPTY_BYTE_STRING}getSessionToken(e){return Mc.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Mc.resolve()}}class wp{constructor(){this.Vr=new ju(jp.mr),this.gr=new ju(jp.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const n=new jp(e,t);this.Vr=this.Vr.add(n),this.gr=this.gr.add(n)}yr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.wr(new jp(e,t))}br(e,t){e.forEach((e=>this.removeReference(e,t)))}Sr(e){const t=new Ec(new jc([])),n=new jp(t,e),r=new jp(t,e+1),i=[];return this.gr.forEachInRange([n,r],(e=>{this.wr(e),i.push(e.key)})),i}Dr(){this.Vr.forEach((e=>this.wr(e)))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new Ec(new jc([])),n=new jp(t,e),r=new jp(t,e+1);let i=ph();return this.gr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new jp(e,0),n=this.Vr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class jp{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return Ec.comparator(e.key,t.key)||pc(e.Cr,t.Cr)}static pr(e,t){return pc(e.Cr,t.Cr)||Ec.comparator(e.key,t.key)}}class Sp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new ju(jp.mr)}checkEmpty(e){return Mc.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Yh(i,t,n,r);this.mutationQueue.push(a);for(const o of r)this.Mr=this.Mr.add(new jp(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Mc.resolve(a)}lookupMutationBatch(e,t){return Mc.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Nr(n),i=r<0?0:r;return Mc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Mc.resolve(0===this.mutationQueue.length?Uc:this.Fr-1)}getAllMutationBatches(e){return Mc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new jp(t,0),r=new jp(t,Number.POSITIVE_INFINITY),i=[];return this.Mr.forEachInRange([n,r],(e=>{const t=this.Or(e.Cr);i.push(t)})),Mc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ju(pc);return t.forEach((e=>{const t=new jp(e,0),r=new jp(e,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([t,r],(e=>{n=n.add(e.Cr)}))})),Mc.resolve(this.Br(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ec.isDocumentKey(i)||(i=i.child(""));const a=new jp(new Ec(i),0);let o=new ju(pc);return this.Mr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Cr)),!0)}),a),Mc.resolve(this.Br(o))}Br(e){const t=[];return e.forEach((e=>{const n=this.Or(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Jl(0===this.Lr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Mr;return Mc.forEach(t.mutations,(r=>{const i=new jp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Mr=n}))}qn(e){}containsKey(e,t){const n=new jp(t,0),r=this.Mr.firstAfterOrEqual(n);return Mc.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Mc.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kp{constructor(e){this.kr=e,this.docs=new bu(Ec.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.kr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Mc.resolve(n?n.document.mutableCopy():hd.newInvalidDocument(t))}getEntries(e,t){let n=ah();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():hd.newInvalidDocument(e))})),Mc.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=ah();const a=t.path,o=new Ec(a.child("__id-9223372036854775808__")),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){const{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||Ac(_c(o),n)<=0||(r.has(o.key)||Jd(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Mc.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Zl()}qr(e,t){return Mc.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Ep(this)}getSize(e){return Mc.resolve(this.size)}}class Ep extends mp{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Ir.addEntry(e,r)):this.Ir.removeEntry(n)})),Mc.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}class Tp{constructor(e){this.persistence=e,this.Qr=new rh((e=>Ld(e)),Fd),this.lastRemoteSnapshotVersion=bc.min(),this.highestTargetId=0,this.$r=0,this.Kr=new wp,this.targetCount=0,this.Ur=sp.Kn()}forEachTarget(e,t){return this.Qr.forEach(((e,n)=>t(n))),Mc.resolve()}getLastRemoteSnapshotVersion(e){return Mc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Mc.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Mc.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$r&&(this.$r=t),Mc.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ur=new sp(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,Mc.resolve()}updateTargetData(e,t){return this.zn(t),Mc.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Kr.Sr(t.targetId),this.targetCount-=1,Mc.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Qr.forEach(((a,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Qr.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Mc.waitFor(i).next((()=>r))}getTargetCount(e){return Mc.resolve(this.targetCount)}getTargetData(e,t){const n=this.Qr.get(t)||null;return Mc.resolve(n)}addMatchingKeys(e,t,n){return this.Kr.yr(t,n),Mc.resolve()}removeMatchingKeys(e,t,n){this.Kr.br(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Mc.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Kr.Sr(t),Mc.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Kr.vr(t);return Mc.resolve(n)}containsKey(e,t){return Mc.resolve(this.Kr.containsKey(t))}}class Cp{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new Fc(0),this.zr=!1,this.zr=!0,this.jr=new xp,this.referenceDelegate=e(this),this.Hr=new Tp(this),this.indexManager=new np,this.remoteDocumentCache=function(e){return new kp(e)}((e=>this.referenceDelegate.Jr(e))),this.serializer=new Jf(t),this.Yr=new vp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new bp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Wr[e.toKey()];return n||(n=new Sp(t,this.referenceDelegate),this.Wr[e.toKey()]=n),n}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,n){Gl("MemoryPersistence","Starting transaction:",e);const r=new Op(this.Gr.next());return this.referenceDelegate.Zr(),n(r).next((e=>this.referenceDelegate.Xr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}ei(e,t){return Mc.or(Object.values(this.Wr).map((n=>()=>n.containsKey(e,t))))}}class Op extends Pc{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.ti=new wp,this.ni=null}static ri(e){return new _p(e)}get ii(){if(this.ni)return this.ni;throw Zl()}addReference(e,t,n){return this.ti.addReference(n,t),this.ii.delete(n.toString()),Mc.resolve()}removeReference(e,t,n){return this.ti.removeReference(n,t),this.ii.add(n.toString()),Mc.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),Mc.resolve()}removeTarget(e,t){this.ti.Sr(t.targetId).forEach((e=>this.ii.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ii.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Mc.forEach(this.ii,(n=>{const r=Ec.fromPath(n);return this.si(e,r).next((e=>{e||t.removeEntry(r,bc.min())}))})).next((()=>(this.ni=null,t.apply(e))))}updateLimboDocument(e,t){return this.si(e,t).next((e=>{e?this.ii.delete(t.toString()):this.ii.add(t.toString())}))}Jr(e){return 0}si(e,t){return Mc.or([()=>Mc.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class Np{constructor(e,t){this.persistence=e,this.oi=new rh((e=>qc(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=pp(this,t)}static ri(e,t){return new Np(e,t)}Zr(){}Xr(e){return Mc.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}sr(e){let t=0;return this.rr(e,(e=>{t++})).next((()=>t))}rr(e,t){return Mc.forEach(this.oi,((n,r)=>this.ar(e,n,r).next((e=>e?Mc.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.qr(e,(r=>this.ar(e,r,t).next((e=>{e||(n++,i.removeEntry(r,bc.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),Mc.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Mc.resolve()}removeReference(e,t,n){return this.oi.set(n,e.currentSequenceNumber),Mc.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),Mc.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ed(e.data.value)),t}ar(e,t,n){return Mc.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.oi.get(t);return Mc.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Ap{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Hi=n,this.Ji=r}static Yi(e,t){let n=ph(),r=ph();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Ap(e,t.fromCache,n,r)}}class Ip{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Pp{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=Yt()?8:Rc(Kt())>0?6:4}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.rs(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ip;return this._s(e,t,n).next((r=>{if(i.result=r,this.Xi)return this.us(e,t,n,r.size)}))})).next((()=>i.result))}us(e,t,n,r){return n.documentReadCount<this.es?(Kl()<=gn.DEBUG&&Gl("QueryEngine","SDK will not create cache indexes for query:",Zd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Mc.resolve()):(Kl()<=gn.DEBUG&&Gl("QueryEngine","Query:",Zd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ts*r?(Kl()<=gn.DEBUG&&Gl("QueryEngine","The SDK decides to create cache indexes for query:",Zd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wd(t))):Mc.resolve())}rs(e,t){if($d(t))return Mc.resolve(null);let n=Wd(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Yd(t,null,"F"),n=Wd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ph(...r);return this.ns.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const a=this.cs(t,r);return this.ls(t,a,i,n.readTime)?this.rs(e,Yd(t,null,"F")):this.hs(e,a,t,n)}))))})))))}ss(e,t,n,r){return $d(t)||r.isEqual(bc.min())?Mc.resolve(null):this.ns.getDocuments(e,n).next((i=>{const a=this.cs(t,i);return this.ls(t,a,n,r)?Mc.resolve(null):(Kl()<=gn.DEBUG&&Gl("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Zd(t)),this.hs(e,a,t,Oc(r,Tc)).next((e=>e)))}))}cs(e,t){let n=new ju(th(e));return t.forEach(((t,r)=>{Jd(e,r)&&(n=n.add(r))})),n}ls(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}_s(e,t,n){return Kl()<=gn.DEBUG&&Gl("QueryEngine","Using full collection scan to execute query:",Zd(t)),this.ns.getDocumentsMatchingQuery(e,t,Nc.min(),n)}hs(e,t,n,r){return this.ns.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Dp="LocalStore";class Mp{constructor(e,t,n,r){this.persistence=e,this.Ps=t,this.serializer=r,this.Ts=new bu(pc),this.Is=new rh((e=>Ld(e)),Fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(n)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yp(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ts)))}}function Rp(e,t,n,r){return new Mp(e,t,n,r)}async function Lp(e,t){const n=ec(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.As(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],a=[];let o=ph();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){a.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Rs:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function Fp(e){const t=ec(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Hr.getLastRemoteSnapshotVersion(e)))}function Up(e,t,n){let r=ph(),i=ph();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=ah();return n.forEach(((n,a)=>{const o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(bc.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Gl(Dp,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{Vs:r,fs:i}}))}function Bp(e,t){const n=ec(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=Uc),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function zp(e,t){const n=ec(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Hr.getTargetData(e,t).next((i=>i?(r=i,Mc.resolve(r)):n.Hr.allocateTargetId(e).next((i=>(r=new Zf(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Hr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ts.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(e.targetId,e),n.Is.set(t,e.targetId)),e}))}async function Vp(e,t,n){const r=ec(e),i=r.Ts.get(t),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Lc(e))throw e;Gl(Dp,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ts=r.Ts.remove(t),r.Is.delete(i.target)}function $p(e,t,n){const r=ec(e);let i=bc.min(),a=ph();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=ec(e),i=r.Is.get(n);return void 0!==i?Mc.resolve(r.Ts.get(i)):r.Hr.getTargetData(t,n)}(r,e,Wd(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Ps.getDocumentsMatchingQuery(e,t,n?i:bc.min(),n?a:ph()))).next((e=>(qp(r,eh(t),e),{documents:e,gs:a})))))}function qp(e,t,n){let r=e.Es.get(t)||bc.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Es.set(t,r)}class Hp{constructor(){this.activeTargetIds=gh()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wp{constructor(){this.ho=new Hp,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,n){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Hp,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Kp{To(e){}shutdown(){}}const Gp="ConnectivityMonitor";class Yp{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){Gl(Gp,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){Gl(Gp,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Qp=null;function Xp(){return null===Qp?Qp=268435456+Math.round(2147483648*Math.random()):Qp++,"0x"+Qp.toString(16)}const Zp="RestConnection",Jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class em{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${n}/databases/${r}`,this.wo=this.databaseId.database===Uu?`project_id=${n}`:`project_id=${n}&database_id=${r}`}bo(e,t,n,r,i){const a=Xp(),o=this.So(e,t.toUriEncodedString());Gl(Zp,`Sending RPC '${e}' ${a}:`,o,n);const s={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(s,r,i),this.vo(e,o,s,n).then((t=>(Gl(Zp,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Ql(Zp,`RPC '${e}' ${a} failed with error: `,t,"url: ",o,"request:",n),t}))}Co(e,t,n,r,i,a){return this.bo(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hl,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}So(e,t){const n=Jp[e];return`${this.po}/v1/${t}:${n}`}terminate(){}}class tm{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}const nm="WebChannelConnection";class rm extends em{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,n,r){const i=Xp();return new Promise(((a,o)=>{const s=new Il;s.setWithCredentials(!0),s.listenOnce(Dl.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case Ml.NO_ERROR:const t=s.getResponseJson();Gl(nm,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),a(t);break;case Ml.TIMEOUT:Gl(nm,`RPC '${e}' ${i} timed out`),o(new nc(tc.DEADLINE_EXCEEDED,"Request time out"));break;case Ml.HTTP_ERROR:const n=s.getStatus();if(Gl(nm,`RPC '${e}' ${i} failed with status:`,n,"response text:",s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(tc).indexOf(t)>=0?t:tc.UNKNOWN}(t.status);o(new nc(e,t.message))}else o(new nc(tc.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new nc(tc.UNAVAILABLE,"Connection failed."));break;default:Zl()}}finally{Gl(nm,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);Gl(nm,`RPC '${e}' ${i} sending request:`,r),s.send(t,"POST",l,n,15)}))}Wo(e,t,n){const r=Xp(),i=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Ul(),o=Fl(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(s.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;const c=i.join("");Gl(nm,`Creating RPC '${e}' stream ${r}: ${c}`,s);const u=a.createWebChannel(c,s);let d=!1,h=!1;const f=new tm({Fo:t=>{h?Gl(nm,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(Gl(nm,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),Gl(nm,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Mo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Pl.EventType.OPEN,(()=>{h||(Gl(nm,`RPC '${e}' stream ${r} transport opened.`),f.Qo())})),p(u,Pl.EventType.CLOSE,(()=>{h||(h=!0,Gl(nm,`RPC '${e}' stream ${r} transport closed`),f.Ko())})),p(u,Pl.EventType.ERROR,(t=>{h||(h=!0,Ql(nm,`RPC '${e}' stream ${r} transport errored:`,t),f.Ko(new nc(tc.UNAVAILABLE,"The operation could not be completed")))})),p(u,Pl.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Jl(!!i);const a=i,o=(null==a?void 0:a.error)||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Gl(nm,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Jh[e];if(void 0!==t)return nf(t)}(t),i=o.message;void 0===n&&(n=tc.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,f.Ko(new nc(n,i)),u.close()}else Gl(nm,`RPC '${e}' stream ${r} received:`,i),f.Uo(i)}})),p(o,Ll.STAT_EVENT,(t=>{t.stat===Rl.PROXY?Gl(nm,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Rl.NOPROXY&&Gl(nm,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.$o()}),0),f}}function im(){return"undefined"!=typeof document?document:null}function am(e){return new Sf(e,!0)}class om{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.Ti=e,this.timerId=t,this.Go=n,this.zo=r,this.jo=i,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),n=Math.max(0,Date.now()-this.Yo),r=Math.max(0,t-n);r>0&&Gl("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,r,(()=>(this.Yo=Date.now(),e()))),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){null!==this.Jo&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){null!==this.Jo&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}const sm="PersistentStream";class lm{constructor(e,t,n,r,i,a,o,s){this.Ti=e,this.n_=n,this.r_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new om(e,t)}u_(){return 1===this.state||5===this.state||this.c_()}c_(){return 2===this.state||3===this.state}start(){this.__=0,4!==this.state?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&null===this.s_&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,(()=>this.T_())))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,4!==e?this.a_.reset():t&&t.code===tc.RESOURCE_EXHAUSTED?(Yl(t.toString()),Yl("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===tc.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.i_===t&&this.V_(n,r)}),(t=>{e((()=>{const e=new nc(tc.UNKNOWN,"Fetching auth token failed: "+t.message);return this.m_(e)}))}))}V_(e,t){const n=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo((()=>{n((()=>this.listener.xo()))})),this.stream.No((()=>{n((()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,(()=>(this.c_()&&(this.state=3),Promise.resolve()))),this.listener.No())))})),this.stream.Lo((e=>{n((()=>this.m_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.__?this.g_(e):this.onNext(e)))}))}l_(){this.state=5,this.a_.Xo((async()=>{this.state=0,this.start()}))}m_(e){return Gl(sm,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget((()=>this.i_===e?t():(Gl(sm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class cm extends lm{constructor(e,t,n,r,i,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(Jl(void 0===t||"string"==typeof t),Tu.fromBase64String(t||"")):(Jl(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Tu.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){const t=void 0===e.code?tc.UNKNOWN:nf(e.code);return new nc(t,e.message||"")}(o);n=new mf(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Pf(e,r.document.name),a=Of(r.document.updateTime),o=r.document.createTime?Of(r.document.createTime):bc.min(),s=new ud({mapValue:{fields:r.document.fields}}),l=hd.newFoundDocument(i,a,o,s),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ff(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Pf(e,r.document),a=r.readTime?Of(r.readTime):bc.min(),o=hd.newNoDocument(i,a),s=r.removedTargetIds||[];n=new ff([],s,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Pf(e,r.document),a=r.removedTargetIds||[];n=new ff([],a,i,null)}else{if(!("filter"in t))return Zl();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,a=new Zh(r,i),o=e.targetId;n=new pf(o,a)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return bc.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?bc.min():t.readTime?Of(t.readTime):bc.min()}(e);return this.listener.p_(t,n)}y_(e){const t={};t.database=Rf(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ud(r)?{documents:Bf(e,r)}:{query:zf(e,r).ht},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Tf(e,t.resumeToken);const r=kf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(bc.min())>0){n.readTime=Ef(e,t.snapshotVersion.toTimestamp());const r=kf(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zl()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.I_(t)}w_(e){const t={};t.database=Rf(this.serializer),t.removeTarget=e,this.I_(t)}}class um extends lm{constructor(e,t,n,r,i,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,a),this.serializer=i}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Jl(!!e.streamToken),this.lastStreamToken=e.streamToken,Jl(!e.writeResults||0===e.writeResults.length),this.listener.D_()}onNext(e){Jl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=function(e,t){return e&&e.length>0?(Jl(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Of(e.updateTime):Of(t);return n.isEqual(bc.min())&&(n=Of(t)),new Ph(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Of(e.commitTime);return this.listener.v_(n,t)}C_(){const e={};e.database=Rf(this.serializer),this.I_(e)}S_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Uf(this.serializer,e)))};this.I_(t)}}class dm{}class hm extends dm{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.F_=!1}M_(){if(this.F_)throw new nc(tc.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,t,n,r){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[a,o]=i;return this.connection.bo(e,Nf(t,n),r,a,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===tc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new nc(tc.UNKNOWN,e.toString())}))}Co(e,t,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((a=>{let[o,s]=a;return this.connection.Co(e,Nf(t,n),r,o,s,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===tc.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new nc(tc.UNKNOWN,e.toString())}))}terminate(){this.F_=!0,this.connection.terminate()}}class fm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){0===this.x_&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve()))))}q_(e){"Online"===this.state?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,"Online"===e&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Yl(t),this.N_=!1):Gl("OnlineStateTracker",t)}Q_(){null!==this.O_&&(this.O_.cancel(),this.O_=null)}}const pm="RemoteStore";class mm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=i,this.z_.To((e=>{n.enqueueAndForget((async()=>{km(this)&&(Gl(pm,"Restarting streams for network reachability change."),await async function(e){const t=ec(e);t.W_.add(4),await ym(t),t.j_.set("Unknown"),t.W_.delete(4),await gm(t)}(this))}))})),this.j_=new fm(n,r)}}async function gm(e){if(km(e))for(const t of e.G_)await t(!0)}async function ym(e){for(const t of e.G_)await t(!1)}function vm(e,t){const n=ec(e);n.U_.has(t.targetId)||(n.U_.set(t.targetId,t),Sm(n)?jm(n):$m(n).c_()&&xm(n,t))}function bm(e,t){const n=ec(e),r=$m(n);n.U_.delete(t),r.c_()&&wm(n,t),0===n.U_.size&&(r.c_()?r.P_():km(n)&&n.j_.set("Unknown"))}function xm(e,t){if(e.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bc.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}$m(e).y_(t)}function wm(e,t){e.H_.Ne(t),$m(e).w_(t)}function jm(e){e.H_=new yf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>e.U_.get(t)||null,it:()=>e.datastore.serializer.databaseId}),$m(e).start(),e.j_.B_()}function Sm(e){return km(e)&&!$m(e).u_()&&e.U_.size>0}function km(e){return 0===ec(e).W_.size}function Em(e){e.H_=void 0}async function Tm(e){e.j_.set("Online")}async function Cm(e){e.U_.forEach(((t,n)=>{xm(e,t)}))}async function Om(e,t){Em(e),Sm(e)?(e.j_.q_(t),jm(e)):e.j_.set("Unknown")}async function _m(e,t,n){if(e.j_.set("Online"),t instanceof mf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.U_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.U_.delete(r),e.H_.removeTarget(r))}(e,t)}catch(n){Gl(pm,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Nm(e,n)}else if(t instanceof ff?e.H_.We(t):t instanceof pf?e.H_.Ze(t):e.H_.je(t),!n.isEqual(bc.min()))try{const t=await Fp(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.H_.ot(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.U_.get(r);i&&e.U_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.U_.get(t);if(!r)return;e.U_.set(t,r.withResumeToken(Tu.EMPTY_BYTE_STRING,r.snapshotVersion)),wm(e,t);const i=new Zf(r.target,t,n,r.sequenceNumber);xm(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Gl(pm,"Failed to raise snapshot:",t),await Nm(e,t)}}async function Nm(e,t,n){if(!Lc(t))throw t;e.W_.add(1),await ym(e),e.j_.set("Offline"),n||(n=()=>Fp(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Gl(pm,"Retrying IndexedDB access"),await n(),e.W_.delete(1),await gm(e)}))}function Am(e,t){return t().catch((n=>Nm(e,n,t)))}async function Im(e){const t=ec(e),n=qm(t);let r=t.K_.length>0?t.K_[t.K_.length-1].batchId:Uc;for(;Pm(t);)try{const e=await Bp(t.localStore,r);if(null===e){0===t.K_.length&&n.P_();break}r=e.batchId,Dm(t,e)}catch(e){await Nm(t,e)}Mm(t)&&Rm(t)}function Pm(e){return km(e)&&e.K_.length<10}function Dm(e,t){e.K_.push(t);const n=qm(e);n.c_()&&n.b_&&n.S_(t.mutations)}function Mm(e){return km(e)&&!qm(e).u_()&&e.K_.length>0}function Rm(e){qm(e).start()}async function Lm(e){qm(e).C_()}async function Fm(e){const t=qm(e);for(const n of e.K_)t.S_(n.mutations)}async function Um(e,t,n){const r=e.K_.shift(),i=Qh.from(r,t,n);await Am(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Im(e)}async function Bm(e,t){t&&qm(e).b_&&await async function(e,t){if(function(e){return tf(e)&&e!==tc.ABORTED}(t.code)){const n=e.K_.shift();qm(e).h_(),await Am(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Im(e)}}(e,t),Mm(e)&&Rm(e)}async function zm(e,t){const n=ec(e);n.asyncQueue.verifyOperationInProgress(),Gl(pm,"RemoteStore received new credentials");const r=km(n);n.W_.add(3),await ym(n),r&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.W_.delete(3),await gm(n)}async function Vm(e,t){const n=ec(e);t?(n.W_.delete(2),await gm(n)):t||(n.W_.add(2),await ym(n),n.j_.set("Unknown"))}function $m(e){return e.J_||(e.J_=function(e,t,n){const r=ec(e);return r.M_(),new cm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:Tm.bind(null,e),No:Cm.bind(null,e),Lo:Om.bind(null,e),p_:_m.bind(null,e)}),e.G_.push((async t=>{t?(e.J_.h_(),Sm(e)?jm(e):e.j_.set("Unknown")):(await e.J_.stop(),Em(e))}))),e.J_}function qm(e){return e.Y_||(e.Y_=function(e,t,n){const r=ec(e);return r.M_(),new um(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{xo:()=>Promise.resolve(),No:Lm.bind(null,e),Lo:Bm.bind(null,e),D_:Fm.bind(null,e),v_:Um.bind(null,e)}),e.G_.push((async t=>{t?(e.Y_.h_(),await Im(e)):(await e.Y_.stop(),e.K_.length>0&&(Gl(pm,`Stopping write stream with ${e.K_.length} pending writes`),e.K_=[]))}))),e.Y_}class Hm{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new rc,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const a=Date.now()+n,o=new Hm(e,t,a,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new nc(tc.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wm(e,t){if(Yl("AsyncQueue",`${t}: ${e}`),Lc(e))return new nc(tc.UNAVAILABLE,`${t}: ${e}`);throw e}class Km{static emptySet(e){return new Km(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ec.comparator(t.key,n.key):(e,t)=>Ec.comparator(e.key,t.key),this.keyedMap=sh(),this.sortedSet=new bu(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Km))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Km;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Gm{constructor(){this.Z_=new bu(Ec.comparator)}track(e){const t=e.doc.key,n=this.Z_.get(t);n?0!==e.type&&3===n.type?this.Z_=this.Z_.insert(t,e):3===e.type&&1!==n.type?this.Z_=this.Z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Z_=this.Z_.remove(t):1===e.type&&2===n.type?this.Z_=this.Z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Zl():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ym{constructor(e,t,n,r,i,a,o,s,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const a=[];return t.forEach((e=>{a.push({type:0,doc:e})})),new Ym(e,t,Km.emptySet(t),a,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Qm{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some((e=>e.ra()))}}class Xm{constructor(){this.queries=Zm(),this.onlineState="Unknown",this.ia=new Set}terminate(){!function(e,t){const n=ec(e),r=n.queries;n.queries=Zm(),r.forEach(((e,n)=>{for(const r of n.ta)r.onError(t)}))}(this,new nc(tc.ABORTED,"Firestore shutting down"))}}function Zm(){return new rh((e=>Xd(e)),Qd)}async function Jm(e,t){const n=ec(e);let r=3;const i=t.query;let a=n.queries.get(i);a?!a.na()&&t.ra()&&(r=2):(a=new Qm,r=t.ra()?0:1);try{switch(r){case 0:a.ea=await n.onListen(i,!0);break;case 1:a.ea=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Wm(e,`Initialization of query '${Zd(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,a),a.ta.push(t),t.sa(n.onlineState),a.ea&&t.oa(a.ea)&&rg(n)}async function eg(e,t){const n=ec(e),r=t.query;let i=3;const a=n.queries.get(r);if(a){const e=a.ta.indexOf(t);e>=0&&(a.ta.splice(e,1),0===a.ta.length?i=t.ra()?0:1:!a.na()&&t.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function tg(e,t){const n=ec(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ta)e.oa(i)&&(r=!0);t.ea=i}}r&&rg(n)}function ng(e,t,n){const r=ec(e),i=r.queries.get(t);if(i)for(const a of i.ta)a.onError(n);r.queries.delete(t)}function rg(e){e.ia.forEach((e=>{e.next()}))}var ig,ag;(ag=ig||(ig={}))._a="default",ag.Cache="cache";class og{constructor(e,t,n){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=n||{}}oa(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ym(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache)return!0;if(!this.ra())return!0;const n="Offline"!==t;return(!this.options.Ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Pa(e){e=Ym.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==ig.Cache}}class sg{constructor(e){this.key=e}}class lg{constructor(e){this.key=e}}class cg{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ph(),this.mutatedKeys=ph(),this.ya=th(e),this.wa=new Km(this.ya)}get ba(){return this.fa}Sa(e,t){const n=t?t.Da:new Gm,r=t?t.wa:this.wa;let i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Jd(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),f=!0):this.va(c,u)||(n.track({type:2,doc:u}),f=!0,(s&&this.ya(u,s)>0||l&&this.ya(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(s||l)&&(o=!0)),f&&(u?(a=a.add(u),i=h?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;a.size>this.query.limit;){const e="F"===this.query.limitType?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{wa:a,Da:n,ls:o,mutatedKeys:i}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const a=e.Da.X_();a.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zl()}};return n(e)-n(t)}(e.type,t.type)||this.ya(e.doc,t.doc))),this.Ca(n),r=null!=r&&r;const o=t&&!r?this.Fa():[],s=0===this.pa.size&&this.current&&!r?1:0,l=s!==this.ga;return this.ga=s,0!==a.length||l?{snapshot:new Ym(this.query,e.wa,i,a,e.mutatedKeys,0===s,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Ma:o}:{Ma:o}}sa(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Gm,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach((e=>this.fa=this.fa.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.fa=this.fa.delete(e))),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ph(),this.wa.forEach((e=>{this.xa(e.key)&&(this.pa=this.pa.add(e.key))}));const t=[];return e.forEach((e=>{this.pa.has(e)||t.push(new lg(e))})),this.pa.forEach((n=>{e.has(n)||t.push(new sg(n))})),t}Oa(e){this.fa=e.gs,this.pa=ph();const t=this.Sa(e.documents);return this.applyChanges(t,!0)}Na(){return Ym.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,0===this.ga,this.hasCachedResults)}}const ug="SyncEngine";class dg{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class hg{constructor(e){this.key=e,this.Ba=!1}}class fg{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.La={},this.ka=new rh((e=>Xd(e)),Qd),this.qa=new Map,this.Qa=new Set,this.$a=new bu(Ec.comparator),this.Ka=new Map,this.Ua=new wp,this.Wa={},this.Ga=new Map,this.za=sp.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return!0===this.ja}}async function pg(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Mg(e);let i;const a=r.ka.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.Na()):i=await gg(r,t,n,!0),i}async function mg(e,t){const n=Mg(e);await gg(n,t,!0,!1)}async function gg(e,t,n,r){const i=await zp(e.localStore,Wd(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n);let s;return r&&(s=await yg(e,t,a,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&vm(e.remoteStore,i),s}async function yg(e,t,n,r,i){e.Ha=(t,n,r)=>async function(e,t,n,r){let i=t.view.Sa(n);i.ls&&(i=await $p(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Sa(n,i)})));const a=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return _g(e,t.targetId,s.Ma),s.snapshot}(e,t,n,r);const a=await $p(e.localStore,t,!0),o=new cg(t,a.gs),s=o.Sa(a.documents),l=hf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(s,e.isPrimaryClient,l);_g(e,n,c.Ma);const u=new dg(t,n,o);return e.ka.set(t,u),e.qa.has(n)?e.qa.get(n).push(t):e.qa.set(n,[t]),c.snapshot}async function vg(e,t,n){const r=ec(e),i=r.ka.get(t),a=r.qa.get(i.targetId);if(a.length>1)return r.qa.set(i.targetId,a.filter((e=>!Qd(e,t)))),void r.ka.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Vp(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&bm(r.remoteStore,i.targetId),Cg(r,i.targetId)})).catch(Dc)):(Cg(r,i.targetId),await Vp(r.localStore,i.targetId,!0))}async function bg(e,t){const n=ec(e),r=n.ka.get(t),i=n.qa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),bm(n.remoteStore,r.targetId))}async function xg(e,t){const n=ec(e);try{const e=await function(e,t){const n=ec(e),r=t.snapshotVersion;let i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const a=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;const o=[];t.targetChanges.forEach(((a,s)=>{const l=i.get(s);if(!l)return;o.push(n.Hr.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Hr.addMatchingKeys(e,a.addedDocuments,s))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?c=c.withResumeToken(Tu.EMPTY_BYTE_STRING,bc.min()).withLastLimboFreeSnapshotVersion(bc.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,a)&&o.push(n.Hr.updateTargetData(e,c))}));let s=ah(),l=ph();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Up(e,a,t.documentUpdates).next((e=>{s=e.Vs,l=e.fs}))),!r.isEqual(bc.min())){const t=n.Hr.getLastRemoteSnapshotVersion(e).next((t=>n.Hr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Mc.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,l))).next((()=>s))})).then((e=>(n.Ts=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ka.get(t);r&&(Jl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ba=!0:e.modifiedDocuments.size>0?Jl(r.Ba):e.removedDocuments.size>0&&(Jl(r.Ba),r.Ba=!1))})),await Ig(n,e,t)}catch(e){await Dc(e)}}function wg(e,t,n){const r=ec(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ka.forEach(((n,r)=>{const i=r.view.sa(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=ec(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ta)i.sa(t)&&(r=!0)})),r&&rg(n)}(r.eventManager,t),e.length&&r.La.p_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function jg(e,t,n){const r=ec(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ka.get(t),a=i&&i.key;if(a){let e=new bu(Ec.comparator);e=e.insert(a,hd.newNoDocument(a,bc.min()));const n=ph().add(a),i=new df(bc.min(),new Map,new bu(pc),e,n);await xg(r,i),r.$a=r.$a.remove(a),r.Ka.delete(t),Ag(r)}else await Vp(r.localStore,t,!1).then((()=>Cg(r,t,n))).catch(Dc)}async function Sg(e,t){const n=ec(e),r=t.batch.batchId;try{const e=await function(e,t){const n=ec(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.ds.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,a=i.keys();let o=Mc.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const a=n.docVersions.get(e);Jl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ph();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Tg(n,r,null),Eg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ig(n,e)}catch(e){await Dc(e)}}async function kg(e,t,n){const r=ec(e);try{const e=await function(e,t){const n=ec(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Jl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Tg(r,t,n),Eg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Ig(r,e)}catch(n){await Dc(n)}}function Eg(e,t){(e.Ga.get(t)||[]).forEach((e=>{e.resolve()})),e.Ga.delete(t)}function Tg(e,t,n){const r=ec(e);let i=r.Wa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Wa[r.currentUser.toKey()]=i}}function Cg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.qa.get(t))e.ka.delete(r),n&&e.La.Ja(r,n);e.qa.delete(t),e.isPrimaryClient&&e.Ua.Sr(t).forEach((t=>{e.Ua.containsKey(t)||Og(e,t)}))}function Og(e,t){e.Qa.delete(t.path.canonicalString());const n=e.$a.get(t);null!==n&&(bm(e.remoteStore,n),e.$a=e.$a.remove(t),e.Ka.delete(n),Ag(e))}function _g(e,t,n){for(const r of n)r instanceof sg?(e.Ua.addReference(r.key,t),Ng(e,r)):r instanceof lg?(Gl(ug,"Document no longer in limbo: "+r.key),e.Ua.removeReference(r.key,t),e.Ua.containsKey(r.key)||Og(e,r.key)):Zl()}function Ng(e,t){const n=t.key,r=n.path.canonicalString();e.$a.get(n)||e.Qa.has(r)||(Gl(ug,"New document in limbo: "+n),e.Qa.add(r),Ag(e))}function Ag(e){for(;e.Qa.size>0&&e.$a.size<e.maxConcurrentLimboResolutions;){const t=e.Qa.values().next().value;e.Qa.delete(t);const n=new Ec(jc.fromString(t)),r=e.za.next();e.Ka.set(r,new hg(n)),e.$a=e.$a.insert(n,r),vm(e.remoteStore,new Zf(Wd(Vd(n.path)),r,"TargetPurposeLimboResolution",Fc.ae))}}async function Ig(e,t,n){const r=ec(e),i=[],a=[],o=[];r.ka.isEmpty()||(r.ka.forEach(((e,s)=>{o.push(r.Ha(s,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(s.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(s.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Ap.Yi(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.La.p_(i),await async function(e,t){const n=ec(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Mc.forEach(t,(t=>Mc.forEach(t.Hi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Mc.forEach(t.Ji,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Lc(e))throw e;Gl(Dp,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ts.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ts=n.Ts.insert(e,i)}}}(r.localStore,a))}async function Pg(e,t){const n=ec(e);if(!n.currentUser.isEqual(t)){Gl(ug,"User change. New user:",t.toKey());const e=await Lp(n.localStore,t);n.currentUser=t,function(e,t){e.Ga.forEach((e=>{e.forEach((e=>{e.reject(new nc(tc.CANCELLED,t))}))})),e.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Ig(n,e.Rs)}}function Dg(e,t){const n=ec(e),r=n.Ka.get(t);if(r&&r.Ba)return ph().add(r.key);{let e=ph();const r=n.qa.get(t);if(!r)return e;for(const t of r){const r=n.ka.get(t);e=e.unionWith(r.view.ba)}return e}}function Mg(e){const t=ec(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jg.bind(null,t),t.La.p_=tg.bind(null,t.eventManager),t.La.Ja=ng.bind(null,t.eventManager),t}function Rg(e){const t=ec(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Sg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=kg.bind(null,t),t}class Lg{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=am(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return Rp(this.persistence,new Pp,e.initialUser,this.serializer)}Xa(e){return new Cp(_p.ri,this.serializer)}Za(e){return new Wp}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Lg.provider={build:()=>new Lg};class Fg extends Lg{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Jl(this.persistence.referenceDelegate instanceof Np);const n=this.persistence.referenceDelegate.garbageCollector;return new hp(n,e.asyncQueue,t)}Xa(e){const t=void 0!==this.cacheSizeBytes?op.withCacheSize(this.cacheSizeBytes):op.DEFAULT;return new Cp((e=>Np.ri(e,t)),this.serializer)}}class Ug{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>wg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pg.bind(null,this.syncEngine),await Vm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Xm}createDatastore(e){const t=am(e.databaseInfo.databaseId),n=function(e){return new rm(e)}(e.databaseInfo);return function(e,t,n,r){return new hm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new mm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>wg(this.syncEngine,e,0)),Yp.D()?new Yp:new Kp)}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){const s=new fg(e,t,n,r,i,a);return o&&(s.ja=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=ec(e);Gl(pm,"RemoteStore shutting down."),t.W_.add(5),await ym(t),t.z_.shutdown(),t.j_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}Ug.provider={build:()=>new Ug};class Bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Yl("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const zg="FirestoreClient";class Vg{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ql.UNAUTHENTICATED,this.clientId=fc.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{Gl(zg,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Gl(zg,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new rc;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Wm(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function $g(e,t){e.asyncQueue.verifyOperationInProgress(),Gl(zg,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Lp(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function qg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Hg(e);Gl(zg,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>zm(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>zm(t.remoteStore,n))),e._onlineComponents=t}async function Hg(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Gl(zg,"Using user provided OfflineComponentProvider");try{await $g(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===tc.FAILED_PRECONDITION||e.code===tc.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;Ql("Error using user provided cache. Falling back to memory cache: "+n),await $g(e,new Lg)}}else Gl(zg,"Using default OfflineComponentProvider"),await $g(e,new Fg(void 0));return e._offlineComponents}async function Wg(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Gl(zg,"Using user provided OnlineComponentProvider"),await qg(e,e._uninitializedComponentsProvider._online)):(Gl(zg,"Using default OnlineComponentProvider"),await qg(e,new Ug))),e._onlineComponents}function Kg(e){return Wg(e).then((e=>e.syncEngine))}async function Gg(e){const t=await Wg(e),n=t.eventManager;return n.onListen=pg.bind(null,t.syncEngine),n.onUnlisten=vg.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=mg.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=bg.bind(null,t.syncEngine),n}function Yg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new rc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Bg({next:s=>{a.su(),t.enqueueAndForget((()=>eg(e,o)));const l=s.docs.has(n);!l&&s.fromCache?i.reject(new nc(tc.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&s.fromCache&&r&&"server"===r.source?i.reject(new nc(tc.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new og(Vd(n.path),a,{includeMetadataChanges:!0,Ta:!0});return Jm(e,o)}(await Gg(e),e.asyncQueue,t,n,r))),r.promise}function Qg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new rc;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const a=new Bg({next:n=>{a.su(),t.enqueueAndForget((()=>eg(e,o))),n.fromCache&&"server"===r.source?i.reject(new nc(tc.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new og(n,a,{includeMetadataChanges:!0,Ta:!0});return Jm(e,o)}(await Gg(e),e.asyncQueue,t,n,r))),r.promise}function Xg(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Zg=new Map;function Jg(e,t,n){if(!n)throw new nc(tc.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function ey(e){if(!Ec.isDocumentKey(e))throw new nc(tc.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ty(e){if(Ec.isDocumentKey(e))throw new nc(tc.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ny(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Zl()}function ry(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new nc(tc.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ny(e);throw new nc(tc.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function iy(e,t){if(t<=0)throw new nc(tc.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}const ay="firestore.googleapis.com",oy=!0;class sy{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new nc(tc.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ay,this.ssl=oy}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:oy;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=ap;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<cp)throw new nc(tc.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new nc(tc.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xg(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new nc(tc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new nc(tc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new nc(tc.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ly{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sy({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new nc(tc.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new nc(tc.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sy(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new ac;switch(e.type){case"firstParty":return new cc(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new nc(tc.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Zg.get(e);t&&(Gl("ComponentProvider","Removing Datastore"),Zg.delete(e),t.terminate())}(this),Promise.resolve()}}function cy(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const a=(e=ry(e,ly))._getSettings(),o=Object.assign(Object.assign({},a),{emulatorOptions:e._getEmulatorOptions()}),s=`${t}:${n}`;a.host!==ay&&a.host!==s&&Ql("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l=Object.assign(Object.assign({},a),{host:s,ssl:!1,emulatorOptions:r});if(!tn(l,o)&&(e._setSettings(l),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ql.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ut(JSON.stringify({alg:"none",type:"JWT"})),Ut(JSON.stringify(a)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const a=r.mockUserToken.sub||r.mockUserToken.user_id;if(!a)throw new nc(tc.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ql(a)}e._authCredentials=new oc(new ic(t,n))}}class uy{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new uy(this.firestore,e,this._query)}}class dy{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hy(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dy(this.firestore,e,this._key)}}class hy extends uy{constructor(e,t,n){super(e,t,Vd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dy(this.firestore,null,new Ec(e))}withConverter(e){return new hy(this.firestore,e,this._path)}}function fy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=un(e),Jg("collection","path",t),e instanceof ly){const n=jc.fromString(t,...r);return ty(n),new hy(e,null,n)}{if(!(e instanceof dy||e instanceof hy))throw new nc(tc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jc.fromString(t,...r));return ty(n),new hy(e.firestore,null,n)}}function py(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=un(e),1===arguments.length&&(t=fc.newId()),Jg("doc","path",t),e instanceof ly){const n=jc.fromString(t,...r);return ey(n),new dy(e,null,new Ec(n))}{if(!(e instanceof dy||e instanceof hy))throw new nc(tc.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(jc.fromString(t,...r));return ey(n),new dy(e.firestore,e instanceof hy?e.converter:null,new Ec(n))}}const my="AsyncQueue";class gy{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new om(this,"async_queue_retry"),this.bu=()=>{const e=im();e&&Gl(my,"Visibility state changed to "+e.visibilityState),this.a_.t_()},this.Su=e;const t=im();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=im();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise((()=>{}));const t=new rc;return this.vu((()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Vu.push(e),this.Cu())))}async Cu(){if(0!==this.Vu.length){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch($$){if(!Lc($$))throw $$;Gl(my,"Operation failed with retryable error: "+$$)}this.Vu.length>0&&this.a_.Xo((()=>this.Cu()))}}vu(e){const t=this.Su.then((()=>(this.pu=!0,e().catch((e=>{this.gu=e,this.pu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Yl("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.pu=!1,e))))));return this.Su=t,t}enqueueAfterDelay(e,t,n){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const r=Hm.createAndSchedule(this,e,t,n,(e=>this.Fu(e)));return this.fu.push(r),r}Du(){this.gu&&Zl()}verifyOperationInProgress(){}async Mu(){let e;do{e=this.Su,await e}while(e!==this.Su)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then((()=>{this.fu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.fu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Mu()}))}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function yy(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class vy extends ly{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new gy,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gy(e),this._firestoreClient=void 0,await e}}}function by(e){if(e._terminated)throw new nc(tc.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||xy(e),e._firestoreClient}function xy(e){var t,n,r;const i=e._freezeSettings(),a=function(e,t,n,r){return new Fu(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Xg(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Vg(e._authCredentials,e._appCheckCredentials,e._queue,a,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class wy{constructor(e){this._byteString=e}static fromBase64String(e){try{return new wy(Tu.fromBase64String(e))}catch(e){throw new nc(tc.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new wy(Tu.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class jy{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new nc(tc.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kc(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sy{constructor(e){this._methodName=e}}class ky{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new nc(tc.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new nc(tc.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return pc(this._lat,e._lat)||pc(this._long,e._long)}}class Ey{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Ty=/^__.*__$/;class Cy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new $h(e,this.data,this.fieldMask,t,this.fieldTransforms):new Vh(e,this.data,t,this.fieldTransforms)}}class Oy{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new $h(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _y(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zl()}}class Ny{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Bu(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Ny(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.$u(e),r}Ku(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ku({path:n,Qu:!1});return r.Bu(),r}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Gy(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(0===e.length)throw this.Wu("Document fields must not be empty");if(_y(this.Lu)&&Ty.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ay{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||am(e)}ju(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Ny({Lu:e,methodName:t,zu:n,path:kc.emptyPath(),Qu:!1,Gu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Iy(e){const t=e._freezeSettings(),n=am(e._databaseId);return new Ay(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Py(e,t,n,r,i){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ju(a.merge||a.mergeFields?2:0,t,n,i);qy("Data must be an object, but it was:",o,r);const s=Vy(r,o);let l,c;if(a.merge)l=new ku(o.fieldMask),c=o.fieldTransforms;else if(a.mergeFields){const e=[];for(const r of a.mergeFields){const i=Hy(t,r,n);if(!o.contains(i))throw new nc(tc.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Yy(e,i)||e.push(i)}l=new ku(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new Cy(new ud(s),l,c)}class Dy extends Sy{_toFieldTransform(e){if(2!==e.Lu)throw 1===e.Lu?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Dy}}function My(e,t,n){return new Ny({Lu:3,zu:t.settings.zu,methodName:e._methodName,Qu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Ry extends Sy{_toFieldTransform(e){return new Ih(e.path,new kh)}isEqual(e){return e instanceof Ry}}class Ly extends Sy{constructor(e,t){super(e),this.Hu=t}_toFieldTransform(e){const t=My(this,e,!0),n=this.Hu.map((e=>zy(e,t))),r=new Eh(n);return new Ih(e.path,r)}isEqual(e){return e instanceof Ly&&tn(this.Hu,e.Hu)}}function Fy(e,t,n,r){const i=e.ju(1,t,n);qy("Data must be an object, but it was:",i,r);const a=[],o=ud.empty();yu(r,((e,r)=>{const s=Ky(t,e,n);r=un(r);const l=i.Ku(s);if(r instanceof Dy)a.push(s);else{const e=zy(r,l);null!=e&&(a.push(s),o.set(s,e))}}));const s=new ku(a);return new Oy(o,s,i.fieldTransforms)}function Uy(e,t,n,r,i,a){const o=e.ju(1,t,n),s=[Hy(t,r,n)],l=[i];if(a.length%2!=0)throw new nc(tc.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<a.length;h+=2)s.push(Hy(t,a[h])),l.push(a[h+1]);const c=[],u=ud.empty();for(let h=s.length-1;h>=0;--h)if(!Yy(c,s[h])){const e=s[h];let t=l[h];t=un(t);const n=o.Ku(e);if(t instanceof Dy)c.push(e);else{const r=zy(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new ku(c);return new Oy(u,d,o.fieldTransforms)}function By(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return zy(n,e.ju(r?4:3,t))}function zy(e,t){if($y(e=un(e)))return qy("Unsupported field value:",t,e),Vy(e,t);if(e instanceof Sy)return function(e,t){if(!_y(t.Lu))throw t.Wu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Wu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Qu&&4!==t.Lu)throw t.Wu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=zy(i,t.Uu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=un(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return bh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=vc.fromDate(e);return{timestampValue:Ef(t.serializer,n)}}if(e instanceof vc){const n=new vc(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ef(t.serializer,n)}}if(e instanceof ky)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wy)return{bytesValue:Tf(t.serializer,e._byteString)};if(e instanceof dy){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Wu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:_f(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof Ey)return function(e,t){return{mapValue:{fields:{[zu]:{stringValue:qu},[Hu]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Wu("VectorValues must only contain numeric values.");return yh(t.serializer,e)}))}}}}}}(e,t);throw t.Wu(`Unsupported field value: ${ny(e)}`)}(e,t)}function Vy(e,t){const n={};return vu(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yu(e,((e,r)=>{const i=zy(r,t.qu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function $y(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof vc||e instanceof ky||e instanceof wy||e instanceof dy||e instanceof Sy||e instanceof Ey)}function qy(e,t,n){if(!$y(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ny(n);throw"an object"===r?t.Wu(e+" a custom object"):t.Wu(e+" "+r)}}function Hy(e,t,n){if((t=un(t))instanceof jy)return t._internalPath;if("string"==typeof t)return Ky(e,t);throw Gy("Field path arguments must be of type string or ",e,!1,void 0,n)}const Wy=new RegExp("[~\\*/\\[\\]]");function Ky(e,t,n){if(t.search(Wy)>=0)throw Gy(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new jy(...t.split("."))._internalPath}catch(yx){throw Gy(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Gy(e,t,n,r,i){const a=r&&!r.isEmpty(),o=void 0!==i;let s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(a||o)&&(l+=" (found",a&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new nc(tc.INVALID_ARGUMENT,s+e+l)}function Yy(e,t){return e.some((e=>e.isEqual(t)))}class Qy{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new dy(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Xy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Zy("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Xy extends Qy{data(){return super.data()}}function Zy(e,t){return"string"==typeof t?Ky(e,t):t instanceof jy?t._internalPath:t._delegate._internalPath}function Jy(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new nc(tc.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ev{}class tv extends ev{}function nv(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof ev&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof iv)).length,n=e.filter((e=>e instanceof rv)).length;if(t>1||t>0&&n>0)throw new nc(tc.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class rv extends tv{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rv(e,t,n)}_apply(e){const t=this._parse(e);return cv(e._query,t),new uy(e.firestore,e.converter,Gd(e._query,t))}_parse(e){const t=Iy(e.firestore),n=function(e,t,n,r,i,a,o){let s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new nc(tc.INVALID_ARGUMENT,`Invalid Query. You can't perform '${a}' queries on documentId().`);if("in"===a||"not-in"===a){lv(o,a);const t=[];for(const n of o)t.push(sv(r,e,n));s={arrayValue:{values:t}}}else s=sv(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||lv(o,a),s=By(n,t,o,"in"===a||"not-in"===a);return bd.create(i,a,s)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class iv extends ev{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:xd.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)cv(n,i),n=Gd(n,i)}(e._query,t),new uy(e.firestore,e.converter,Gd(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class av extends tv{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new av(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new nc(tc.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new nc(tc.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gd(t,n)}(e._query,this._field,this._direction);return new uy(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Bd(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class ov extends tv{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ov(e,t,n)}_apply(e){return new uy(e.firestore,e.converter,Yd(e._query,this._limit,this._limitType))}}function sv(e,t,n){if("string"==typeof(n=un(n))){if(""===n)throw new nc(tc.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!qd(t)&&-1!==n.indexOf("/"))throw new nc(tc.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(jc.fromString(n));if(!Ec.isDocumentKey(r))throw new nc(tc.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return td(e,new Ec(r))}if(n instanceof dy)return td(e,n._key);throw new nc(tc.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ny(n)}.`)}function lv(e,t){if(!Array.isArray(e)||0===e.length)throw new nc(tc.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function cv(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new nc(tc.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new nc(tc.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class uv{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Wu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _u(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Zl()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yu(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[Hu].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>_u(e.doubleValue)));return new Ey(i)}convertGeoPoint(e){return new ky(_u(e.latitude),_u(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ru(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Lu(e));default:return null}}convertTimestamp(e){const t=Ou(e);return new vc(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=jc.fromString(e);Jl(Xf(n));const r=new Bu(n.get(1),n.get(3)),i=new Ec(n.popFirst(5));return r.isEqual(t)||Yl(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function dv(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class hv{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fv extends Qy{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new pv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(Zy("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class pv extends fv{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class mv{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new hv(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new pv(this._firestore,this._userDataWriter,n.key,n,new hv(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new nc(tc.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new pv(e._firestore,e._userDataWriter,n.doc.key,n.doc,new hv(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new pv(e._firestore,e._userDataWriter,t.doc.key,t.doc,new hv(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,a=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:gv(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function gv(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zl()}}function yv(e){e=ry(e,dy);const t=ry(e.firestore,vy);return Yg(by(t),e._key).then((n=>kv(t,e,n)))}class vv extends uv{constructor(e){super(),this.firestore=e}convertBytes(e){return new wy(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dy(this.firestore,null,t)}}function bv(e,t,n){e=ry(e,dy);const r=ry(e.firestore,vy),i=dv(e.converter,t,n);return Sv(r,[Py(Iy(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Dh.none())])}function xv(e,t,n){e=ry(e,dy);const r=ry(e.firestore,vy),i=Iy(r);let a;for(var o=arguments.length,s=new Array(o>3?o-3:0),l=3;l<o;l++)s[l-3]=arguments[l];return a="string"==typeof(t=un(t))||t instanceof jy?Uy(i,"updateDoc",e._key,t,n,s):Fy(i,"updateDoc",e._key,t),Sv(r,[a.toMutation(e._key,Dh.exists(!0))])}function wv(e,t){const n=ry(e.firestore,vy),r=py(e),i=dv(e.converter,t);return Sv(n,[Py(Iy(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Dh.exists(!1))]).then((()=>r))}function jv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=un(e);let s={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||yy(n[l])||(s=n[l],l++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(yy(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(a=e.error)||void 0===a?void 0:a.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,d,h;if(e instanceof dy)d=ry(e.firestore,vy),h=Vd(e._key.path),u={next:t=>{n[l]&&n[l](kv(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=ry(e,uy);d=ry(t.firestore,vy),h=t._query;const r=new vv(d);u={next:e=>{n[l]&&n[l](new mv(d,r,t,e))},error:n[l+1],complete:n[l+2]},Jy(e._query)}return function(e,t,n,r){const i=new Bg(r),a=new og(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Jm(await Gg(e),a))),()=>{i.su(),e.asyncQueue.enqueueAndForget((async()=>eg(await Gg(e),a)))}}(by(d),h,c,u)}function Sv(e,t){return function(e,t){const n=new rc;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Rg(e);try{const e=await function(e,t){const n=ec(e),r=vc.now(),i=t.reduce(((e,t)=>e.add(t.key)),ph());let a,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let s=ah(),l=ph();return n.ds.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;const o=[];for(const e of t){const t=Bh(e,a.get(e.key).overlayedDocument);null!=t&&o.push(new $h(e.key,t,dd(t.value.mapValue),Dh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(a,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:lh(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Wa[e.currentUser.toKey()];r||(r=new bu(pc)),r=r.insert(t,n),e.Wa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Ig(r,e.changes),await Im(r.remoteStore)}catch(e){const t=Wm(e,"Failed to persist write");n.reject(t)}}(await Kg(e),t,n))),n.promise}(by(e),t)}function kv(e,t,n){const r=n.docs.get(t._key),i=new vv(e);return new fv(e,i,t._key,r,new hv(n.hasPendingWrites,n.fromCache),t.converter)}class Ev{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Iy(e)}set(e,t,n){this._verifyNotCommitted();const r=Tv(e,this._firestore),i=dv(r.converter,t,n),a=Py(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,Dh.none())),this}update(e,t,n){this._verifyNotCommitted();const r=Tv(e,this._firestore);let i;for(var a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return i="string"==typeof(t=un(t))||t instanceof jy?Uy(this._dataReader,"WriteBatch.update",r._key,t,n,o):Fy(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,Dh.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Tv(e,this._firestore);return this._mutations=this._mutations.concat(new Kh(t._key,Dh.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new nc(tc.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Tv(e,t){if((e=un(e)).firestore!==t)throw new nc(tc.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}function Cv(){return new Ry("serverTimestamp")}function Ov(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Ly("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Hl=e}(Tr),wr(new dn("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const a=e.getProvider("app").getImmediate(),o=new vy(new sc(e.getProvider("auth-internal")),new dc(a,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new nc(tc.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),_r(Vl,$l,e),_r(Vl,$l,"esm2017")}();const _v="firebasestorage.googleapis.com",Nv="storageBucket";class Av extends Zt{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(Dv(e),`Firebase Storage: ${t} (${Dv(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Av.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Dv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Iv,Pv;function Dv(e){return"storage/"+e}function Mv(){return new Av(Iv.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Rv(){return new Av(Iv.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Lv(){return new Av(Iv.CANCELED,"User canceled the upload/download.")}function Fv(e){return new Av(Iv.INVALID_ARGUMENT,e)}function Uv(){return new Av(Iv.APP_DELETED,"The Firebase app was deleted.")}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Iv||(Iv={}));class Bv{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Bv.makeFromUrl(e,t)}catch($$){return new Bv(e,"")}if(""===n.path)return n;throw r=e,new Av(Iv.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),s=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${o}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp(`^https?://${t===_v?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:a}];for(let l=0;l<s.length;l++){const t=s[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new Bv(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Av(Iv.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class zv{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Vv(e,t,n,r){if(r<t)throw Fv(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw Fv(`Invalid value for '${e}'. Expected ${n} or less.`)}function $v(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function qv(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Pv||(Pv={}));class Hv{constructor(e,t,n,r,i,a,o,s,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=s,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new Wv(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Pv.NO_ERROR,i=n.getStatus();if(!t||qv(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Pv.ABORT;return void e(!1,new Wv(!1,null,t))}const a=-1!==this.successCodes_.indexOf(i);e(!0,new Wv(a,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch($$){r($$)}else if(null!==i){const e=Mv();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Uv():Lv())}else{r(Rv())}};this.canceled_?t(0,new Wv(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,a=null,o=!1,s=0;function l(){return 2===s}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function h(){a&&clearTimeout(a)}function f(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||o)return h(),void u.call(null,e,...n);let a;r<64&&(r*=2),1===s?(s=2,a=0):a=1e3*(r+Math.random()),d(a)}let p=!1;function m(e){p||(p=!0,h(),c||(null!==i?(e||(s=2),clearTimeout(i),d(0)):e||(s=1)))}return d(0),a=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Wv{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Kv(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}class Gv{constructor(e,t){this._service=e,this._location=t instanceof Bv?t:Bv.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Gv(e,t)}get root(){const e=new Bv(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Kv(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Bv(this._location.bucket,e);return new Gv(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Av(Iv.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function Yv(e,t){const n=null===t||void 0===t?void 0:t[Nv];return null==n?null:Bv.makeFromBucketSpec(n,e)}class Qv{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=_v,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Bv.makeFromBucketSpec(r,this._host):Yv(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=Bv.makeFromBucketSpec(this._url,e):this._bucket=Yv(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Vv("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Vv("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){if(Sr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gv(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new zv(Uv());{const a=function(e,t,n,r,i,a){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const s=$v(e.urlParams),l=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,a),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Hv(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(a),a.getPromise().then((()=>this._requests.delete(a)),(()=>this._requests.delete(a))),a}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Xv="@firebase/storage",Zv="0.13.7",Jv="storage";function eb(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new Qv(r,i,a,n,Tr)}wr(new dn(Jv,eb,"PUBLIC").setMultipleInstances(!0)),_r(Xv,Zv,""),_r(Xv,Zv,"esm2017");const tb=Cr({apiKey:"AIzaSyAl88iCq6NceWXaCtuyjAZ9YlcXZlhhtxA",authDomain:"solo-leveling-1ad7c.firebaseapp.com",projectId:"solo-leveling-1ad7c",storageBucket:"solo-leveling-1ad7c.firebasestorage.app",messagingSenderId:"1000707203770",appId:"1:1000707203770:web:a490cff7f922dcbc2a5883",measurementId:"G-44QQP0F9GZ"}),nb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Or();const t=jr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=jr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(tn(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Wr(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:es,persistence:[co,Wa,Ga]}),r=Ht("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>is)return;const r=null===t||void 0===t?void 0:t.token;as!==r&&(as=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){un(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){un(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const a=$t("auth");return a&&da(n,`http://${a}`),n}(tb),rb=function(e,t){const n="object"==typeof e?e:Or(),r="string"==typeof e?e:t||Uu,i=jr(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=(e=>{const t=$t(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&cy(i,...e)}return i}(tb),ib=(0,r.createContext)(),ab=()=>(0,r.useContext)(ib),ob=e=>{let{children:t}=e;const[n,i]=(0,r.useState)(null),[a,o]=(0,r.useState)(!0);(0,r.useEffect)((()=>{const e=function(e,t,n,r){return un(e).onAuthStateChanged(t,n,r)}(nb,(e=>{i(e),o(!1)}));return e}),[]);const s={currentUser:n,login:(e,t)=>function(e,t,n){return Sr(e.app)?Promise.reject(Yr(e)):Ua(un(e),ka.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ba(e),t}))}(nb,e,t),signup:async(e,t,n)=>{try{const r=await async function(e,t,n){if(Sr(e.app))return Promise.reject(Yr(e));const r=Ji(e),i=ca(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Aa,"EMAIL_PASSWORD_PROVIDER"),a=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ba(e),t})),o=await Ia._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(o.user),o}(nb,e,t);return await za(r.user,{displayName:n}),r.user}catch(r){throw r}},logout:()=>function(e){return un(e).signOut()}(nb),loading:a};return(0,Ae.jsx)(ib.Provider,{value:s,children:!a&&t})},sb=async(e,t)=>{try{return await bv(py(rb,"gameStates",e),{...t,updatedAt:new Date}),!0}catch(n){throw console.error("Error saving game state:",n),n}},lb=[{id:"discipline",name:"Discipline",description:"Organization, routine adherence, mindful choices",icon:"\ud83d\udccb"},{id:"linguist",name:"Linguist",description:"Language learning, communication, writing",icon:"\ud83d\udde3\ufe0f"},{id:"stamina",name:"Stamina",description:"Cardio, endurance, energy management",icon:"\ud83c\udfc3"},{id:"strength",name:"Strength",description:"Physical power, resistance training",icon:"\ud83d\udcaa"},{id:"agility",name:"Agility",description:"Flexibility, balance, coordination, mobility",icon:"\ud83e\udd38"},{id:"intelligence",name:"Intelligence",description:"Learning, problem-solving, mental growth",icon:"\ud83e\udde0"},{id:"concentration",name:"Concentration",description:"Focus, meditation, attention span",icon:"\ud83e\uddd8"}],cb={SIMPLE:{id:"simple",name:"Simple Habit",points:1,timeRequired:"5-15 min"},REGULAR:{id:"regular",name:"Regular Practice",points:2,timeRequired:"15-30 min"},CHALLENGE:{id:"challenge",name:"Challenge",points:3,timeRequired:"30-60 min"},MAJOR:{id:"major",name:"Major Effort",points:5,timeRequired:"1+ hours"},MILESTONE:{id:"milestone",name:"Milestone",points:8,timeRequired:"Achievement"}},ub=[{range:[1,10],pointsPerLevel:10},{range:[11,20],pointsPerLevel:15},{range:[21,30],pointsPerLevel:25},{range:[31,40],pointsPerLevel:40},{range:[41,50],pointsPerLevel:60},{range:[51,60],pointsPerLevel:85},{range:[61,70],pointsPerLevel:115},{range:[71,80],pointsPerLevel:150},{range:[81,90],pointsPerLevel:190},{range:[91,100],pointsPerLevel:250}],db=[{name:"Beginner",range:[0,9]},{name:"Novice",range:[10,19]},{name:"Apprentice",range:[20,29]},{name:"Adept",range:[30,39]},{name:"Expert",range:[40,49]},{name:"Master",range:[50,59]},{name:"Grandmaster",range:[60,69]},{name:"Legend",range:[70,79]},{name:"Mythic",range:[80,89]},{name:"Sovereign",range:[90,99]},{name:"Transcendent",range:[100,1/0]}],hb=[{range:[3,7],bonus:.15},{range:[8,14],bonus:.2},{range:[15,30],bonus:.25},{range:[31,1/0],bonus:.3}],fb={playerName:"Player",profilePicture:null,stats:lb.reduce(((e,t)=>(e[t.id]={level:1,points:0,lifetimePoints:0,history:[]},e)),{}),tasks:[],completedTasks:[],streak:{current:0,lastCompletionDate:null},taskHistory:[]},pb=e=>{for(const t of ub)if(e>=t.range[0]&&e<=t.range[1])return t.pointsPerLevel;return ub[ub.length-1].pointsPerLevel},mb=e=>{for(const t of db)if(e>=t.range[0]&&e<=t.range[1])return t.name;return db[db.length-1].name},gb=e=>{for(const t of hb)if(e>=t.range[0]&&e<=t.range[1])return t.bonus;return hb[hb.length-1].bonus},yb=(e,t)=>{switch(t.type){case"SET_PLAYER_NAME":return{...e,playerName:t.payload};case"SET_PROFILE_PICTURE":return{...e,profilePicture:t.payload};case"ADD_TASK":return{...e,tasks:[...e.tasks,{id:Date.now().toString(),createdAt:(new Date).toISOString(),...t.payload}]};case"DELETE_TASK":return{...e,tasks:e.tasks.filter((e=>e.id!==t.payload))};case"COMPLETE_TASK":{const{taskId:n}=t.payload,r=e.tasks.find((e=>e.id===n));if(!r)return e;const i=Mt(new Date,"yyyy-MM-dd"),a=e.streak.lastCompletionDate,o=Mt(new Date(Date.now()-864e5),"yyyy-MM-dd");let s=e.streak.current;a?a===o?s+=1:a!==i&&(s=1):s=1;const l=gb(s),c=Math.floor(cb[r.type.toUpperCase()].points*l),u=cb[r.type.toUpperCase()].points+c,d=e.stats[r.statId];let h=d.points+u,f=d.level,p=(d.lifetimePoints||0)+u;const m=pb(f);h>=m&&(h-=m,f+=1);const g={...r,completedAt:(new Date).toISOString(),points:u,basePoints:cb[r.type.toUpperCase()].points,bonusPoints:c};return{...e,stats:{...e.stats,[r.statId]:{...d,points:h,level:f,lifetimePoints:p,history:[...d.history,{date:i,points:u,task:r.name}]}},tasks:e.tasks.filter((e=>e.id!==n)),completedTasks:[...e.completedTasks,g],streak:{current:s,lastCompletionDate:i},taskHistory:[...e.taskHistory,g]}}case"RESET_GAME":return fb;case"IMPORT_GAME_STATE":const n=t.payload;return lb.forEach((e=>{n.stats[e.id]||(n.stats[e.id]={level:1,points:0,lifetimePoints:0,history:[]})})),n;default:return e}},vb=(0,r.createContext)(),bb=()=>(0,r.useContext)(vb),xb=e=>{let{children:t}=e;const{currentUser:n}=ab(),[i,a]=(0,r.useReducer)(yb,fb),[o,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)(!0);(0,r.useEffect)((()=>{(async()=>{if(n){console.log("Loading game state for user:",n.uid),s(!0),c(!0);try{const t=await(async e=>{try{const t=py(rb,"gameStates",e),n=await yv(t);return n.exists()?n.data():null}catch(t){throw console.error("Error getting game state:",t),t}})(n.uid);if(t){console.log("Found Firestore game state for user",n.uid,"Data:",JSON.stringify(t).substring(0,100)+"...");let r=!1;t.taskHistory&&t.taskHistory.length>0&&(r=!0,console.log("Found valid task history with",t.taskHistory.length,"entries")),t.stats&&Object.entries(t.stats).forEach((e=>{let[t,n]=e;(n.level>1||n.points>0||n.history&&n.history.length>0)&&(r=!0,console.log(`Found valid stat data for ${t}: level ${n.level}, points ${n.points}`))}));let i=!1;if(t.stats&&Object.values(t.stats).forEach((e=>{void 0===e.lifetimePoints&&(i=!0)})),t.stats.agility||(console.log("Adding new Agility stat to user data"),t.stats.agility={level:1,points:0,lifetimePoints:0,history:[]},i=!0),i){console.log("Migrating data to include lifetimePoints and new stats"),t.taskHistory&&t.taskHistory.length>0?lb.forEach((e=>{t.stats[e.id]||(t.stats[e.id]={level:1,points:0,history:[]});const n=t.taskHistory.filter((t=>t.statId===e.id)).reduce(((e,t)=>e+(t.points||0)),0);t.stats[e.id].lifetimePoints=n})):lb.forEach((e=>{t.stats[e.id]||(t.stats[e.id]={level:1,points:0,history:[]});const n=t.stats[e.id];let r=n.points||0;for(let t=1;t<n.level;t++)r+=pb(t);t.stats[e.id].lifetimePoints=r}));try{await sb(n.uid,t),console.log("Migrated game state saved to Firestore")}catch(e){console.error("Error saving migrated game state:",e)}}if(r)a({type:"IMPORT_GAME_STATE",payload:t});else{console.warn("Found game state appears to be empty or reset - creating fresh state");const e={...fb,playerName:n.displayName||n.email.split("@")[0]};a({type:"IMPORT_GAME_STATE",payload:e})}}else{console.log("No game state found for user, creating new one"),a({type:"RESET_GAME"});const e={...fb,playerName:n.displayName||n.email.split("@")[0]};a({type:"IMPORT_GAME_STATE",payload:e}),await sb(n.uid,e)}}catch(e){console.error("Error loading game state from Firestore:",e);const t=localStorage.getItem(`gameState_${n.uid}`);t&&(console.log("Using localStorage fallback for user",n.uid),a({type:"IMPORT_GAME_STATE",payload:JSON.parse(t)}))}finally{s(!1),setTimeout((()=>{c(!1),console.log("Ready to save state changes")}),1e3)}}else{console.log("No user logged in, using demo mode");const e=localStorage.getItem("gameState_demo");e&&a({type:"IMPORT_GAME_STATE",payload:JSON.parse(e)}),s(!1),c(!1)}})()}),[n]),(0,r.useEffect)((()=>{(async()=>{if(l||o)console.log("Skipping save during loading phase");else if(n){let t=!1;if(i.taskHistory&&i.taskHistory.length>0&&(t=!0),i.stats&&Object.values(i.stats).forEach((e=>{(e.level>1||e.points>0||e.history&&e.history.length>0)&&(t=!0)})),localStorage.setItem(`gameState_${n.uid}`,JSON.stringify(i)),t)try{console.log("Saving state to Firestore, state sample:",JSON.stringify(i).substring(0,100)+"..."),await sb(n.uid,i),console.log("Game state saved to Firestore for user",n.uid)}catch(e){console.error("Error saving game state to Firestore:",e)}else console.log("Skipping save to Firestore - state appears to be empty")}else n||localStorage.setItem("gameState_demo",JSON.stringify(i))})()}),[i,n,o,l]);const u=()=>{const e=Object.values(i.stats).reduce(((e,t)=>e+t.level),0);return Math.floor(e/lb.length)},d={...i,dispatch:a,loading:o,STATS:lb,TASK_TYPES:cb,LEVELS:ub,RANKS:db,STREAK_BONUSES:hb,getPointsToNextLevel:pb,getRank:mb,getStreakBonus:gb,getOverallLevel:u,getOverallRank:()=>mb(u()),getTodaysTasks:()=>{const e=Mt(new Date,"yyyy-MM-dd");return i.completedTasks.filter((t=>Mt(new Date(t.completedAt),"yyyy-MM-dd")===e))}};return n&&o?(0,Ae.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",gap:"1rem"},children:[(0,Ae.jsx)("div",{style:{fontSize:"1.5rem",fontWeight:"bold"},children:"Loading your game data..."}),(0,Ae.jsx)("div",{children:"Please wait while we fetch your progress"})]}):(0,Ae.jsx)(vb.Provider,{value:d,children:t})},wb=(0,r.createContext)(),jb=()=>(0,r.useContext)(wb),Sb=[{id:"streak-3",category:"Streak",title:"Habit Former",description:"Maintain a 3-day streak",icon:"\ud83d\udd25",criteria:e=>e.streak.current>=3,progressFn:e=>({current:Math.min(e.streak.current,3),target:3})},{id:"streak-7",category:"Streak",title:"Consistency is Key",description:"Maintain a 7-day streak",icon:"\ud83d\udd25",criteria:e=>e.streak.current>=7,progressFn:e=>({current:Math.min(e.streak.current,7),target:7})},{id:"streak-14",category:"Streak",title:"Fortnight Warrior",description:"Maintain a 14-day streak",icon:"\ud83d\udd25",criteria:e=>e.streak.current>=14,progressFn:e=>({current:Math.min(e.streak.current,14),target:14})},{id:"streak-30",category:"Streak",title:"Monthly Master",description:"Maintain a 30-day streak",icon:"\ud83d\udd25",criteria:e=>e.streak.current>=30,progressFn:e=>({current:Math.min(e.streak.current,30),target:30})},{id:"streak-90",category:"Streak",title:"Quarterly Champion",description:"Maintain a 90-day streak",icon:"\ud83c\udfc6",criteria:e=>e.streak.current>=90,progressFn:e=>({current:Math.min(e.streak.current,90),target:90})},{id:"level-5",category:"Level",title:"Beginner's Growth",description:"Reach overall level 5",icon:"\u2b50",criteria:e=>{const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0);return Math.floor(t/6)>=5},progressFn:e=>{const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0),n=Math.floor(t/6);return{current:Math.min(n,5),target:5}}},{id:"level-10",category:"Level",title:"Rising Star",description:"Reach overall level 10",icon:"\u2b50",criteria:e=>{const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0);return Math.floor(t/6)>=10},progressFn:e=>{const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0),n=Math.floor(t/6);return{current:Math.min(n,10),target:10}}},{id:"level-25",category:"Level",title:"Dedicated Improver",description:"Reach overall level 25",icon:"\ud83c\udf1f",criteria:e=>{const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0);return Math.floor(t/6)>=25},progressFn:e=>{const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0),n=Math.floor(t/6);return{current:Math.min(n,25),target:25}}},{id:"level-50",category:"Level",title:"Transformation Master",description:"Reach overall level 50",icon:"\ud83d\udcab",criteria:e=>{const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0);return Math.floor(t/6)>=50},progressFn:e=>{const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0),n=Math.floor(t/6);return{current:Math.min(n,50),target:50}}},{id:"tasks-10",category:"Tasks",title:"Task Starter",description:"Complete 10 tasks",icon:"\u2705",criteria:e=>e.completedTasks.length>=10,progressFn:e=>({current:Math.min(e.completedTasks.length,10),target:10})},{id:"tasks-50",category:"Tasks",title:"Task Enthusiast",description:"Complete 50 tasks",icon:"\u2705",criteria:e=>e.completedTasks.length>=50,progressFn:e=>({current:Math.min(e.completedTasks.length,50),target:50})},{id:"tasks-100",category:"Tasks",title:"Task Master",description:"Complete 100 tasks",icon:"\ud83c\udfc5",criteria:e=>e.completedTasks.length>=100,progressFn:e=>({current:Math.min(e.completedTasks.length,100),target:100})},{id:"tasks-milestone-5",category:"Tasks",title:"Milestone Achiever",description:"Complete 5 milestone tasks",icon:"\ud83c\udfc6",criteria:e=>e.completedTasks.filter((e=>"milestone"===e.type)).length>=5,progressFn:e=>{const t=e.completedTasks.filter((e=>"milestone"===e.type)).length;return{current:Math.min(t,5),target:5}}},{id:"stat-discipline-10",category:"Stats",title:"Disciplined Mind",description:"Reach level 10 in Discipline",icon:"\ud83d\udccb",criteria:e=>e.stats.discipline.level>=10,progressFn:e=>({current:Math.min(e.stats.discipline.level,10),target:10})},{id:"stat-linguist-10",category:"Stats",title:"Word Weaver",description:"Reach level 10 in Linguist",icon:"\ud83d\udde3\ufe0f",criteria:e=>e.stats.linguist.level>=10,progressFn:e=>({current:Math.min(e.stats.linguist.level,10),target:10})},{id:"stat-stamina-10",category:"Stats",title:"Endurance Runner",description:"Reach level 10 in Stamina",icon:"\ud83c\udfc3",criteria:e=>e.stats.stamina.level>=10,progressFn:e=>({current:Math.min(e.stats.stamina.level,10),target:10})},{id:"stat-strength-10",category:"Stats",title:"Power Lifter",description:"Reach level 10 in Strength",icon:"\ud83d\udcaa",criteria:e=>e.stats.strength.level>=10,progressFn:e=>({current:Math.min(e.stats.strength.level,10),target:10})},{id:"stat-intelligence-10",category:"Stats",title:"Knowledge Seeker",description:"Reach level 10 in Intelligence",icon:"\ud83e\udde0",criteria:e=>e.stats.intelligence.level>=10,progressFn:e=>({current:Math.min(e.stats.intelligence.level,10),target:10})},{id:"stat-concentration-10",category:"Stats",title:"Focused Mind",description:"Reach level 10 in Concentration",icon:"\ud83e\uddd8",criteria:e=>e.stats.concentration.level>=10,progressFn:e=>({current:Math.min(e.stats.concentration.level,10),target:10})},{id:"balanced-stats-10",category:"Stats",title:"Jack of All Trades",description:"Get all stats to at least level 10",icon:"\u2696\ufe0f",criteria:e=>Object.values(e.stats).every((e=>e.level>=10)),progressFn:e=>({current:Object.values(e.stats).filter((e=>e.level>=10)).length,target:6})}],kb={unlockedAchievements:[],notifications:[],lastChecked:null},Eb=(e,t)=>{switch(t.type){case"UNLOCK_ACHIEVEMENT":return e.unlockedAchievements.some((e=>e.id===t.payload.id))?e:{...e,unlockedAchievements:[...e.unlockedAchievements,{...t.payload,unlockedAt:(new Date).toISOString()}],notifications:[...e.notifications,{id:Date.now().toString(),achievementId:t.payload.id,read:!1,createdAt:(new Date).toISOString()}]};case"CLEAR_NOTIFICATION":return{...e,notifications:e.notifications.filter((e=>e.id!==t.payload))};case"MARK_NOTIFICATION_READ":return{...e,notifications:e.notifications.map((e=>e.id===t.payload?{...e,read:!0}:e))};case"SET_LAST_CHECKED":return{...e,lastChecked:t.payload};case"IMPORT_ACHIEVEMENTS_STATE":return t.payload;default:return e}},Tb=e=>{let{children:t}=e;const n=bb(),[i,a]=(0,r.useReducer)(Eb,kb,(()=>{const e=localStorage.getItem("achievementsState");return e?JSON.parse(e):kb}));(0,r.useEffect)((()=>{localStorage.setItem("achievementsState",JSON.stringify(i))}),[i]),(0,r.useEffect)((()=>{n&&(a({type:"SET_LAST_CHECKED",payload:(new Date).toISOString()}),Sb.forEach((e=>{i.unlockedAchievements.some((t=>t.id===e.id))||e.criteria(n)&&a({type:"UNLOCK_ACHIEVEMENT",payload:e})})))}),[n,i.unlockedAchievements]);const o=()=>Sb.map((e=>{const t=i.unlockedAchievements.find((t=>t.id===e.id)),r=e.progressFn(n);return{...e,unlocked:!!t,unlockedAt:t?t.unlockedAt:null,progress:r}})),s={...i,achievements:o(),achievementsByCategory:o().reduce(((e,t)=>(e[t.category]||(e[t.category]=[]),e[t.category].push(t),e)),{}),unreadNotifications:i.notifications.filter((e=>!e.read)),markNotificationRead:e=>{a({type:"MARK_NOTIFICATION_READ",payload:e})},clearNotification:e=>{a({type:"CLEAR_NOTIFICATION",payload:e})}};return(0,Ae.jsx)(wb.Provider,{value:s,children:t})};Math.pow(10,8);var Cb=6e4,Ob=36e5;function _b(e,t){var n;Le(1,arguments);var r=Be(null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2);if(2!==r&&1!==r&&0!==r)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!==typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var i,a=function(e){var t,n={},r=e.split(Nb.dateTimeDelimiter);if(r.length>2)return n;/:/.test(r[0])?t=r[0]:(n.date=r[0],t=r[1],Nb.timeZoneDelimiter.test(n.date)&&(n.date=e.split(Nb.timeZoneDelimiter)[0],t=e.substr(n.date.length,e.length)));if(t){var i=Nb.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e);if(a.date){var o=function(e,t){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};var i=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?i:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(a.date,r);i=function(e,t){if(null===t)return new Date(NaN);var n=e.match(Ab);if(!n)return new Date(NaN);var r=!!n[4],i=Db(n[1]),a=Db(n[2])-1,o=Db(n[3]),s=Db(n[4]),l=Db(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,s,l)?function(e,t,n){var r=new Date(0);r.setUTCFullYear(e,0,4);var i=r.getUTCDay()||7,a=7*(t-1)+n+1-i;return r.setUTCDate(r.getUTCDate()+a),r}(t,s,l):new Date(NaN);var c=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(Rb[t]||(Lb(e)?29:28))}(t,a,o)&&function(e,t){return t>=1&&t<=(Lb(e)?366:365)}(t,i)?(c.setUTCFullYear(t,a,Math.max(i,o)),c):new Date(NaN)}(o.restDateString,o.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);var s,l=i.getTime(),c=0;if(a.time&&(c=function(e){var t=e.match(Ib);if(!t)return NaN;var n=Mb(t[1]),r=Mb(t[2]),i=Mb(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,i))return NaN;return n*Ob+r*Cb+1e3*i}(a.time),isNaN(c)))return new Date(NaN);if(!a.timezone){var u=new Date(l+c),d=new Date(0);return d.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),d.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),d}return s=function(e){if("Z"===e)return 0;var t=e.match(Pb);if(!t)return 0;var n="+"===t[1]?-1:1,r=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return n*(r*Ob+i*Cb)}(a.timezone),isNaN(s)?new Date(NaN):new Date(l+c+s)}var Nb={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ab=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Ib=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Pb=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Db(e){return e?parseInt(e):1}function Mb(e){return e&&parseFloat(e.replace(",","."))||0}var Rb=[31,null,31,30,31,30,31,31,30,31,30,31];function Lb(e){return e%400===0||e%4===0&&e%100!==0}function Fb(e){Le(1,arguments);var t=Fe(e);return t.setHours(0,0,0,0),t}function Ub(e,t){Le(2,arguments);var n=Fb(e),r=Fb(t);return n.getTime()===r.getTime()}function Bb(e,t){var n,r,i,a,o,s,l,c;Le(1,arguments);var u=We(),d=Be(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Fe(e),f=h.getDay(),p=(f<d?7:0)+f-d;return h.setDate(h.getDate()-p),h.setHours(0,0,0,0),h}function zb(e,t){var n,r,i,a,o,s,l,c;Le(1,arguments);var u=We(),d=Be(null!==(n=null!==(r=null!==(i=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(o=t.locale)||void 0===o||null===(s=o.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var h=Fe(e),f=h.getDay(),p=6+(f<d?-7:0)-(f-d);return h.setDate(h.getDate()+p),h.setHours(23,59,59,999),h}function Vb(e,t){Le(2,arguments);var n=Fe(e),r=Be(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}const $b=(0,r.createContext)(),qb=()=>(0,r.useContext)($b),Hb={DAILY:"daily",WEEKLY:"weekly",SPECIFIC_DAYS:"specificDays"},Wb=[{id:0,name:"Sunday",shortName:"Sun"},{id:1,name:"Monday",shortName:"Mon"},{id:2,name:"Tuesday",shortName:"Tue"},{id:3,name:"Wednesday",shortName:"Wed"},{id:4,name:"Thursday",shortName:"Thu"},{id:5,name:"Friday",shortName:"Fri"},{id:6,name:"Saturday",shortName:"Sat"}],Kb=[{id:"recommended",name:"Recommended",icon:"\u2b50"},{id:"favorites",name:"Favorites",icon:"\u2764\ufe0f"},{id:"personal",name:"Personal",icon:"\ud83d\udc64"}],Gb={templates:[{id:"template-discipline-1",name:"Morning routine",statId:"discipline",type:"simple",category:"recommended",isTemplate:!0},{id:"template-discipline-2",name:"Deep clean workspace",statId:"discipline",type:"regular",category:"recommended",isTemplate:!0},{id:"template-discipline-3",name:"Weekly meal prep",statId:"discipline",type:"challenge",category:"recommended",isTemplate:!0},{id:"template-linguist-1",name:"Language practice",statId:"linguist",type:"regular",category:"recommended",isTemplate:!0},{id:"template-linguist-2",name:"Read book chapter",statId:"linguist",type:"regular",category:"recommended",isTemplate:!0},{id:"template-linguist-3",name:"Journal writing",statId:"linguist",type:"simple",category:"recommended",isTemplate:!0},{id:"template-stamina-1",name:"15-minute walk",statId:"stamina",type:"simple",category:"recommended",isTemplate:!0},{id:"template-stamina-2",name:"30-minute jog",statId:"stamina",type:"regular",category:"recommended",isTemplate:!0},{id:"template-stamina-3",name:"HIIT workout",statId:"stamina",type:"challenge",category:"recommended",isTemplate:!0},{id:"template-strength-1",name:"Quick stretching",statId:"strength",type:"simple",category:"recommended",isTemplate:!0},{id:"template-strength-2",name:"Bodyweight exercises",statId:"strength",type:"regular",category:"recommended",isTemplate:!0},{id:"template-strength-3",name:"Weightlifting session",statId:"strength",type:"challenge",category:"recommended",isTemplate:!0},{id:"template-agility-1",name:"Basic stretching routine",statId:"agility",type:"simple",category:"recommended",isTemplate:!0},{id:"template-agility-2",name:"Yoga session",statId:"agility",type:"regular",category:"recommended",isTemplate:!0},{id:"template-agility-3",name:"Balance practice",statId:"agility",type:"regular",category:"recommended",isTemplate:!0},{id:"template-agility-4",name:"Full mobility workout",statId:"agility",type:"challenge",category:"recommended",isTemplate:!0},{id:"template-intelligence-1",name:"Brain puzzle",statId:"intelligence",type:"simple",category:"recommended",isTemplate:!0},{id:"template-intelligence-2",name:"Study session",statId:"intelligence",type:"regular",category:"recommended",isTemplate:!0},{id:"template-intelligence-3",name:"Online course module",statId:"intelligence",type:"challenge",category:"recommended",isTemplate:!0},{id:"template-concentration-1",name:"5-minute meditation",statId:"concentration",type:"simple",category:"recommended",isTemplate:!0},{id:"template-concentration-2",name:"25-minute focused work",statId:"concentration",type:"regular",category:"recommended",isTemplate:!0},{id:"template-concentration-3",name:"Deep work session",statId:"concentration",type:"challenge",category:"recommended",isTemplate:!0}],recurringTasks:[],scheduledTasks:[]},Yb=(e,t)=>{switch(t.type){case"ADD_TEMPLATE":return{...e,templates:[...e.templates,{id:`template-${Date.now()}`,isTemplate:!0,...t.payload}]};case"DELETE_TEMPLATE":return{...e,templates:e.templates.filter((e=>e.id!==t.payload))};case"UPDATE_TEMPLATE":return{...e,templates:e.templates.map((e=>e.id===t.payload.id?{...e,...t.payload}:e))};case"ADD_RECURRING_TASK":return{...e,recurringTasks:[...e.recurringTasks,{id:`recurring-${Date.now()}`,createdAt:(new Date).toISOString(),lastGenerated:null,...t.payload}]};case"UPDATE_RECURRING_TASK":return{...e,recurringTasks:e.recurringTasks.map((e=>e.id===t.payload.id?{...e,...t.payload}:e))};case"DELETE_RECURRING_TASK":return{...e,recurringTasks:e.recurringTasks.filter((e=>e.id!==t.payload))};case"UPDATE_RECURRING_TASK_GENERATION":return{...e,recurringTasks:e.recurringTasks.map((e=>e.id===t.payload.id?{...e,lastGenerated:t.payload.date}:e))};case"ADD_SCHEDULED_TASK":return{...e,scheduledTasks:[...e.scheduledTasks,{id:`scheduled-${Date.now()}`,createdAt:(new Date).toISOString(),...t.payload}]};case"UPDATE_SCHEDULED_TASK":return{...e,scheduledTasks:e.scheduledTasks.map((e=>e.id===t.payload.id?{...e,...t.payload}:e))};case"DELETE_SCHEDULED_TASK":return{...e,scheduledTasks:e.scheduledTasks.filter((e=>e.id!==t.payload))};case"IMPORT_TASK_STATE":return t.payload;default:return e}},Qb=e=>{let{children:t}=e;const n=bb(),[i,a]=(0,r.useReducer)(Yb,Gb,(()=>{const e=localStorage.getItem("taskState");return e?JSON.parse(e):Gb}));(0,r.useEffect)((()=>{localStorage.setItem("taskState",JSON.stringify(i))}),[i]),(0,r.useEffect)((()=>{if(!n||!n.dispatch)return;const e=new Date,t=Mt(e,"yyyy-MM-dd"),r=e.getDay();i.recurringTasks.forEach((i=>{if(i.lastGenerated===t)return;let o=!1;switch(i.frequency){case Hb.DAILY:o=!0;break;case Hb.WEEKLY:if(i.lastGenerated){const t=_b(i.lastGenerated);o=Math.floor((e-t)/864e5)>=7}else o=i.frequencyConfig.dayOfWeek===r;break;case Hb.SPECIFIC_DAYS:o=i.frequencyConfig.daysOfWeek.includes(r);break;default:o=!1}o&&(n.dispatch({type:"ADD_TASK",payload:{name:i.name,statId:i.statId,type:i.type,fromRecurring:i.id}}),a({type:"UPDATE_RECURRING_TASK_GENERATION",payload:{id:i.id,date:t}}))}))}),[i.recurringTasks,n]),(0,r.useEffect)((()=>{if(!n||!n.dispatch)return;const e=new Date,t=i.scheduledTasks.filter((t=>{const n=_b(t.scheduledDate);return Ub(n,e)||function(e,t){Le(2,arguments);var n=Fe(e),r=Fe(t);return n.getTime()<r.getTime()}(n,e)}));t.forEach((e=>{n.dispatch({type:"ADD_TASK",payload:{name:e.name,statId:e.statId,type:e.type}}),a({type:"DELETE_SCHEDULED_TASK",payload:e.id})}))}),[i.scheduledTasks,n]);const o={...i,dispatch:a,getTemplatesByCategory:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return"all"===e?i.templates:i.templates.filter((t=>t.category===e))},getTemplatesByStat:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all";return"all"===e?i.templates:i.templates.filter((t=>t.statId===e))},getTasksForDate:e=>{const t=Mt(e,"yyyy-MM-dd"),n=i.scheduledTasks.filter((e=>Mt(_b(e.scheduledDate),"yyyy-MM-dd")===t)),r=e.getDay();return[...n,...i.recurringTasks.filter((e=>{switch(e.frequency){case Hb.DAILY:return!0;case Hb.WEEKLY:return e.frequencyConfig.dayOfWeek===r;case Hb.SPECIFIC_DAYS:return e.frequencyConfig.daysOfWeek.includes(r);default:return!1}}))]},getTasksForWeek:e=>{const t=Bb(e),n=zb(e),r={};for(let i=0;i<7;i++){const e=Vb(t,i);r[Mt(e,"yyyy-MM-dd")]=[]}return i.scheduledTasks.forEach((e=>{const i=_b(e.scheduledDate);if(function(e,t){Le(2,arguments);var n=Fe(e).getTime(),r=Fe(t.start).getTime(),i=Fe(t.end).getTime();if(!(r<=i))throw new RangeError("Invalid interval");return n>=r&&n<=i}(i,{start:t,end:n})){const t=Mt(i,"yyyy-MM-dd");r[t].push(e)}})),i.recurringTasks.forEach((e=>{for(let n=0;n<7;n++){const i=Vb(t,n),a=i.getDay();let o=!1;switch(e.frequency){case Hb.DAILY:o=!0;break;case Hb.WEEKLY:o=e.frequencyConfig.dayOfWeek===a;break;case Hb.SPECIFIC_DAYS:o=e.frequencyConfig.daysOfWeek.includes(a);break;default:o=!1}if(o){const t=Mt(i,"yyyy-MM-dd");r[t].push(e)}}})),r},getSuggestedTasks:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3;if(!n||!n.stats)return[];const t=Object.entries(n.stats).map((e=>{let[t,n]=e;return{id:t,level:n.level}}));t.sort(((e,t)=>e.level-t.level));const r=[],a=new Set;for(const n of t){const t=[...i.templates.filter((e=>e.statId===n.id&&"recommended"===e.category&&!a.has(e.id)))].sort((()=>.5-Math.random()));for(const n of t){if(r.length>=e)break;r.push(n),a.add(n.id)}if(r.length>=e)break}if(r.length<e){const t=[...i.templates.filter((e=>!a.has(e.id)))].sort((()=>.5-Math.random()));for(const n of t){if(r.length>=e)break;r.push(n)}}return r},saveAsTemplate:e=>{a({type:"ADD_TEMPLATE",payload:{name:e.name,statId:e.statId,type:e.type,category:"personal"}})},FREQUENCY_TYPES:Hb,DAYS_OF_WEEK:Wb,TEMPLATE_CATEGORIES:Kb};return(0,Ae.jsx)($b.Provider,{value:o,children:t})},Xb=(0,r.createContext)(),Zb=()=>(0,r.useContext)(Xb),Jb=e=>{let{children:t}=e;const{stats:n,taskHistory:i,LEVELS:a,getPointsToNextLevel:o}=bb(),{tasks:s,completedTasks:l}=qb(),{achievements:c,unlockedAchievements:u}=jb(),d={};Object.entries(n).forEach((e=>{let[t,n]=e;d[t]=((e,t)=>{let n=t;for(let r=1;r<e;r++)n+=o(r);return n})(n.level,n.points)}));const[h,f]=(0,r.useState)({}),[p,m]=(0,r.useState)([]),[g,y]=(0,r.useState)({}),[v,b]=(0,r.useState)({}),[x,w]=(0,r.useState)([]),[j,S]=(0,r.useState)([]);(0,r.useEffect)((()=>{if(!i||0===i.length)return;const e={byDay:{0:0,1:0,2:0,3:0,4:0,5:0,6:0},byHour:Array(24).fill(0).reduce(((e,t,n)=>({...e,[n]:0})),{}),byWeek:{},byMonth:{}};i.forEach((t=>{const n=new Date(t.completedAt);e.byDay[n.getDay()]++,e.byHour[n.getHours()]++;const r=T(n),i=`${n.getFullYear()}-W${r}`;e.byWeek[i]=(e.byWeek[i]||0)+1;const a=`${n.getFullYear()}-${n.getMonth()+1}`;e.byMonth[a]=(e.byMonth[a]||0)+1})),f(e)}),[i]),(0,r.useEffect)((()=>{if(!i||0===i.length)return;const e=i.reduce(((e,t)=>{const n=new Date(t.completedAt).toISOString().split("T")[0];return e[n]||(e[n]=[]),e[n].push(t),e}),{}),t=Object.keys(e).map((t=>{const n={date:t};return e[t].forEach((e=>{e.rewards&&e.rewards.stats&&Object.entries(e.rewards.stats).forEach((e=>{let[t,r]=e;n[t]=(n[t]||0)+r}))})),n})),r=Object.keys(n),a=[];for(let n=0;n<r.length;n++)for(let e=n+1;e<r.length;e++){const i=r[n],o=r[e],s=t.filter((e=>void 0!==e[i]&&void 0!==e[o]));if(s.length>3){const e=E(s.map((e=>e[i])),s.map((e=>e[o])));a.push({statA:i,statB:o,correlation:parseFloat(e.toFixed(2)),strength:C(e),dataPoints:s.length})}}m(a)}),[i,n]),(0,r.useEffect)((()=>{if(!i||0===i.length)return;const e={},t={},n=new Date;for(let r=0;r<6;r++){const t=new Date(n);t.setDate(n.getDate()-7*r);const i=T(t),a=`${t.getFullYear()}-W${i}`;e[a]={tasks:{completed:0,total:0},stats:Object.keys(d).reduce(((e,t)=>({...e,[t]:0})),{}),achievements:0}}for(let r=0;r<6;r++){const e=new Date(n);e.setMonth(n.getMonth()-r);const i=`${e.getFullYear()}-${e.getMonth()+1}`;t[i]={tasks:{completed:0,total:0},stats:Object.keys(d).reduce(((e,t)=>({...e,[t]:0})),{}),achievements:0}}i.forEach((n=>{const r=new Date(n.completedAt),i=T(r),a=`${r.getFullYear()}-W${i}`,o=`${r.getFullYear()}-${r.getMonth()+1}`;e[a]&&(e[a].tasks.completed++,n.rewards&&n.rewards.stats&&Object.entries(n.rewards.stats).forEach((t=>{let[n,r]=t;void 0!==e[a].stats[n]&&(e[a].stats[n]+=r)}))),t[o]&&(t[o].tasks.completed++,n.rewards&&n.rewards.stats&&Object.entries(n.rewards.stats).forEach((e=>{let[n,r]=e;void 0!==t[o].stats[n]&&(t[o].stats[n]+=r)})))})),u.forEach((n=>{const r=new Date(n.unlockedAt),i=T(r),a=`${r.getFullYear()}-W${i}`,o=`${r.getFullYear()}-${r.getMonth()+1}`;e[a]&&e[a].achievements++,t[o]&&t[o].achievements++})),y(e),b(t),k(e,t,h,p)}),[i,n,u,h,p]);const k=(e,t,r,i)=>{const a=[];if(r&&r.byDay){const e=Object.entries(r.byDay).sort(((e,t)=>t[1]-e[1]))[0];if(e&&e[1]>0){const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];a.push({type:"productivity",title:"Most Productive Day",description:`${t[e[0]]} is your most productive day with ${e[1]} completed tasks.`,icon:"calendar"})}}if(r&&r.byHour){const e=Object.entries(r.byHour).sort(((e,t)=>t[1]-e[1]))[0];if(e&&e[1]>0){const t=parseInt(e[0]),n=t>12?t-12+" PM":0===t?"12 AM":12===t?"12 PM":`${t} AM`;a.push({type:"productivity",title:"Peak Productivity Hour",description:`You're most productive around ${n} with ${e[1]} completed tasks.`,icon:"clock"})}}if(i&&i.length){const e=i.filter((e=>Math.abs(e.correlation)>.7&&e.dataPoints>=5));e.forEach((e=>{const t=e.correlation>0?"positive":"negative";a.push({type:"correlation",title:`${e.statA} & ${e.statB} Connection`,description:`There's a strong ${t} relationship between your ${e.statA} and ${e.statB} stats. ${"positive"===t?"As one increases, the other tends to increase too.":"As one increases, the other tends to decrease."}`,icon:"trending-up",correlation:e})}))}const o=Object.keys(e).sort();if(o.length>=2){const t=e[o[0]],r=e[o[1]],i=t.tasks.completed-r.tasks.completed,s=r.tasks.completed>0?i/r.tasks.completed*100:0;Math.abs(s)>=20&&a.push({type:"trend",title:"Weekly Task Trend",description:`You completed ${Math.abs(s).toFixed(0)}% ${i>0?"more":"fewer"} tasks this week compared to last week.`,icon:i>0?"trending-up":"trending-down",data:{current:t.tasks.completed,previous:r.tasks.completed}}),Object.keys(n).forEach((e=>{const n=t.stats[e]-r.stats[e];if(0!==n){const i=r.stats[e]>0?n/r.stats[e]*100:0;(Math.abs(i)>=25||Math.abs(n)>=5)&&a.push({type:"stat",title:`${e} Development`,description:`Your ${e} stat ${n>0?"grew":"decreased"} by ${Math.abs(n)} points this week${0!==i?` (${Math.abs(i).toFixed(0)}% ${n>0?"increase":"decrease"})`:""}.`,icon:n>0?"arrow-up-circle":"arrow-down-circle",stat:e,data:{current:t.stats[e],previous:r.stats[e]}})}}))}S(a)},E=(e,t)=>{const n=e.length;let r=0,i=0,a=0,o=0,s=0;for(let u=0;u<n;u++)r+=e[u],i+=t[u],a+=e[u]*t[u],o+=e[u]*e[u],s+=t[u]*t[u];const l=n*a-r*i,c=Math.sqrt((n*o-r*r)*(n*s-i*i));return 0===c?0:l/c},T=e=>{const t=new Date(e);t.setHours(0,0,0,0),t.setDate(t.getDate()+4-(t.getDay()||7));const n=new Date(t.getFullYear(),0,1);return Math.ceil(((t-n)/864e5+1)/7)},C=e=>{const t=Math.abs(e);return t>=.8?"very strong":t>=.6?"strong":t>=.4?"moderate":t>=.2?"weak":"very weak"},O={activityPatterns:h,statCorrelations:p,weeklyProgress:g,monthlyProgress:v,goalProgress:x,insights:j,rawStats:d,formatWeekKey:e=>{const[t,n]=e.split("-W"),r=new Date(t,0,1+7*(n-1)),i=r.getDay(),a=new Date(r);a.setDate(r.getDate()-i+(0===i?-6:1));const o=new Date(a);o.setDate(a.getDate()+6);return`${a.toLocaleDateString("en-US",{month:"short",day:"numeric"})} - ${o.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`},formatMonthKey:e=>{const[t,n]=e.split("-");return new Date(t,n-1,1).toLocaleDateString("en-US",{month:"long",year:"numeric"})}};return(0,Ae.jsx)(Xb.Provider,{value:O,children:t})},ex=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;try{const r=e.toLowerCase(),i=fy(rb,"gameStates"),a=await function(e){e=ry(e,uy);const t=ry(e.firestore,vy),n=by(t),r=new vv(t);return Jy(e._query),Qg(n,e._query).then((n=>new mv(t,r,e,n)))}(i),o=[];return a.forEach((e=>{if(e.id===t)return;const n=e.data(),i=n.playerName||"";i.toLowerCase().includes(r)&&o.push({id:e.id,displayName:i,profilePicture:n.profilePicture,level:n.stats?Math.floor(Object.values(n.stats).reduce(((e,t)=>e+t.level),0)/6):1,rank:nx(n)})})),o.sort(((e,t)=>e.displayName.localeCompare(t.displayName))).slice(0,n)}catch(r){throw console.error("Error searching users:",r),r}},tx=async(e,t)=>{try{const n=py(rb,"friends",e);(await yv(n)).exists()?await xv(n,{sentRequests:Ov({userId:t,timestamp:vc.now()})}):await bv(n,{sentRequests:[{userId:t,timestamp:vc.now()}],pendingRequests:[],friends:[]});const r=py(rb,"friends",t);return(await yv(r)).exists()?await xv(r,{pendingRequests:Ov({userId:e,timestamp:vc.now()})}):await bv(r,{sentRequests:[],pendingRequests:[{userId:e,timestamp:vc.now()}],friends:[]}),!0}catch(n){return console.error("Error sending friend request:",n),!1}},nx=e=>{if(!e.stats)return"Beginner";const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0),n=Math.floor(t/6),r=[{name:"Beginner",range:[0,9]},{name:"Novice",range:[10,19]},{name:"Apprentice",range:[20,29]},{name:"Adept",range:[30,39]},{name:"Expert",range:[40,49]},{name:"Master",range:[50,59]},{name:"Grandmaster",range:[60,69]},{name:"Legend",range:[70,79]},{name:"Mythic",range:[80,89]},{name:"Sovereign",range:[90,99]},{name:"Transcendent",range:[100,1/0]}];for(const i of r)if(n>=i.range[0]&&n<=i.range[1])return i.name;return r[0].name},rx=(0,r.createContext)(),ix=()=>(0,r.useContext)(rx),ax=e=>{let{children:t}=e;const{currentUser:n}=ab(),[i,a]=(0,r.useState)([]),[o,s]=(0,r.useState)([]),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!0);(0,r.useEffect)((()=>{let e=null;return(async()=>{if(n){d(!0);try{const t=py(rb,"friends",n.uid);e=jv(t,(e=>{if(e.exists()){const t=e.data(),n=t.pendingRequests||[];console.log("Pending requests data:",n),s(n);const r=t.sentRequests||[];console.log("Sent requests data:",r),c(r);const i=t.friends||[];a(i)}else console.log("No friend document exists yet"),s([]),c([]),a([]);d(!1)}),(e=>{console.error("Error listening to friend data:",e),d(!1)}))}catch(t){console.error("Error setting up friend data listener:",t),s([]),c([]),a([]),d(!1)}}})(),()=>{e&&e()}}),[n]);const h={friends:i,pendingRequests:o,sentRequests:l,loading:u,searchUsers:async e=>{if(!n)return[];try{return await ex(e,n.uid)}catch(t){return console.error("Error searching users:",t),[]}},sendFriendRequest:async e=>{if(!n)return!1;try{return await tx(n.uid,e),c([...l,{id:e,timestamp:(new Date).toISOString()}]),!0}catch(t){return console.error("Error sending friend request:",t),!1}},acceptFriendRequest:async e=>{if(!n)return!1;try{if(!o.find((t=>t.userId===e)))return console.error("Friend request not found"),!1;const t=(new Date).toISOString(),r=py(rb,"friends",n.uid),i=await yv(r);if(i.exists()){const n=(i.data().pendingRequests||[]).filter((t=>t.userId!==e)),a=i.data().friends||[];if(a.some((t=>t.userId===e)))await xv(r,{pendingRequests:n});else{const i={userId:e,friendSince:t};await xv(r,{pendingRequests:n,friends:[...a,i]})}}else await bv(r,{pendingRequests:[],sentRequests:[],friends:[{userId:e,friendSince:t}]});const a=py(rb,"friends",e),s=await yv(a);if(s.exists()){const e=(s.data().sentRequests||[]).filter((e=>e.userId!==n.uid)),r=s.data().friends||[];if(r.some((e=>e.userId===n.uid)))await xv(a,{sentRequests:e});else{const i={userId:n.uid,friendSince:t};await xv(a,{sentRequests:e,friends:[...r,i]})}}else await bv(a,{pendingRequests:[],sentRequests:[],friends:[{userId:n.uid,friendSince:t}]});return!0}catch(t){return console.error("Error accepting friend request:",t),!1}},rejectFriendRequest:async e=>{if(!n)return!1;try{const t=py(rb,"friends",n.uid),r=await yv(t);if(r.exists()){const n=(r.data().pendingRequests||[]).filter((t=>t.userId!==e));await xv(t,{pendingRequests:n})}const i=py(rb,"friends",e),a=await yv(i);if(a.exists()){const e=(a.data().sentRequests||[]).filter((e=>e.userId!==n.uid));await xv(i,{sentRequests:e})}return!0}catch(t){return console.error("Error rejecting friend request:",t),!1}},removeFriend:async e=>{if(!n)return!1;try{const t=py(rb,"friends",n.uid),r=await yv(t);if(r.exists()){const n=(r.data().friends||[]).filter((t=>t.userId!==e));await xv(t,{friends:n})}const i=py(rb,"friends",e),a=await yv(i);if(a.exists()){const e=(a.data().friends||[]).filter((e=>e.userId!==n.uid));await xv(i,{friends:e})}return!0}catch(t){return console.error("Error removing friend:",t),!1}}};return(0,Ae.jsx)(rx.Provider,{value:h,children:t})},ox=(0,r.createContext)(),sx=()=>(0,r.useContext)(ox),lx=e=>{let{children:t}=e;const{currentUser:n}=ab(),{pendingRequests:i}=ix(),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(0),[c,u]=(0,r.useState)(!0);(0,r.useEffect)((()=>{if(!n)return o([]),l(0),void u(!1);u(!0);const e=nv(fy(rb,"users",n.uid,"notifications"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=Zy("orderBy",e);return av._create(n,t)}("createdAt","desc"),(iy("limit",t=50),ov._create("limit",t,"F")));var t;const r=jv(e,(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));o(t),l(t.filter((e=>!e.read)).length),u(!1)}),(e=>{console.error("Error getting notifications:",e),u(!1)}));return i&&l((e=>a.filter((e=>!e.read)).length+i.length)),()=>r()}),[n,i]);const d={notifications:a,unreadCount:s,loading:c,markAsRead:async e=>{if(n)try{const t=py(rb,"users",n.uid,"notifications",e);await xv(t,{read:!0,readAt:Cv()}),o((t=>t.map((t=>t.id===e?{...t,read:!0}:t)))),l((e=>Math.max(0,e-1)))}catch(t){console.error("Error marking notification as read:",t)}},markAllAsRead:async()=>{if(n)try{const e=rb.batch();a.filter((e=>!e.read)).forEach((t=>{const r=py(rb,"users",n.uid,"notifications",t.id);e.update(r,{read:!0,readAt:Cv()})})),await e.commit(),o((e=>e.map((e=>({...e,read:!0}))))),l(0)}catch(e){console.error("Error marking all notifications as read:",e)}},sendNotification:async(e,t)=>{if(n)try{var r;const i=fy(rb,"users",e,"notifications"),a={...t,createdAt:Cv(),read:!1,senderId:n.uid,senderName:n.displayName||(null===(r=n.email)||void 0===r?void 0:r.split("@")[0])};return await wv(i,a),!0}catch(i){return console.error("Error sending notification:",i),!1}}};return(0,Ae.jsx)(ox.Provider,{value:d,children:t})},cx={STREAK_COMPETITION:{id:"streak_competition",name:"Streak Competition",description:"Compete to maintain the longest daily streak of completed tasks",icon:"\ud83d\udd25"},LEVEL_RACE:{id:"level_race",name:"Level Race",description:"Race to reach a specific level in a stat first",icon:"\ud83c\udfc1"},WEEKLY_LEADERBOARD:{id:"weekly_leaderboard",name:"Weekly Leaderboard",description:"Compete for the most points earned in a week",icon:"\ud83c\udfc6"}},ux={PENDING:"pending",ACTIVE:"active",COMPLETED:"completed",DECLINED:"declined",CANCELED:"canceled"},dx=(0,r.createContext)(),hx=()=>(0,r.useContext)(dx),fx=e=>{let{children:t}=e;const{currentUser:n}=ab(),{playerName:i,STATS:a}=bb(),{sendNotification:o}=sx(),[s,l]=(0,r.useState)([]),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)([]),[f,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)([]),[y,v]=(0,r.useState)(null);(0,r.useEffect)((()=>{if(!n)return l([]),u([]),h([]),g([]),v(null),void p(!1);p(!0);const e=(async()=>{try{const e=nv(fy(rb,"challenges"),function(e,t,n){const r=t,i=Zy("where",e);return rv._create(i,r,n)}("participants","array-contains",n.uid)),t=jv(e,(e=>{const t=e.docs.map((e=>({id:e.id,...e.data()})));l(t.filter((e=>e.status===ux.ACTIVE))),u(t.filter((e=>e.status===ux.PENDING&&e.recipientId===n.uid))),h(t.filter((e=>[ux.COMPLETED,ux.DECLINED,ux.CANCELED].includes(e.status)))),p(!1)}),(e=>{console.error("Error getting challenges:",e),p(!1)})),r=py(rb,"users",n.uid),i=await yv(r);if(i.exists()){const e=i.data();g(e.titles||[]),v(e.selectedTitle||null)}return t}catch(e){console.error("Error fetching challenges:",e),p(!1)}})();return()=>{e.then((e=>{e&&e()}))}}),[n]);const b=async(e,t)=>{try{const r=py(rb,"users",e),i=await yv(r);if(i.exists()){const n=i.data();(n.titles||[]).includes(t)||(await xv(r,{titles:Ov(t)}),await o(e,{type:"title",title:"New Title Earned",message:`You've earned the "${t}" title!`}))}else{const i=(by(n=ry(n=rb,vy)),new Ev(n,(e=>Sv(n,e))));i.set(r,{titles:[t]}),await i.commit(),await o(e,{type:"title",title:"New Title Earned",message:`You've earned the "${t}" title!`})}return{success:!0}}catch(r){return console.error("Error awarding title:",r),{success:!1,error:r.message}}var n},x=e=>{for(const t in cx)if(cx[t].id===e)return cx[t].name;return"Challenge"},w={activeChallenges:s,pendingChallenges:c,pastChallenges:d,loading:f,titles:m,selectedTitle:y,CHALLENGE_TYPES:cx,CHALLENGE_STATUS:ux,createChallenge:async(e,t,r)=>{if(!n)return{success:!1,error:"Not authenticated"};try{const s=await yv(py(rb,"gameStates",e));if(!s.exists())return{success:!1,error:"Recipient not found"};const l=s.data(),c={type:t,parameters:r,status:ux.PENDING,createdAt:Cv(),creatorId:n.uid,creatorName:i,recipientId:e,recipientName:l.playerName,participants:[n.uid,e],progress:{[n.uid]:{startStats:{},currentStats:{},lastUpdated:Cv()},[e]:{startStats:{},currentStats:{},lastUpdated:null}},winner:null,completedAt:null,title:null};if(t===cx.STREAK_COMPETITION.id)c.progress[n.uid].streak=0,c.progress[e].streak=0,c.title="Streak Master";else if(t===cx.LEVEL_RACE.id){const{statId:t,targetLevel:i}=r,o=(await yv(py(rb,"gameStates",n.uid))).data().stats;c.progress[n.uid].startStats[t]=o[t].level,c.progress[n.uid].currentStats[t]=o[t].level,c.progress[e].startStats[t]=l.stats[t].level,c.progress[e].currentStats[t]=l.stats[t].level;const s=(a||[]).find((e=>e.id===t));c.title=`${s?s.name:"Stat"} Champion`}else if(t===cx.WEEKLY_LEADERBOARD.id){c.progress[n.uid].points=0,c.progress[e].points=0,c.startDate=Cv();const t=new Date;t.setDate(t.getDate()+7),c.endDate=t,c.title="Weekly Champion"}const u=await wv(fy(rb,"challenges"),c);return await o(e,{type:"challenge",title:"New Challenge",message:`${i} has challenged you to a ${x(t)}!`,challengeId:u.id}),{success:!0,challengeId:u.id}}catch(s){return console.error("Error creating challenge:",s),{success:!1,error:s.message}}},acceptChallenge:async e=>{if(!n)return{success:!1,error:"Not authenticated"};try{const t=py(rb,"challenges",e),r=await yv(t);if(!r.exists())return{success:!1,error:"Challenge not found"};const a=r.data();if(a.recipientId!==n.uid)return{success:!1,error:"Not authorized to accept this challenge"};if(a.status!==ux.PENDING)return{success:!1,error:"Challenge is not pending"};let s={status:ux.ACTIVE,startedAt:Cv()};if(a.type===cx.LEVEL_RACE.id){const{statId:e}=a.parameters,t=(await yv(py(rb,"gameStates",n.uid))).data().stats;s[`progress.${n.uid}.startStats.${e}`]=t[e].level,s[`progress.${n.uid}.currentStats.${e}`]=t[e].level,s[`progress.${n.uid}.lastUpdated`]=Cv()}return await xv(t,s),await o(a.creatorId,{type:"challenge",title:"Challenge Accepted",message:`${i} has accepted your ${x(a.type)} challenge!`,challengeId:e}),{success:!0}}catch(t){return console.error("Error accepting challenge:",t),{success:!1,error:t.message}}},declineChallenge:async e=>{if(!n)return{success:!1,error:"Not authenticated"};try{const t=py(rb,"challenges",e),r=await yv(t);if(!r.exists())return{success:!1,error:"Challenge not found"};const a=r.data();return a.recipientId!==n.uid?{success:!1,error:"Not authorized to decline this challenge"}:a.status!==ux.PENDING?{success:!1,error:"Challenge is not pending"}:(await xv(t,{status:ux.DECLINED,declinedAt:Cv()}),await o(a.creatorId,{type:"challenge",title:"Challenge Declined",message:`${i} has declined your ${x(a.type)} challenge.`,challengeId:e}),{success:!0})}catch(t){return console.error("Error declining challenge:",t),{success:!1,error:t.message}}},updateChallengeProgress:async(e,t)=>{if(!n)return{success:!1,error:"Not authenticated"};try{const r=py(rb,"challenges",e),a=await yv(r);if(!a.exists())return{success:!1,error:"Challenge not found"};const s=a.data();if(!s.participants.includes(n.uid))return{success:!1,error:"Not a participant in this challenge"};if(s.status!==ux.ACTIVE)return{success:!1,error:"Challenge is not active"};let l={[`progress.${n.uid}.lastUpdated`]:Cv()};if(s.type===cx.STREAK_COMPETITION.id)l[`progress.${n.uid}.streak`]=t.streak;else if(s.type===cx.LEVEL_RACE.id){const{statId:r}=s.parameters;if(l[`progress.${n.uid}.currentStats.${r}`]=t.level,t.level>=s.parameters.targetLevel){l.status=ux.COMPLETED,l.winner=n.uid,l.completedAt=Cv(),await b(n.uid,s.title);const r=s.participants.find((e=>e!==n.uid));await o(r,{type:"challenge_result",title:"Challenge Completed",message:`${i} has won the ${x(s.type)} challenge by reaching level ${t.level}!`,challengeId:e})}}else if(s.type===cx.WEEKLY_LEADERBOARD.id){l[`progress.${n.uid}.points`]=t.points;const r=new Date;if(r>=s.endDate.toDate()){const r=s.participants.find((e=>e!==n.uid)),a=t.points,c=s.progress[r].points;let u;if(u=a>c?n.uid:c>a?r:null,l.status=ux.COMPLETED,l.winner=u,l.completedAt=Cv(),u){await b(u,s.title);const t=s.participants.find((e=>e!==u)),r=u===n.uid?i:s.creatorName;await o(t,{type:"challenge_result",title:"Challenge Completed",message:`${r} has won the ${x(s.type)} challenge with ${u===n.uid?a:c} points!`,challengeId:e})}else for(const t of s.participants)t!==n.uid&&await o(t,{type:"challenge_result",title:"Challenge Completed",message:`The ${x(s.type)} challenge ended in a tie!`,challengeId:e})}}return await xv(r,l),{success:!0}}catch(r){return console.error("Error updating challenge progress:",r),{success:!1,error:r.message}}},awardTitle:b,selectTitle:async e=>{if(!n)return{success:!1,error:"Not authenticated"};try{if(!m.includes(e))return{success:!1,error:"You do not have this title"};const t=py(rb,"users",n.uid);return await xv(t,{selectedTitle:e}),v(e),{success:!0}}catch(t){return console.error("Error selecting title:",t),{success:!1,error:t.message}}},removeTitle:async()=>{if(!n)return{success:!1,error:"Not authenticated"};try{const e=py(rb,"users",n.uid);return await xv(e,{selectedTitle:null}),v(null),{success:!0}}catch(e){return console.error("Error removing title:",e),{success:!1,error:e.message}}}};return(0,Ae.jsx)(dx.Provider,{value:w,children:t})},px=()=>{const{playerName:e,stats:t,STATS:n,getOverallLevel:r,getOverallRank:i,getPointsToNextLevel:a,streak:o,getStreakBonus:s,getTodaysTasks:l,completedTasks:c}=bb(),{theme:u}=De(),d=l(),h=o.current>=3?100*s(o.current):0,f=n.filter((e=>d.some((t=>t.statId===e.id)))),p=f.length===n.length;return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsxs)("h2",{className:"text-2xl",children:["Welcome, ",e]}),(0,Ae.jsx)("div",{style:{padding:"4px 12px",borderRadius:"var(--border-radius-md)",backgroundColor:u.card},children:Mt(new Date,"EEEE, MMMM d, yyyy")})]}),(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("div",{className:"flex flex-col md:flex-row gap-lg",children:[(0,Ae.jsxs)("div",{style:{flex:1},children:[(0,Ae.jsx)("h3",{className:"text-xl",children:"Your Level Progress"}),(0,Ae.jsxs)("div",{className:"flex items-center gap-md mb-md",children:[(0,Ae.jsxs)("span",{className:"text-3xl font-bold",children:["Lv.",r()]}),(0,Ae.jsx)("span",{className:"text-lg",children:i()})]}),(0,Ae.jsx)("div",{className:"progress-bar",children:(0,Ae.jsx)("div",{className:"progress-bar-fill",style:{width:r()/100*100+"%",backgroundColor:u.primary}})}),(0,Ae.jsxs)("p",{children:["You need ",a(r())," points to reach level ",r()+1]})]}),(0,Ae.jsx)("div",{style:{height:"100px",width:"1px",backgroundColor:u.border,display:"none"},className:"md:block"}),(0,Ae.jsxs)("div",{style:{flex:1},children:[(0,Ae.jsx)("h3",{className:"text-xl",children:"Current Streak"}),(0,Ae.jsx)("div",{className:"flex items-center gap-md mb-md",children:(0,Ae.jsxs)("span",{className:"text-3xl font-bold",children:["\ud83d\udd25 ",o.current," day",1!==o.current?"s":""]})}),o.current>=3?(0,Ae.jsxs)("div",{style:{backgroundColor:"rgba(249, 115, 22, 0.1)",padding:"var(--spacing-md)",borderRadius:"var(--border-radius-md)",borderLeft:`3px solid ${u.accent}`},children:[(0,Ae.jsxs)("p",{className:"mb-sm",children:["Current streak bonus: ",(0,Ae.jsxs)("span",{style:{color:u.accent},children:["+",h,"%"]})," points on all tasks"]}),(0,Ae.jsx)("p",{className:"text-sm",children:"Keep going to increase your bonus!"})]}):(0,Ae.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",padding:"var(--spacing-md)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsx)("p",{className:"mb-sm",children:"Reach a 3-day streak to earn bonus points!"}),(0,Ae.jsxs)("p",{className:"text-sm",children:["You need ",3-o.current," more day",3-o.current!==1?"s":""," for your first bonus."]})]})]})]})})]}),(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Upcoming Tasks"}),(0,Ae.jsx)(Oe,{to:"/calendar",style:{color:u.primary,textDecoration:"none"},children:"View Calendar"})]}),(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)(mx,{completedTasks:c})})]}),(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Today's Progress"}),p?(0,Ae.jsx)("div",{style:{padding:"4px 12px",borderRadius:"var(--border-radius-md)",backgroundColor:u.success,color:"white"},children:"All stats trained today! \u2713"}):(0,Ae.jsxs)("div",{style:{padding:"4px 12px",borderRadius:"var(--border-radius-md)",backgroundColor:f.length>0?u.warning:u.danger,color:"white"},children:[f.length," / ",n.length," stats trained"]})]}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:n.map((e=>{const n=t[e.id],r=d.filter((t=>t.statId===e.id)),i=r.length>0;return(0,Ae.jsxs)("div",{className:"card",style:{borderTop:`3px solid ${i?u.success:u.danger}`,opacity:i?1:.7},children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-md mb-md",children:[(0,Ae.jsx)("span",{style:{fontSize:"1.75rem"},children:e.icon}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{style:{margin:0},children:e.name}),(0,Ae.jsxs)("div",{className:"text-sm",children:["Level ",n.level]})]})]}),(0,Ae.jsx)("div",{className:"progress-bar",children:(0,Ae.jsx)("div",{className:"progress-bar-fill",style:{width:n.points/a(n.level)*100+"%",backgroundColor:i?u.success:u.primary}})}),(0,Ae.jsx)("div",{className:"flex justify-between text-sm",children:(0,Ae.jsxs)("span",{children:[n.points," / ",a(n.level)," points"]})}),i?(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-md)",backgroundColor:"rgba(16, 185, 129, 0.1)",padding:"var(--spacing-sm)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-sm",children:"Today's tasks:"}),(0,Ae.jsx)("ul",{style:{listStyle:"none",paddingLeft:0},children:r.map((e=>(0,Ae.jsxs)("li",{className:"text-sm flex justify-between",style:{marginBottom:"var(--spacing-xs)"},children:[(0,Ae.jsx)("span",{children:e.name}),(0,Ae.jsxs)("span",{children:["+",e.points," pts"]})]},e.id)))})]}):(0,Ae.jsx)(Oe,{to:"/tasks",className:"btn btn-primary mt-md",style:{display:"block",textAlign:"center",textDecoration:"none"},children:"Add Task"})]},e.id)}))})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Recently Completed"}),(0,Ae.jsx)(Oe,{to:"/tasks",style:{color:u.primary},children:"View All"})]}),d.length>0?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:"Task"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:"Category"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:"Points"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:"Time"})]})}),(0,Ae.jsx)("tbody",{children:d.slice(0,5).map((e=>{const t=n.find((t=>t.id===e.statId));return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:e.name}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,Ae.jsx)("span",{children:t.icon}),(0,Ae.jsx)("span",{children:t.name})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${u.border}`},children:(0,Ae.jsxs)("div",{children:["+",e.points,e.bonusPoints>0&&(0,Ae.jsxs)("span",{style:{color:u.accent,fontSize:"0.75rem",marginLeft:"4px"},children:["(+",e.bonusPoints,")"]})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${u.border}`},children:Mt(new Date(e.completedAt),"h:mm a")})]},e.id)}))})]})}):(0,Ae.jsxs)("div",{className:"card text-center",children:[(0,Ae.jsx)("p",{children:"No tasks completed today."}),(0,Ae.jsx)(Oe,{to:"/tasks",className:"btn btn-primary mt-md",style:{display:"inline-block",textDecoration:"none"},children:"Add Your First Task"})]})]})]})},mx=e=>{let{completedTasks:t}=e;const{theme:n}=De(),{STATS:i}=bb(),{getTasksForDate:a}=qb(),[o,s]=(0,r.useState)(0),l=new Date,c=new Date(l);c.setDate(c.getDate()+1);const u=new Date(l);u.setDate(u.getDate()+2);const d=a(l),h=a(c),f=a(u);return(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-md",children:[(0,Ae.jsx)(gx,{date:l,tasks:d,isToday:!0,completedTasks:t,onTaskCompleted:()=>{s((e=>e+1))}}),(0,Ae.jsx)(gx,{date:c,tasks:h,completedTasks:t}),(0,Ae.jsx)(gx,{date:u,tasks:f,completedTasks:t})]},o)},gx=e=>{let{date:t,tasks:n,isToday:i=!1,completedTasks:a,onTaskCompleted:o}=e;const{theme:s}=De(),{STATS:l,TASK_TYPES:c,dispatch:u,tasks:d}=bb(),{dispatch:h}=qb(),[f,p]=(0,r.useState)([]),m=Mt(t,"EEE, MMM d");(0,r.useEffect)((()=>{const e=new Date,t=n.filter((t=>{if(t.frequency){return!a.some((n=>n.fromRecurring===t.id&&Ub(new Date(n.completedAt),e)))}return d.some((e=>e.id===t.id))}));p(t)}),[n,a,d]);const g=i,y=t<new Date((new Date).setHours(0,0,0,0));return(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.03)",borderRadius:"var(--border-radius-md)",borderLeft:i?`3px solid ${s.primary}`:"none"},children:[(0,Ae.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"var(--spacing-sm)",fontWeight:"bold"},children:[(0,Ae.jsx)("span",{children:m}),(0,Ae.jsx)("span",{children:i?"Today":""})]}),f.length>0?(0,Ae.jsx)("div",{children:f.map(((e,t)=>{const n=l.find((t=>t.id===e.statId)),r=void 0!==e.frequency,i=e.type.toUpperCase(),a=c[i]?c[i].points:1;return(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",marginBottom:"var(--spacing-xs)",backgroundColor:r?"rgba(249, 115, 22, 0.1)":"rgba(99, 102, 241, 0.1)",borderRadius:"var(--border-radius-sm)",fontSize:"0.875rem",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)",flex:1},children:[(0,Ae.jsx)("span",{children:n.icon}),(0,Ae.jsx)("span",{children:e.name}),r&&(0,Ae.jsx)("span",{title:"Recurring Task",style:{opacity:.6},children:"\u21bb"})]}),(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[(0,Ae.jsxs)("span",{style:{fontSize:"0.75rem",opacity:.8},children:["+",a]}),g&&!y&&(0,Ae.jsx)("button",{onClick:()=>(e=>{if(e.frequency){const t=`task-${Date.now()}`;u({type:"ADD_TASK",payload:{id:t,name:e.name,statId:e.statId,type:e.type,fromRecurring:e.id}}),u({type:"COMPLETE_TASK",payload:{taskId:t}}),h({type:"UPDATE_RECURRING_TASK_GENERATION",payload:{id:e.id,date:Mt(new Date,"yyyy-MM-dd")}}),p((t=>t.filter((t=>t.id!==e.id))))}else u({type:"COMPLETE_TASK",payload:{taskId:e.id}}),p((t=>t.filter((t=>t.id!==e.id))));o&&o()})(e),style:{backgroundColor:s.success,color:"white",border:"none",borderRadius:"var(--border-radius-sm)",padding:"2px 6px",fontSize:"0.75rem",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},title:"Complete Task",children:"\u2713"})]})]},`${e.id||t}`)}))}):(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",textAlign:"center",opacity:.7},children:[(0,Ae.jsx)("p",{children:"No tasks scheduled"}),(0,Ae.jsx)(Oe,{to:"/tasks",className:"btn btn-outline mt-sm",style:{textDecoration:"none",display:"inline-block",marginTop:"var(--spacing-sm)"},children:"Add Task"})]})]})};function yx(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=yx(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const vx=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=yx(e))&&(r&&(r+=" "),r+=t);return r};var bx=n(9889),xx=n.n(bx),wx=n(620),jx=n.n(wx),Sx=n(5268),kx=n.n(Sx),Ex=n(3097),Tx=n.n(Ex),Cx=n(9160),Ox=n.n(Cx),_x=function(e){return 0===e?0:e>0?1:-1},Nx=function(e){return jx()(e)&&e.indexOf("%")===e.length-1},Ax=function(e){return Ox()(e)&&!kx()(e)},Ix=function(e){return Ax(e)||jx()(e)},Px=0,Dx=function(e){var t=++Px;return"".concat(e||"").concat(t)},Mx=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!Ax(e)&&!jx()(e))return r;if(Nx(e)){var a=e.indexOf("%");n=t*parseFloat(e.slice(0,a))/100}else n=+e;return kx()(n)&&(n=r),i&&n>t&&(n=t),n},Rx=function(e){if(!e)return null;var t=Object.keys(e);return t&&t.length?e[t[0]]:null},Lx=function(e,t){return Ax(e)&&Ax(t)?function(n){return e+n*(t-e)}:function(){return t}};function Fx(e,t,n){return e&&e.length?e.find((function(e){return e&&("function"===typeof t?t(e):Tx()(e,t))===n})):null}var Ux=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i]},Bx=n(9686),zx=n.n(Bx),Vx=n(1629),$x=n.n(Vx),qx=n(6686),Hx=n.n(qx),Wx=n(9062);function Kx(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function Gx(e){return Gx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gx(e)}var Yx=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],Qx=["points","pathLength"],Xx={svg:["viewBox","children"],polygon:Qx,polyline:Qx},Zx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Jx=function(e,t){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var n=e;if((0,r.isValidElement)(e)&&(n=e.props),!Hx()(n))return null;var i={};return Object.keys(n).forEach((function(e){Zx.includes(e)&&(i[e]=t||function(t){return n[e](n,t)})})),i},ew=function(e,t,n){if(!Hx()(e)||"object"!==Gx(e))return null;var r=null;return Object.keys(e).forEach((function(i){var a=e[i];Zx.includes(i)&&"function"===typeof a&&(r||(r={}),r[i]=function(e,t,n){return function(r){return e(t,n,r),null}}(a,t,n))})),r},tw=["children"],nw=["children"];function rw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function iw(e){return iw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iw(e)}var aw={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},ow=function(e){return"string"===typeof e?e:e?e.displayName||e.name||"Component":""},sw=null,lw=null,cw=function e(t){if(t===sw&&Array.isArray(lw))return lw;var n=[];return r.Children.forEach(t,(function(t){zx()(t)||((0,Wx.isFragment)(t)?n=n.concat(e(t.props.children)):n.push(t))})),lw=n,sw=t,n};function uw(e,t){var n=[],r=[];return r=Array.isArray(t)?t.map((function(e){return ow(e)})):[ow(t)],cw(e).forEach((function(e){var t=Tx()(e,"type.displayName")||Tx()(e,"type.name");-1!==r.indexOf(t)&&n.push(e)})),n}function dw(e,t){var n=uw(e,t);return n&&n[0]}var hw=function(e){if(!e||!e.props)return!1;var t=e.props,n=t.width,r=t.height;return!(!Ax(n)||n<=0||!Ax(r)||r<=0)},fw=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],pw=function(e){return e&&e.type&&jx()(e.type)&&fw.indexOf(e.type)>=0},mw=function(e,t,n){if(!e||"function"===typeof e||"boolean"===typeof e)return null;var i=e;if((0,r.isValidElement)(e)&&(i=e.props),!Hx()(i))return null;var a={};return Object.keys(i).forEach((function(e){var r;(function(e,t,n,r){var i,a=null!==(i=null===Xx||void 0===Xx?void 0:Xx[r])&&void 0!==i?i:[];return!$x()(e)&&(r&&a.includes(t)||Yx.includes(t))||n&&Zx.includes(t)})(null===(r=i)||void 0===r?void 0:r[e],e,t,n)&&(a[e]=i[e])})),a},gw=function e(t,n){if(t===n)return!0;var i=r.Children.count(t);if(i!==r.Children.count(n))return!1;if(0===i)return!0;if(1===i)return yw(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var a=0;a<i;a++){var o=t[a],s=n[a];if(Array.isArray(o)||Array.isArray(s)){if(!e(o,s))return!1}else if(!yw(o,s))return!1}return!0},yw=function(e,t){if(zx()(e)&&zx()(t))return!0;if(!zx()(e)&&!zx()(t)){var n=e.props||{},r=n.children,i=rw(n,tw),a=t.props||{},o=a.children,s=rw(a,nw);return r&&o?Kx(i,s)&&gw(r,o):!r&&!o&&Kx(i,s)}return!1},vw=function(e,t){var n=[],r={};return cw(e).forEach((function(e,i){if(pw(e))n.push(e);else if(e){var a=ow(e.type),o=t[a]||{},s=o.handler,l=o.once;if(s&&(!l||!r[a])){var c=s(e,a,i);n.push(c),r[a]=!0}}})),n},bw=function(e,t){return cw(t).indexOf(e)};function xw(e){return xw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xw(e)}function ww(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jw(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ww(Object(n),!0).forEach((function(t){Sw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ww(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kw(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ew(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ew(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ew(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Tw=(0,r.forwardRef)((function(e,t){var n=e.aspect,i=e.initialDimension,a=void 0===i?{width:-1,height:-1}:i,o=e.width,s=void 0===o?"100%":o,l=e.height,c=void 0===l?"100%":l,u=e.minWidth,d=void 0===u?0:u,h=e.minHeight,f=e.maxHeight,p=e.children,m=e.debounce,g=void 0===m?0:m,y=e.id,v=e.className,b=e.onResize,x=e.style,w=void 0===x?{}:x,j=(0,r.useRef)(null),S=(0,r.useRef)();S.current=b,(0,r.useImperativeHandle)(t,(function(){return Object.defineProperty(j.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),j.current},configurable:!0})}));var k=kw((0,r.useState)({containerWidth:a.width,containerHeight:a.height}),2),E=k[0],T=k[1],C=(0,r.useCallback)((function(e,t){T((function(n){var r=Math.round(e),i=Math.round(t);return n.containerWidth===r&&n.containerHeight===i?n:{containerWidth:r,containerHeight:i}}))}),[]);(0,r.useEffect)((function(){var e=function(e){var t,n=e[0].contentRect,r=n.width,i=n.height;C(r,i),null===(t=S.current)||void 0===t||t.call(S,r,i)};g>0&&(e=xx()(e,g,{trailing:!0,leading:!1}));var t=new ResizeObserver(e),n=j.current.getBoundingClientRect(),r=n.width,i=n.height;return C(r,i),t.observe(j.current),function(){t.disconnect()}}),[C,g]);var O=(0,r.useMemo)((function(){var e=E.containerWidth,t=E.containerHeight;if(e<0||t<0)return null;Ux(Nx(s)||Nx(c),"The width(%s) and height(%s) are both fixed numbers,\n       maybe you don't need to use a ResponsiveContainer.",s,c),Ux(!n||n>0,"The aspect(%s) must be greater than zero.",n);var i=Nx(s)?e:s,a=Nx(c)?t:c;n&&n>0&&(i?a=i/n:a&&(i=a*n),f&&a>f&&(a=f)),Ux(i>0||a>0,"The width(%s) and height(%s) of chart should be greater than 0,\n       please check the style of container, or the props width(%s) and height(%s),\n       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the\n       height and width.",i,a,s,c,d,h,n);var o=!Array.isArray(p)&&ow(p.type).endsWith("Chart");return r.Children.map(p,(function(e){return r.isValidElement(e)?(0,r.cloneElement)(e,jw({width:i,height:a},o?{style:jw({height:"100%",width:"100%",maxHeight:a,maxWidth:i},e.props.style)}:{})):e}))}),[n,p,c,f,h,d,E,s]);return r.createElement("div",{id:y?"".concat(y):void 0,className:vx("recharts-responsive-container",v),style:jw(jw({},w),{},{width:s,height:c,minWidth:d,minHeight:h,maxHeight:f}),ref:j},O)})),Cw=n(6604),Ow=n.n(Cw),_w=n(7424),Nw=n.n(_w),Aw="Invariant failed";function Iw(e,t){if(!e)throw new Error(Aw)}var Pw=["children","width","height","viewBox","className","style","title","desc"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(this,arguments)}function Mw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rw(e){var t=e.children,n=e.width,i=e.height,a=e.viewBox,o=e.className,s=e.style,l=e.title,c=e.desc,u=Mw(e,Pw),d=a||{width:n,height:i,x:0,y:0},h=vx("recharts-surface",o);return r.createElement("svg",Dw({},mw(u,!0,"svg"),{className:h,width:n,height:i,style:s,viewBox:"".concat(d.x," ").concat(d.y," ").concat(d.width," ").concat(d.height)}),r.createElement("title",null,l),r.createElement("desc",null,c),t)}var Lw=["children","className"];function Fw(){return Fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fw.apply(this,arguments)}function Uw(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Bw=r.forwardRef((function(e,t){var n=e.children,i=e.className,a=Uw(e,Lw),o=vx("recharts-layer",i);return r.createElement("g",Fw({className:o},mw(a,!0),{ref:t}),n)}));function zw(e){return zw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zw(e)}function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vw.apply(this,arguments)}function $w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return qw(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qw(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function qw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hw(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ww(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Hw(Object(n),!0).forEach((function(t){Kw(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hw(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Kw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gw(e){return Array.isArray(e)&&Ix(e[0])&&Ix(e[1])?e.join(" ~ "):e}var Yw=function(e){var t=e.separator,n=void 0===t?" : ":t,i=e.contentStyle,a=void 0===i?{}:i,o=e.itemStyle,s=void 0===o?{}:o,l=e.labelStyle,c=void 0===l?{}:l,u=e.payload,d=e.formatter,h=e.itemSorter,f=e.wrapperClassName,p=e.labelClassName,m=e.label,g=e.labelFormatter,y=e.accessibilityLayer,v=void 0!==y&&y,b=Ww({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),x=Ww({margin:0},c),w=!zx()(m),j=w?m:"",S=vx("recharts-default-tooltip",f),k=vx("recharts-tooltip-label",p);w&&g&&void 0!==u&&null!==u&&(j=g(m,u));var E=v?{role:"status","aria-live":"assertive"}:{};return r.createElement("div",Vw({className:S,style:b},E),r.createElement("p",{className:k,style:x},r.isValidElement(j)?j:"".concat(j)),function(){if(u&&u.length){var e=(h?Nw()(u,h):u).map((function(e,t){if("none"===e.type)return null;var i=Ww({display:"block",paddingTop:4,paddingBottom:4,color:e.color||"#000"},s),a=e.formatter||d||Gw,o=e.value,l=e.name,c=o,h=l;if(a&&null!=c&&null!=h){var f=a(o,l,e,t,u);if(Array.isArray(f)){var p=$w(f,2);c=p[0],h=p[1]}else c=f}return r.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(t),style:i},Ix(h)?r.createElement("span",{className:"recharts-tooltip-item-name"},h):null,Ix(h)?r.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,r.createElement("span",{className:"recharts-tooltip-item-value"},c),r.createElement("span",{className:"recharts-tooltip-item-unit"},e.unit||""))}));return r.createElement("ul",{className:"recharts-tooltip-item-list",style:{padding:0,margin:0}},e)}return null}())};function Qw(e){return Qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qw(e)}function Xw(e,t,n){return t=function(e){var t=function(e,t){if("object"!=Qw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Qw(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zw="recharts-tooltip-wrapper",Jw={visibility:"hidden"};function ej(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return vx(Zw,Xw(Xw(Xw(Xw({},"".concat(Zw,"-right"),Ax(n)&&t&&Ax(t.x)&&n>=t.x),"".concat(Zw,"-left"),Ax(n)&&t&&Ax(t.x)&&n<t.x),"".concat(Zw,"-bottom"),Ax(r)&&t&&Ax(t.y)&&r>=t.y),"".concat(Zw,"-top"),Ax(r)&&t&&Ax(t.y)&&r<t.y))}function tj(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,a=e.position,o=e.reverseDirection,s=e.tooltipDimension,l=e.viewBox,c=e.viewBoxDimension;if(a&&Ax(a[r]))return a[r];var u=n[r]-s-i,d=n[r]+i;return t[r]?o[r]?u:d:o[r]?u<l[r]?Math.max(d,l[r]):Math.max(u,l[r]):d+s>l[r]+c?Math.max(u,l[r]):Math.max(d,l[r])}function nj(e){return nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nj(e)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ij(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rj(Object(n),!0).forEach((function(t){uj(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function aj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dj(r.key),r)}}function oj(e,t,n){return t=lj(t),function(e,t){if(t&&("object"===nj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,sj()?Reflect.construct(t,n||[],lj(e).constructor):t.apply(e,n))}function sj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sj=function(){return!!e})()}function lj(e){return lj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lj(e)}function cj(e,t){return cj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},cj(e,t)}function uj(e,t,n){return(t=dj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dj(e){var t=function(e,t){if("object"!=nj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==nj(t)?t:t+""}var hj=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return uj(e=oj(this,t,[].concat(r)),"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),uj(e,"handleKeyDown",(function(t){var n,r,i,a;"Escape"===t.key&&e.setState({dismissed:!0,dismissedAtCoordinate:{x:null!==(n=null===(r=e.props.coordinate)||void 0===r?void 0:r.x)&&void 0!==n?n:0,y:null!==(i=null===(a=e.props.coordinate)||void 0===a?void 0:a.y)&&void 0!==i?i:0}})})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&cj(e,t)}(t,e),n=t,(i=[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();(Math.abs(e.width-this.state.lastBoundingBox.width)>1||Math.abs(e.height-this.state.lastBoundingBox.height)>1)&&this.setState({lastBoundingBox:{width:e.width,height:e.height}})}else-1===this.state.lastBoundingBox.width&&-1===this.state.lastBoundingBox.height||this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var e,t;this.props.active&&this.updateBBox(),this.state.dismissed&&((null===(e=this.props.coordinate)||void 0===e?void 0:e.x)===this.state.dismissedAtCoordinate.x&&(null===(t=this.props.coordinate)||void 0===t?void 0:t.y)===this.state.dismissedAtCoordinate.y||(this.state.dismissed=!1))}},{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,a=t.animationDuration,o=t.animationEasing,s=t.children,l=t.coordinate,c=t.hasPayload,u=t.isAnimationActive,d=t.offset,h=t.position,f=t.reverseDirection,p=t.useTranslate3d,m=t.viewBox,g=t.wrapperStyle,y=function(e){var t,n,r=e.allowEscapeViewBox,i=e.coordinate,a=e.offsetTopLeft,o=e.position,s=e.reverseDirection,l=e.tooltipBox,c=e.useTranslate3d,u=e.viewBox;return{cssProperties:l.height>0&&l.width>0&&i?function(e){var t=e.translateX,n=e.translateY;return{transform:e.useTranslate3d?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}({translateX:t=tj({allowEscapeViewBox:r,coordinate:i,key:"x",offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l.width,viewBox:u,viewBoxDimension:u.width}),translateY:n=tj({allowEscapeViewBox:r,coordinate:i,key:"y",offsetTopLeft:a,position:o,reverseDirection:s,tooltipDimension:l.height,viewBox:u,viewBoxDimension:u.height}),useTranslate3d:c}):Jw,cssClasses:ej({translateX:t,translateY:n,coordinate:i})}}({allowEscapeViewBox:i,coordinate:l,offsetTopLeft:d,position:h,reverseDirection:f,tooltipBox:this.state.lastBoundingBox,useTranslate3d:p,viewBox:m}),v=y.cssClasses,b=y.cssProperties,x=ij(ij({transition:u&&n?"transform ".concat(a,"ms ").concat(o):void 0},b),{},{pointerEvents:"none",visibility:!this.state.dismissed&&n&&c?"visible":"hidden",position:"absolute",top:0,left:0},g);return r.createElement("div",{tabIndex:-1,className:v,style:x,ref:function(t){e.wrapperNode=t}},s)}}])&&aj(n.prototype,i),a&&aj(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent),fj={isSsr:!("undefined"!==typeof window&&window.document&&window.document.createElement&&window.setTimeout),get:function(e){return fj[e]},set:function(e,t){if("string"===typeof e)fj[e]=t;else{var n=Object.keys(e);n&&n.length&&n.forEach((function(t){fj[t]=e[t]}))}}},pj=n(977),mj=n.n(pj);function gj(e,t,n){return!0===t?mj()(e,n):$x()(t)?mj()(e,t):e}function yj(e){return yj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yj(e)}function vj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vj(Object(n),!0).forEach((function(t){Ej(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tj(r.key),r)}}function wj(e,t,n){return t=Sj(t),function(e,t){if(t&&("object"===yj(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jj()?Reflect.construct(t,n||[],Sj(e).constructor):t.apply(e,n))}function jj(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jj=function(){return!!e})()}function Sj(e){return Sj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Sj(e)}function kj(e,t){return kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kj(e,t)}function Ej(e,t,n){return(t=Tj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tj(e){var t=function(e,t){if("object"!=yj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yj(t)?t:t+""}function Cj(e){return e.dataKey}var Oj=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wj(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kj(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this,t=this.props,n=t.active,i=t.allowEscapeViewBox,a=t.animationDuration,o=t.animationEasing,s=t.content,l=t.coordinate,c=t.filterNull,u=t.isAnimationActive,d=t.offset,h=t.payload,f=t.payloadUniqBy,p=t.position,m=t.reverseDirection,g=t.useTranslate3d,y=t.viewBox,v=t.wrapperStyle,b=null!==h&&void 0!==h?h:[];c&&b.length&&(b=gj(h.filter((function(t){return null!=t.value&&(!0!==t.hide||e.props.includeHidden)})),f,Cj));var x=b.length>0;return r.createElement(hj,{allowEscapeViewBox:i,animationDuration:a,animationEasing:o,isAnimationActive:u,active:n,coordinate:l,hasPayload:x,offset:d,position:p,reverseDirection:m,useTranslate3d:g,viewBox:y,wrapperStyle:v},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):"function"===typeof e?r.createElement(e,t):r.createElement(Yw,t)}(s,bj(bj({},this.props),{},{payload:b})))}}])&&xj(n.prototype,i),a&&xj(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);Ej(Oj,"displayName","Tooltip"),Ej(Oj,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!fj.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var _j=n(643),Nj=n.n(_j);Math.abs,Math.atan2;const Aj=Math.cos,Ij=(Math.max,Math.min,Math.sin),Pj=Math.sqrt,Dj=Math.PI,Mj=2*Dj;const Rj={draw(e,t){const n=Pj(t/Dj);e.moveTo(n,0),e.arc(0,0,n,0,Mj)}},Lj={draw(e,t){const n=Pj(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Fj=Pj(1/3),Uj=2*Fj,Bj={draw(e,t){const n=Pj(t/Uj),r=n*Fj;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},zj={draw(e,t){const n=Pj(t),r=-n/2;e.rect(r,r,n,n)}},Vj=Ij(Dj/10)/Ij(7*Dj/10),$j=Ij(Mj/10)*Vj,qj=-Aj(Mj/10)*Vj,Hj={draw(e,t){const n=Pj(.8908130915292852*t),r=$j*n,i=qj*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const t=Mj*a/5,o=Aj(t),s=Ij(t);e.lineTo(s*n,-o*n),e.lineTo(o*r-s*i,s*r+o*i)}e.closePath()}},Wj=Pj(3),Kj={draw(e,t){const n=-Pj(t/(3*Wj));e.moveTo(0,2*n),e.lineTo(-Wj*n,-n),e.lineTo(Wj*n,-n),e.closePath()}},Gj=-.5,Yj=Pj(3)/2,Qj=1/Pj(12),Xj=3*(Qj/2+1),Zj={draw(e,t){const n=Pj(t/Xj),r=n/2,i=n*Qj,a=r,o=n*Qj+n,s=-a,l=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(s,l),e.lineTo(Gj*r-Yj*i,Yj*r+Gj*i),e.lineTo(Gj*a-Yj*o,Yj*a+Gj*o),e.lineTo(Gj*s-Yj*l,Yj*s+Gj*l),e.lineTo(Gj*r+Yj*i,Gj*i-Yj*r),e.lineTo(Gj*a+Yj*o,Gj*o-Yj*a),e.lineTo(Gj*s+Yj*l,Gj*l-Yj*s),e.closePath()}};function Jj(e){return function(){return e}}const eS=Math.PI,tS=2*eS,nS=1e-6,rS=tS-nS;function iS(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}class aS{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==e?iS:function(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return iS;const n=10**t;return function(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=Math.round(arguments[t]*n)/n+e[t]}}(e)}moveTo(e,t){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,t){this._append`L${this._x1=+e},${this._y1=+t}`}quadraticCurveTo(e,t,n,r){this._append`Q${+e},${+t},${this._x1=+n},${this._y1=+r}`}bezierCurveTo(e,t,n,r,i,a){this._append`C${+e},${+t},${+n},${+r},${this._x1=+i},${this._y1=+a}`}arcTo(e,t,n,r,i){if(e=+e,t=+t,n=+n,r=+r,(i=+i)<0)throw new Error(`negative radius: ${i}`);let a=this._x1,o=this._y1,s=n-e,l=r-t,c=a-e,u=o-t,d=c*c+u*u;if(null===this._x1)this._append`M${this._x1=e},${this._y1=t}`;else if(d>nS)if(Math.abs(u*s-l*c)>nS&&i){let h=n-a,f=r-o,p=s*s+l*l,m=h*h+f*f,g=Math.sqrt(p),y=Math.sqrt(d),v=i*Math.tan((eS-Math.acos((p+d-m)/(2*g*y)))/2),b=v/y,x=v/g;Math.abs(b-1)>nS&&this._append`L${e+b*c},${t+b*u}`,this._append`A${i},${i},0,0,${+(u*h>c*f)},${this._x1=e+x*s},${this._y1=t+x*l}`}else this._append`L${this._x1=e},${this._y1=t}`;else;}arc(e,t,n,r,i,a){if(e=+e,t=+t,a=!!a,(n=+n)<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(r),s=n*Math.sin(r),l=e+o,c=t+s,u=1^a,d=a?r-i:i-r;null===this._x1?this._append`M${l},${c}`:(Math.abs(this._x1-l)>nS||Math.abs(this._y1-c)>nS)&&this._append`L${l},${c}`,n&&(d<0&&(d=d%tS+tS),d>rS?this._append`A${n},${n},0,1,${u},${e-o},${t-s}A${n},${n},0,1,${u},${this._x1=l},${this._y1=c}`:d>nS&&this._append`A${n},${n},0,${+(d>=eS)},${u},${this._x1=e+n*Math.cos(i)},${this._y1=t+n*Math.sin(i)}`)}rect(e,t,n,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${n=+n}v${+r}h${-n}Z`}toString(){return this._}}function oS(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(null==n)t=null;else{const e=Math.floor(n);if(!(e>=0))throw new RangeError(`invalid digits: ${n}`);t=e}return e},()=>new aS(t)}Pj(3),Pj(3);function sS(e){return sS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sS(e)}var lS=["type","size","sizeType"];function cS(){return cS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cS.apply(this,arguments)}function uS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?uS(Object(n),!0).forEach((function(t){hS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hS(e,t,n){return t=function(e){var t=function(e,t){if("object"!=sS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==sS(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var pS={symbolCircle:Rj,symbolCross:Lj,symbolDiamond:Bj,symbolSquare:zj,symbolStar:Hj,symbolTriangle:Kj,symbolWye:Zj},mS=Math.PI/180,gS=function(e){var t=e.type,n=void 0===t?"circle":t,i=e.size,a=void 0===i?64:i,o=e.sizeType,s=void 0===o?"area":o,l=dS(dS({},fS(e,lS)),{},{type:n,size:a,sizeType:s}),c=l.className,u=l.cx,d=l.cy,h=mw(l,!0);return u===+u&&d===+d&&a===+a?r.createElement("path",cS({},h,{className:vx("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:function(){var e=function(e){var t="symbol".concat(Nj()(e));return pS[t]||Rj}(n),t=function(e,t){let n=null,r=oS(i);function i(){let i;if(n||(n=i=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),i)return n=null,i+""||null}return e="function"===typeof e?e:Jj(e||Rj),t="function"===typeof t?t:Jj(void 0===t?64:+t),i.type=function(t){return arguments.length?(e="function"===typeof t?t:Jj(t),i):e},i.size=function(e){return arguments.length?(t="function"===typeof e?e:Jj(+e),i):t},i.context=function(e){return arguments.length?(n=null==e?null:e,i):n},i}().type(e).size(function(e,t,n){if("area"===t)return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return.5*e*e/Math.sqrt(3);case"square":return e*e;case"star":var r=18*mS;return 1.25*e*e*(Math.tan(r)-Math.tan(2*r)*Math.pow(Math.tan(r),2));case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}}(a,s,n));return t()}()})):null};function yS(e){return yS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yS(e)}function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vS.apply(this,arguments)}function bS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,TS(r.key),r)}}function wS(e,t,n){return t=SS(t),function(e,t){if(t&&("object"===yS(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,jS()?Reflect.construct(t,n||[],SS(e).constructor):t.apply(e,n))}function jS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(jS=function(){return!!e})()}function SS(e){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},SS(e)}function kS(e,t){return kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kS(e,t)}function ES(e,t,n){return(t=TS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TS(e){var t=function(e,t){if("object"!=yS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=yS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==yS(t)?t:t+""}gS.registerSymbol=function(e,t){pS["symbol".concat(Nj()(e))]=t};var CS=32,OS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),wS(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kS(e,t)}(t,e),n=t,i=[{key:"renderIcon",value:function(e){var t=this.props.inactiveColor,n=16,i=CS/6,a=CS/3,o=e.inactive?t:e.color;if("plainline"===e.type)return r.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:n,x2:CS,y2:n,className:"recharts-legend-icon"});if("line"===e.type)return r.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(n,"h").concat(a,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(2*a,",").concat(n,"\n            H").concat(CS,"M").concat(2*a,",").concat(n,"\n            A").concat(i,",").concat(i,",0,1,1,").concat(a,",").concat(n),className:"recharts-legend-icon"});if("rect"===e.type)return r.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(4,"h").concat(CS,"v").concat(24,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(r.isValidElement(e.legendIcon)){var s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bS(Object(n),!0).forEach((function(t){ES(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e);return delete s.legendIcon,r.cloneElement(e.legendIcon,s)}return r.createElement(gS,{fill:o,cx:n,cy:n,size:CS,sizeType:"diameter",type:e.type})}},{key:"renderItems",value:function(){var e=this,t=this.props,n=t.payload,i=t.iconSize,a=t.layout,o=t.formatter,s=t.inactiveColor,l={x:0,y:0,width:CS,height:CS},c={display:"horizontal"===a?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return n.map((function(t,n){var a=t.formatter||o,d=vx(ES(ES({"recharts-legend-item":!0},"legend-item-".concat(n),!0),"inactive",t.inactive));if("none"===t.type)return null;var h=$x()(t.value)?null:t.value;Ux(!$x()(t.value),'The name property is also required when using a function for the dataKey of a chart\'s cartesian components. Ex: <Bar name="Name of my Data"/>');var f=t.inactive?s:t.color;return r.createElement("li",vS({className:d,style:c,key:"legend-item-".concat(n)},ew(e.props,t,n)),r.createElement(Rw,{width:i,height:i,viewBox:l,style:u},e.renderIcon(t)),r.createElement("span",{className:"recharts-legend-item-text",style:{color:f}},a?a(h,t,n):h))}))}},{key:"render",value:function(){var e=this.props,t=e.payload,n=e.layout,i=e.align;if(!t||!t.length)return null;var a={padding:0,margin:0,textAlign:"horizontal"===n?i:"left"};return r.createElement("ul",{className:"recharts-default-legend",style:a},this.renderItems())}}],i&&xS(n.prototype,i),a&&xS(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function _S(e){return _S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_S(e)}ES(OS,"displayName","Legend"),ES(OS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var NS=["ref"];function AS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function IS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?AS(Object(n),!0).forEach((function(t){FS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):AS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function PS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,US(r.key),r)}}function DS(e,t,n){return t=RS(t),function(e,t){if(t&&("object"===_S(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,MS()?Reflect.construct(t,n||[],RS(e).constructor):t.apply(e,n))}function MS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(MS=function(){return!!e})()}function RS(e){return RS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},RS(e)}function LS(e,t){return LS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},LS(e,t)}function FS(e,t,n){return(t=US(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function US(e){var t=function(e,t){if("object"!=_S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_S(t)?t:t+""}function BS(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zS(e){return e.value}var VS=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return FS(e=DS(this,t,[].concat(r)),"lastBoundingBox",{width:-1,height:-1}),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&LS(e,t)}(t,e),n=t,a=[{key:"getWithHeight",value:function(e,t){var n=IS(IS({},this.defaultProps),e.props).layout;return"vertical"===n&&Ax(e.props.height)?{height:e.props.height}:"horizontal"===n?{width:e.props.width||t}:null}}],(i=[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var e=this.wrapperNode.getBoundingClientRect();return e.height=this.wrapperNode.offsetHeight,e.width=this.wrapperNode.offsetWidth,e}return null}},{key:"updateBBox",value:function(){var e=this.props.onBBoxUpdate,t=this.getBBox();t?(Math.abs(t.width-this.lastBoundingBox.width)>1||Math.abs(t.height-this.lastBoundingBox.height)>1)&&(this.lastBoundingBox.width=t.width,this.lastBoundingBox.height=t.height,e&&e(t)):-1===this.lastBoundingBox.width&&-1===this.lastBoundingBox.height||(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,e&&e(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?IS({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(e){var t,n,r=this.props,i=r.layout,a=r.align,o=r.verticalAlign,s=r.margin,l=r.chartWidth,c=r.chartHeight;return e&&(void 0!==e.left&&null!==e.left||void 0!==e.right&&null!==e.right)||(t="center"===a&&"vertical"===i?{left:((l||0)-this.getBBoxSnapshot().width)/2}:"right"===a?{right:s&&s.right||0}:{left:s&&s.left||0}),e&&(void 0!==e.top&&null!==e.top||void 0!==e.bottom&&null!==e.bottom)||(n="middle"===o?{top:((c||0)-this.getBBoxSnapshot().height)/2}:"bottom"===o?{bottom:s&&s.bottom||0}:{top:s&&s.top||0}),IS(IS({},t),n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.content,i=t.width,a=t.height,o=t.wrapperStyle,s=t.payloadUniqBy,l=t.payload,c=IS(IS({position:"absolute",width:i||"auto",height:a||"auto"},this.getDefaultPosition(o)),o);return r.createElement("div",{className:"recharts-legend-wrapper",style:c,ref:function(t){e.wrapperNode=t}},function(e,t){if(r.isValidElement(e))return r.cloneElement(e,t);if("function"===typeof e)return r.createElement(e,t);t.ref;var n=BS(t,NS);return r.createElement(OS,n)}(n,IS(IS({},this.props),{},{payload:gj(l,s,zS)})))}}])&&PS(n.prototype,i),a&&PS(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function $S(){return $S=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$S.apply(this,arguments)}FS(VS,"displayName","Legend"),FS(VS,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var qS=function(e){var t=e.cx,n=e.cy,i=e.r,a=e.className,o=vx("recharts-dot",a);return t===+t&&n===+n&&i===+i?r.createElement("circle",$S({},mw(e,!1),Jx(e),{className:o,cx:t,cy:n,r:i})):null},HS=n(5173),WS=n.n(HS),KS=Object.getOwnPropertyNames,GS=Object.getOwnPropertySymbols,YS=Object.prototype.hasOwnProperty;function QS(e,t){return function(n,r,i){return e(n,r,i)&&t(n,r,i)}}function XS(e){return function(t,n,r){if(!t||!n||"object"!==typeof t||"object"!==typeof n)return e(t,n,r);var i=r.cache,a=i.get(t),o=i.get(n);if(a&&o)return a===n&&o===t;i.set(t,n),i.set(n,t);var s=e(t,n,r);return i.delete(t),i.delete(n),s}}function ZS(e){return KS(e).concat(GS(e))}var JS=Object.hasOwn||function(e,t){return YS.call(e,t)};function ek(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var tk=Object.getOwnPropertyDescriptor,nk=Object.keys;function rk(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function ik(e,t){return ek(e.getTime(),t.getTime())}function ak(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function ok(e,t){return e===t}function sk(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,o=new Array(r),s=e.entries(),l=0;(i=s.next())&&!i.done;){for(var c=t.entries(),u=!1,d=0;(a=c.next())&&!a.done;)if(o[d])d++;else{var h=i.value,f=a.value;if(n.equals(h[0],f[0],l,d,e,t,n)&&n.equals(h[1],f[1],h[0],f[0],e,t,n)){u=o[d]=!0;break}d++}if(!u)return!1;l++}return!0}var lk=ek;function ck(e,t,n){var r=nk(e),i=r.length;if(nk(t).length!==i)return!1;for(;i-- >0;)if(!gk(e,t,n,r[i]))return!1;return!0}function uk(e,t,n){var r,i,a,o=ZS(e),s=o.length;if(ZS(t).length!==s)return!1;for(;s-- >0;){if(!gk(e,t,n,r=o[s]))return!1;if(i=tk(e,r),a=tk(t,r),(i||a)&&(!i||!a||i.configurable!==a.configurable||i.enumerable!==a.enumerable||i.writable!==a.writable))return!1}return!0}function dk(e,t){return ek(e.valueOf(),t.valueOf())}function hk(e,t){return e.source===t.source&&e.flags===t.flags}function fk(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i,a,o=new Array(r),s=e.values();(i=s.next())&&!i.done;){for(var l=t.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!o[u]&&n.equals(i.value,a.value,i.value,a.value,e,t,n)){c=o[u]=!0;break}u++}if(!c)return!1}return!0}function pk(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function mk(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function gk(e,t,n,r){return!("_owner"!==r&&"__o"!==r&&"__v"!==r||!e.$$typeof&&!t.$$typeof)||JS(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var yk=Array.isArray,vk="function"===typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView:null,bk=Object.assign,xk=Object.prototype.toString.call.bind(Object.prototype.toString);var wk=jk();jk({strict:!0}),jk({circular:!0}),jk({circular:!0,strict:!0}),jk({createInternalComparator:function(){return ek}}),jk({strict:!0,createInternalComparator:function(){return ek}}),jk({circular:!0,createInternalComparator:function(){return ek}}),jk({circular:!0,createInternalComparator:function(){return ek},strict:!0});function jk(e){void 0===e&&(e={});var t,n=e.circular,r=void 0!==n&&n,i=e.createInternalComparator,a=e.createState,o=e.strict,s=void 0!==o&&o,l=function(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?uk:rk,areDatesEqual:ik,areErrorsEqual:ak,areFunctionsEqual:ok,areMapsEqual:r?QS(sk,uk):sk,areNumbersEqual:lk,areObjectsEqual:r?uk:ck,arePrimitiveWrappersEqual:dk,areRegExpsEqual:hk,areSetsEqual:r?QS(fk,uk):fk,areTypedArraysEqual:r?uk:pk,areUrlsEqual:mk};if(n&&(i=bk({},i,n(i))),t){var a=XS(i.areArraysEqual),o=XS(i.areMapsEqual),s=XS(i.areObjectsEqual),l=XS(i.areSetsEqual);i=bk({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}(e),c=function(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,a=e.areMapsEqual,o=e.areNumbersEqual,s=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,d=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(e,f,p){if(e===f)return!0;if(null==e||null==f)return!1;var m=typeof e;if(m!==typeof f)return!1;if("object"!==m)return"number"===m?o(e,f,p):"function"===m&&i(e,f,p);var g=e.constructor;if(g!==f.constructor)return!1;if(g===Object)return s(e,f,p);if(yk(e))return t(e,f,p);if(null!=vk&&vk(e))return d(e,f,p);if(g===Date)return n(e,f,p);if(g===RegExp)return c(e,f,p);if(g===Map)return a(e,f,p);if(g===Set)return u(e,f,p);var y=xk(e);return"[object Date]"===y?n(e,f,p):"[object RegExp]"===y?c(e,f,p):"[object Map]"===y?a(e,f,p):"[object Set]"===y?u(e,f,p):"[object Object]"===y?"function"!==typeof e.then&&"function"!==typeof f.then&&s(e,f,p):"[object URL]"===y?h(e,f,p):"[object Error]"===y?r(e,f,p):"[object Arguments]"===y?s(e,f,p):("[object Boolean]"===y||"[object Number]"===y||"[object String]"===y)&&l(e,f,p)}}(l),u=i?i(c):(t=c,function(e,n,r,i,a,o,s){return t(e,n,s)});return function(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,a=e.strict;if(r)return function(e,o){var s=r(),l=s.cache,c=void 0===l?t?new WeakMap:void 0:l,u=s.meta;return n(e,o,{cache:c,equals:i,meta:u,strict:a})};if(t)return function(e,t){return n(e,t,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(e,t){return n(e,t,o)}}({circular:r,comparator:c,createState:a,equals:u,strict:s})}function Sk(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=-1;requestAnimationFrame((function r(i){n<0&&(n=i),i-n>t?(e(i),n=-1):function(e){"undefined"!==typeof requestAnimationFrame&&requestAnimationFrame(e)}(r)}))}function kk(e){return kk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kk(e)}function Ek(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Tk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tk(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Tk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Ck(){var e=function(){return null},t=!1,n=function n(r){if(!t){if(Array.isArray(r)){if(!r.length)return;var i=Ek(r),a=i[0],o=i.slice(1);return"number"===typeof a?void Sk(n.bind(null,o),a):(n(a),void Sk(n.bind(null,o)))}"object"===kk(r)&&e(r),"function"===typeof r&&r()}};return{stop:function(){t=!0},start:function(e){t=!1,n(e)},subscribe:function(t){return e=t,function(){e=function(){return null}}}}}function Ok(e){return Ok="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ok(e)}function _k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Nk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_k(Object(n),!0).forEach((function(t){Ak(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ak(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ok(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ok(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ok(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ik=function(e){return e},Pk=function(e,t){return Object.keys(t).reduce((function(n,r){return Nk(Nk({},n),{},Ak({},r,e(r,t[r])))}),{})},Dk=function(e,t,n){return e.map((function(e){return"".concat((r=e,r.replace(/([A-Z])/g,(function(e){return"-".concat(e.toLowerCase())})))," ").concat(t,"ms ").concat(n);var r})).join(",")};function Mk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Lk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Rk(e){return function(e){if(Array.isArray(e))return Fk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Lk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Lk(e,t){if(e){if("string"===typeof e)return Fk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Fk(e,t):void 0}}function Fk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Uk=1e-4,Bk=function(e,t){return[0,3*e,3*t-6*e,3*e-3*t+1]},zk=function(e,t){return e.map((function(e,n){return e*Math.pow(t,n)})).reduce((function(e,t){return e+t}))},Vk=function(e,t){return function(n){var r=Bk(e,t);return zk(r,n)}},$k=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3];if(1===t.length)switch(t[0]){case"linear":r=0,i=0,a=1,o=1;break;case"ease":r=.25,i=.1,a=.25,o=1;break;case"ease-in":r=.42,i=0,a=1,o=1;break;case"ease-out":r=.42,i=0,a=.58,o=1;break;case"ease-in-out":r=0,i=0,a=.58,o=1;break;default:var s=t[0].split("(");if("cubic-bezier"===s[0]&&4===s[1].split(")")[0].split(",").length){var l=s[1].split(")")[0].split(",").map((function(e){return parseFloat(e)})),c=Mk(l,4);r=c[0],i=c[1],a=c[2],o=c[3]}}[r,a,i,o].every((function(e){return"number"===typeof e&&e>=0&&e<=1}));var u,d,h=Vk(r,a),f=Vk(i,o),p=(u=r,d=a,function(e){var t=Bk(u,d),n=[].concat(Rk(t.map((function(e,t){return e*t})).slice(1)),[0]);return zk(n,e)}),m=function(e){return e>1?1:e<0?0:e},g=function(e){for(var t=e>1?1:e,n=t,r=0;r<8;++r){var i=h(n)-t,a=p(n);if(Math.abs(i-t)<Uk||a<Uk)return f(n);n=m(n-i/a)}return f(n)};return g.isStepper=!1,g},qk=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0];if("string"===typeof r)switch(r){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $k(r);case"spring":return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.stiff,n=void 0===t?100:t,r=e.damping,i=void 0===r?8:r,a=e.dt,o=void 0===a?17:a,s=function(e,t,r){var a=r+(-(e-t)*n-r*i)*o/1e3,s=r*o/1e3+e;return Math.abs(s-t)<Uk&&Math.abs(a)<Uk?[t,0]:[s,a]};return s.isStepper=!0,s.dt=o,s}();default:if("cubic-bezier"===r.split("(")[0])return $k(r)}return"function"===typeof r?r:null};function Hk(e){return Hk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hk(e)}function Wk(e){return function(e){if(Array.isArray(e))return Zk(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Xk(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Kk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Gk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Kk(Object(n),!0).forEach((function(t){Yk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yk(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Hk(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Hk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Hk(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qk(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||Xk(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xk(e,t){if(e){if("string"===typeof e)return Zk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zk(e,t):void 0}}function Zk(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Jk=function(e,t,n){return e+(t-e)*n},eE=function(e){return e.from!==e.to},tE=function e(t,n,r){var i=Pk((function(e,n){if(eE(n)){var r=Qk(t(n.from,n.to,n.velocity),2),i=r[0],a=r[1];return Gk(Gk({},n),{},{from:i,velocity:a})}return n}),n);return r<1?Pk((function(e,t){return eE(t)?Gk(Gk({},t),{},{velocity:Jk(t.velocity,i[e].velocity,r),from:Jk(t.from,i[e].from,r)}):t}),n):e(t,i,r-1)};const nE=function(e,t,n,r,i){var a,o,s,l,c=(a=e,o=t,[Object.keys(a),Object.keys(o)].reduce((function(e,t){return e.filter((function(e){return t.includes(e)}))}))),u=c.reduce((function(n,r){return Gk(Gk({},n),{},Yk({},r,[e[r],t[r]]))}),{}),d=c.reduce((function(n,r){return Gk(Gk({},n),{},Yk({},r,{from:e[r],velocity:0,to:t[r]}))}),{}),h=-1,f=function(){return null};return f=n.isStepper?function(r){s||(s=r);var a=(r-s)/n.dt;d=tE(n,d,a),i(Gk(Gk(Gk({},e),t),Pk((function(e,t){return t.from}),d))),s=r,Object.values(d).filter(eE).length&&(h=requestAnimationFrame(f))}:function(a){l||(l=a);var o=(a-l)/r,s=Pk((function(e,t){return Jk.apply(void 0,Wk(t).concat([n(o)]))}),u);if(i(Gk(Gk(Gk({},e),t),s)),o<1)h=requestAnimationFrame(f);else{var c=Pk((function(e,t){return Jk.apply(void 0,Wk(t).concat([n(1)]))}),u);i(Gk(Gk(Gk({},e),t),c))}},function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(h)}}};function rE(e){return rE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rE(e)}var iE=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aE(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function oE(e){return function(e){if(Array.isArray(e))return sE(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return sE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sE(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function sE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function lE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function cE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lE(Object(n),!0).forEach((function(t){uE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uE(e,t,n){return(t=hE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hE(r.key),r)}}function hE(e){var t=function(e,t){if("object"!==rE(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==rE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===rE(t)?t:String(t)}function fE(e,t){return fE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fE(e,t)}function pE(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch($$){return!1}}();return function(){var n,r=yE(e);if(t){var i=yE(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return mE(this,n)}}function mE(e,t){if(t&&("object"===rE(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return gE(e)}function gE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yE(e){return yE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yE(e)}var vE=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fE(e,t)}(o,e);var t,n,i,a=pE(o);function o(e,t){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=(n=a.call(this,e,t)).props,i=r.isActive,s=r.attributeName,l=r.from,c=r.to,u=r.steps,d=r.children,h=r.duration;if(n.handleStyleChange=n.handleStyleChange.bind(gE(n)),n.changeStyle=n.changeStyle.bind(gE(n)),!i||h<=0)return n.state={style:{}},"function"===typeof d&&(n.state={style:c}),mE(n);if(u&&u.length)n.state={style:u[0].style};else if(l){if("function"===typeof d)return n.state={style:l},mE(n);n.state={style:s?uE({},s,l):l}}else n.state={style:{}};return n}return t=o,n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.isActive,n=e.canBegin;this.mounted=!0,t&&n&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isActive,r=t.canBegin,i=t.attributeName,a=t.shouldReAnimate,o=t.to,s=t.from,l=this.state.style;if(r)if(n){if(!(wk(e.to,o)&&e.canBegin&&e.isActive)){var c=!e.canBegin||!e.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var u=c||a?s:e.to;if(this.state&&l){var d={style:i?uE({},i,u):u};(i&&l[i]!==u||!i&&l!==u)&&this.setState(d)}this.runAnimation(cE(cE({},this.props),{},{from:u,begin:0}))}}else{var h={style:i?uE({},i,o):o};this.state&&l&&(i&&l[i]!==o||!i&&l!==o)&&this.setState(h)}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}},{key:"handleStyleChange",value:function(e){this.changeStyle(e)}},{key:"changeStyle",value:function(e){this.mounted&&this.setState({style:e})}},{key:"runJSAnimation",value:function(e){var t=this,n=e.from,r=e.to,i=e.duration,a=e.easing,o=e.begin,s=e.onAnimationEnd,l=e.onAnimationStart,c=nE(n,r,qk(a),i,this.changeStyle);this.manager.start([l,o,function(){t.stopJSAnimation=c()},i,s])}},{key:"runStepAnimation",value:function(e){var t=this,n=e.steps,r=e.begin,i=e.onAnimationStart,a=n[0],o=a.style,s=a.duration,l=void 0===s?0:s;return this.manager.start([i].concat(oE(n.reduce((function(e,r,i){if(0===i)return e;var a=r.duration,o=r.easing,s=void 0===o?"ease":o,l=r.style,c=r.properties,u=r.onAnimationEnd,d=i>0?n[i-1]:r,h=c||Object.keys(l);if("function"===typeof s||"spring"===s)return[].concat(oE(e),[t.runJSAnimation.bind(t,{from:d.style,to:l,duration:a,easing:s}),a]);var f=Dk(h,a,s),p=cE(cE(cE({},d.style),l),{},{transition:f});return[].concat(oE(e),[p,a,u]).filter(Ik)}),[o,Math.max(l,r)])),[e.onAnimationEnd]))}},{key:"runAnimation",value:function(e){this.manager||(this.manager=Ck());var t=e.begin,n=e.duration,r=e.attributeName,i=e.to,a=e.easing,o=e.onAnimationStart,s=e.onAnimationEnd,l=e.steps,c=e.children,u=this.manager;if(this.unSubscribe=u.subscribe(this.handleStyleChange),"function"!==typeof a&&"function"!==typeof c&&"spring"!==a)if(l.length>1)this.runStepAnimation(e);else{var d=r?uE({},r,i):i,h=Dk(Object.keys(d),n,a);u.start([o,t,cE(cE({},d),{},{transition:h}),n,s])}else this.runJSAnimation(e)}},{key:"render",value:function(){var e=this.props,t=e.children,n=(e.begin,e.duration),i=(e.attributeName,e.easing,e.isActive),a=(e.steps,e.from,e.to,e.canBegin,e.onAnimationEnd,e.shouldReAnimate,e.onAnimationReStart,aE(e,iE)),o=r.Children.count(t),s=this.state.style;if("function"===typeof t)return t(s);if(!i||0===o||n<=0)return t;var l=function(e){var t=e.props,n=t.style,i=void 0===n?{}:n,o=t.className;return(0,r.cloneElement)(e,cE(cE({},a),{},{style:cE(cE({},i),s),className:o}))};return 1===o?l(r.Children.only(t)):r.createElement("div",null,r.Children.map(t,(function(e){return l(e)})))}}],n&&dE(t.prototype,n),i&&dE(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(r.PureComponent);vE.displayName="Animate",vE.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}},vE.propTypes={from:WS().oneOfType([WS().object,WS().string]),to:WS().oneOfType([WS().object,WS().string]),attributeName:WS().string,duration:WS().number,begin:WS().number,easing:WS().oneOfType([WS().string,WS().func]),steps:WS().arrayOf(WS().shape({duration:WS().number.isRequired,style:WS().object.isRequired,easing:WS().oneOfType([WS().oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),WS().func]),properties:WS().arrayOf("string"),onAnimationEnd:WS().func})),children:WS().oneOfType([WS().node,WS().func]),isActive:WS().bool,canBegin:WS().bool,onAnimationEnd:WS().func,shouldReAnimate:WS().bool,onAnimationStart:WS().func,onAnimationReStart:WS().func};const bE=vE;function xE(e){return xE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xE(e)}function wE(){return wE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wE.apply(this,arguments)}function jE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return SE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kE(Object(n),!0).forEach((function(t){TE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=xE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==xE(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var CE=function(e,t,n,r,i){var a,o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,l=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0;if(o>0&&i instanceof Array){for(var u=[0,0,0,0],d=0;d<4;d++)u[d]=i[d]>o?o:i[d];a="M".concat(e,",").concat(t+s*u[0]),u[0]>0&&(a+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(c,",").concat(e+l*u[0],",").concat(t)),a+="L ".concat(e+n-l*u[1],",").concat(t),u[1]>0&&(a+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(c,",\n        ").concat(e+n,",").concat(t+s*u[1])),a+="L ".concat(e+n,",").concat(t+r-s*u[2]),u[2]>0&&(a+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(c,",\n        ").concat(e+n-l*u[2],",").concat(t+r)),a+="L ".concat(e+l*u[3],",").concat(t+r),u[3]>0&&(a+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(c,",\n        ").concat(e,",").concat(t+r-s*u[3])),a+="Z"}else if(o>0&&i===+i&&i>0){var h=Math.min(o,i);a="M ".concat(e,",").concat(t+s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+l*h,",").concat(t,"\n            L ").concat(e+n-l*h,",").concat(t,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n,",").concat(t+s*h,"\n            L ").concat(e+n,",").concat(t+r-s*h,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e+n-l*h,",").concat(t+r,"\n            L ").concat(e+l*h,",").concat(t+r,"\n            A ").concat(h,",").concat(h,",0,0,").concat(c,",").concat(e,",").concat(t+r-s*h," Z")}else a="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return a},OE=function(e,t){if(!e||!t)return!1;var n=e.x,r=e.y,i=t.x,a=t.y,o=t.width,s=t.height;if(Math.abs(o)>0&&Math.abs(s)>0){var l=Math.min(i,i+o),c=Math.max(i,i+o),u=Math.min(a,a+s),d=Math.max(a,a+s);return n>=l&&n<=c&&r>=u&&r<=d}return!1},_E={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},NE=function(e){var t=EE(EE({},_E),e),n=(0,r.useRef)(),i=jE((0,r.useState)(-1),2),a=i[0],o=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.width,u=t.height,d=t.radius,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isAnimationActive,y=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||0===c||0===u)return null;var v=vx("recharts-rectangle",h);return y?r.createElement(bE,{canBegin:a>0,from:{width:c,height:u,x:s,y:l},to:{width:c,height:u,x:s,y:l},duration:p,animationEasing:f,isActive:y},(function(e){var i=e.width,o=e.height,s=e.x,l=e.y;return r.createElement(bE,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,isActive:g,easing:f},r.createElement("path",wE({},mw(t,!0),{className:v,d:CE(s,l,i,o,d),ref:n})))})):r.createElement("path",wE({},mw(t,!0),{className:v,d:CE(s,l,c,u,d)}))};function AE(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e)}return this}function IE(e,t){switch(arguments.length){case 0:break;case 1:"function"===typeof e?this.interpolator(e):this.range(e);break;default:this.domain(e),"function"===typeof t?this.interpolator(t):this.range(t)}return this}class PE extends Map{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:LE;if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:t}}),null!=e)for(const[n,r]of e)this.set(n,r)}get(e){return super.get(DE(this,e))}has(e){return super.has(DE(this,e))}set(e,t){return super.set(ME(this,e),t)}delete(e){return super.delete(RE(this,e))}}Set;function DE(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):t}function ME(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)?n.get(i):(n.set(i,t),t)}function RE(e,t){let{_intern:n,_key:r}=e;const i=r(t);return n.has(i)&&(t=n.get(i),n.delete(i)),t}function LE(e){return null!==e&&"object"===typeof e?e.valueOf():e}const FE=Symbol("implicit");function UE(){var e=new PE,t=[],n=[],r=FE;function i(i){let a=e.get(i);if(void 0===a){if(r!==FE)return r;e.set(i,a=t.push(i)-1)}return n[a%n.length]}return i.domain=function(n){if(!arguments.length)return t.slice();t=[],e=new PE;for(const r of n)e.has(r)||e.set(r,t.push(r)-1);return i},i.range=function(e){return arguments.length?(n=Array.from(e),i):n.slice()},i.unknown=function(e){return arguments.length?(r=e,i):r},i.copy=function(){return UE(t,n).unknown(r)},AE.apply(i,arguments),i}function BE(){var e,t,n=UE().unknown(void 0),r=n.domain,i=n.range,a=0,o=1,s=!1,l=0,c=0,u=.5;function d(){var n=r().length,d=o<a,h=d?o:a,f=d?a:o;e=(f-h)/Math.max(1,n-l+2*c),s&&(e=Math.floor(e)),h+=(f-h-e*(n-l))*u,t=e*(1-l),s&&(h=Math.round(h),t=Math.round(t));var p=function(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((t-e)/n)),a=new Array(i);++r<i;)a[r]=e+r*n;return a}(n).map((function(t){return h+e*t}));return i(d?p.reverse():p)}return delete n.unknown,n.domain=function(e){return arguments.length?(r(e),d()):r()},n.range=function(e){return arguments.length?([a,o]=e,a=+a,o=+o,d()):[a,o]},n.rangeRound=function(e){return[a,o]=e,a=+a,o=+o,s=!0,d()},n.bandwidth=function(){return t},n.step=function(){return e},n.round=function(e){return arguments.length?(s=!!e,d()):s},n.padding=function(e){return arguments.length?(l=Math.min(1,c=+e),d()):l},n.paddingInner=function(e){return arguments.length?(l=Math.min(1,e),d()):l},n.paddingOuter=function(e){return arguments.length?(c=+e,d()):c},n.align=function(e){return arguments.length?(u=Math.max(0,Math.min(1,e)),d()):u},n.copy=function(){return BE(r(),[a,o]).round(s).paddingInner(l).paddingOuter(c).align(u)},AE.apply(d(),arguments)}function zE(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zE(t())},e}function VE(){return zE(BE.apply(null,arguments).paddingInner(1))}function $E(e){return $E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$E(e)}function qE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qE(Object(n),!0).forEach((function(t){WE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WE(e,t,n){return t=function(e){var t=function(e,t){if("object"!=$E(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==$E(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var KE={widthCache:{},cacheCount:0},GE={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},YE="recharts_measurement_span";var QE=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(void 0===e||null===e||fj.isSsr)return{width:0,height:0};var n=function(e){var t=HE({},e);return Object.keys(t).forEach((function(e){t[e]||delete t[e]})),t}(t),r=JSON.stringify({text:e,copyStyle:n});if(KE.widthCache[r])return KE.widthCache[r];try{var i=document.getElementById(YE);i||((i=document.createElement("span")).setAttribute("id",YE),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var a=HE(HE({},GE),n);Object.assign(i.style,a),i.textContent="".concat(e);var o=i.getBoundingClientRect(),s={width:o.width,height:o.height};return KE.widthCache[r]=s,++KE.cacheCount>2e3&&(KE.cacheCount=0,KE.widthCache={}),s}catch($$){return{width:0,height:0}}};function XE(e){return XE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},XE(e)}function ZE(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return JE(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JE(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function JE(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tT(r.key),r)}}function tT(e){var t=function(e,t){if("object"!=XE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=XE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==XE(t)?t:t+""}var nT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,rT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,iT=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,aT=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,oT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:16,in:96,Q:96/101.6,px:1},sT=Object.keys(oT),lT="NaN";var cT=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),""===n||iT.test(n)||(this.num=NaN,this.unit=""),sT.includes(n)&&(this.num=function(e,t){return e*oT[t]}(t,n),this.unit="px")}return t=e,r=[{key:"parse",value:function(t){var n,r=ZE(null!==(n=aT.exec(t))&&void 0!==n?n:[],3),i=r[1],a=r[2];return new e(parseFloat(i),null!==a&&void 0!==a?a:"")}}],(n=[{key:"add",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num+t.num,this.unit)}},{key:"subtract",value:function(t){return this.unit!==t.unit?new e(NaN,""):new e(this.num-t.num,this.unit)}},{key:"multiply",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num*t.num,this.unit||t.unit)}},{key:"divide",value:function(t){return""!==this.unit&&""!==t.unit&&this.unit!==t.unit?new e(NaN,""):new e(this.num/t.num,this.unit||t.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}])&&eT(t.prototype,n),r&&eT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();function uT(e){if(e.includes(lT))return lT;for(var t=e;t.includes("*")||t.includes("/");){var n,r=ZE(null!==(n=nT.exec(t))&&void 0!==n?n:[],4),i=r[1],a=r[2],o=r[3],s=cT.parse(null!==i&&void 0!==i?i:""),l=cT.parse(null!==o&&void 0!==o?o:""),c="*"===a?s.multiply(l):s.divide(l);if(c.isNaN())return lT;t=t.replace(nT,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,d=ZE(null!==(u=rT.exec(t))&&void 0!==u?u:[],4),h=d[1],f=d[2],p=d[3],m=cT.parse(null!==h&&void 0!==h?h:""),g=cT.parse(null!==p&&void 0!==p?p:""),y="+"===f?m.add(g):m.subtract(g);if(y.isNaN())return lT;t=t.replace(rT,y.toString())}return t}var dT=/\(([^()]*)\)/;function hT(e){var t=e.replace(/\s+/g,"");return t=function(e){for(var t=e;t.includes("(");){var n=ZE(dT.exec(t),2)[1];t=t.replace(dT,uT(n))}return t}(t),t=uT(t)}function fT(e){var t=function(e){try{return hT(e)}catch($$){return lT}}(e.slice(5,-1));return t===lT?"":t}var pT=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],mT=["dx","dy","angle","className","breakAll"];function gT(){return gT=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gT.apply(this,arguments)}function yT(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function vT(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return bT(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bT(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xT=/[ \f\n\r\t\v\u2028\u2029]+/,wT=function(e){var t=e.children,n=e.breakAll,r=e.style;try{var i=[];return zx()(t)||(i=n?t.toString().split(""):t.toString().split(xT)),{wordsWithComputedWidth:i.map((function(e){return{word:e,width:QE(e,r).width}})),spaceWidth:n?0:QE("\xa0",r).width}}catch($$){return null}},jT=function(e){return[{words:zx()(e)?[]:e.toString().split(xT)}]},ST=function(e){var t=e.width,n=e.scaleToFit,r=e.children,i=e.style,a=e.breakAll,o=e.maxLines;if((t||n)&&!fj.isSsr){var s=wT({breakAll:a,children:r,style:i});return s?function(e,t,n,r,i){var a=e.maxLines,o=e.children,s=e.style,l=e.breakAll,c=Ax(a),u=o,d=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).reduce((function(e,t){var a=t.word,o=t.width,s=e[e.length-1];if(s&&(null==r||i||s.width+o+n<Number(r)))s.words.push(a),s.width+=o+n;else{var l={words:[a],width:o};e.push(l)}return e}),[])},h=d(t);if(!c)return h;for(var f,p=function(e){var t=u.slice(0,e),n=wT({breakAll:l,style:s,children:t+"\u2026"}).wordsWithComputedWidth,i=d(n),o=i.length>a||function(e){return e.reduce((function(e,t){return e.width>t.width?e:t}))}(i).width>Number(r);return[o,i]},m=0,g=u.length-1,y=0;m<=g&&y<=u.length-1;){var v=Math.floor((m+g)/2),b=vT(p(v-1),2),x=b[0],w=b[1],j=vT(p(v),1)[0];if(x||j||(m=v+1),x&&j&&(g=v-1),!x&&j){f=w;break}y++}return f||h}({breakAll:a,children:r,maxLines:o,style:i},s.wordsWithComputedWidth,s.spaceWidth,t,n):jT(r)}return jT(r)},kT="#808080",ET=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,a=void 0===i?0:i,o=e.lineHeight,s=void 0===o?"1em":o,l=e.capHeight,c=void 0===l?"0.71em":l,u=e.scaleToFit,d=void 0!==u&&u,h=e.textAnchor,f=void 0===h?"start":h,p=e.verticalAnchor,m=void 0===p?"end":p,g=e.fill,y=void 0===g?kT:g,v=yT(e,pT),b=(0,r.useMemo)((function(){return ST({breakAll:v.breakAll,children:v.children,maxLines:v.maxLines,scaleToFit:d,style:v.style,width:v.width})}),[v.breakAll,v.children,v.maxLines,d,v.style,v.width]),x=v.dx,w=v.dy,j=v.angle,S=v.className,k=v.breakAll,E=yT(v,mT);if(!Ix(n)||!Ix(a))return null;var T,C=n+(Ax(x)?x:0),O=a+(Ax(w)?w:0);switch(m){case"start":T=fT("calc(".concat(c,")"));break;case"middle":T=fT("calc(".concat((b.length-1)/2," * -").concat(s," + (").concat(c," / 2))"));break;default:T=fT("calc(".concat(b.length-1," * -").concat(s,")"))}var _=[];if(d){var N=b[0].width,A=v.width;_.push("scale(".concat((Ax(A)?A/N:1)/N,")"))}return j&&_.push("rotate(".concat(j,", ").concat(C,", ").concat(O,")")),_.length&&(E.transform=_.join(" ")),r.createElement("text",gT({},mw(E,!0),{x:C,y:O,className:vx("recharts-text",S),textAnchor:f,fill:y.includes("url")?kT:y}),b.map((function(e,t){var n=e.words.join(k?"":" ");return r.createElement("tspan",{x:C,dy:0===t?T:s,key:"".concat(n,"-").concat(t)},n)})))};const TT=Math.sqrt(50),CT=Math.sqrt(10),OT=Math.sqrt(2);function _T(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=TT?10:a>=CT?5:a>=OT?2:1;let s,l,c;return i<0?(c=Math.pow(10,-i)/o,s=Math.round(e*c),l=Math.round(t*c),s/c<e&&++s,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,s=Math.round(e/c),l=Math.round(t/c),s*c<e&&++s,l*c>t&&--l),l<s&&.5<=n&&n<2?_T(e,t,2*n):[s,l,c]}function NT(e,t,n){if(!((n=+n)>0))return[];if((e=+e)===(t=+t))return[e];const r=t<e,[i,a,o]=r?_T(t,e,n):_T(e,t,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let c=0;c<s;++c)l[c]=(a-c)/-o;else for(let c=0;c<s;++c)l[c]=(a-c)*o;else if(o<0)for(let c=0;c<s;++c)l[c]=(i+c)/-o;else for(let c=0;c<s;++c)l[c]=(i+c)*o;return l}function AT(e,t,n){return _T(e=+e,t=+t,n=+n)[2]}function IT(e,t,n){n=+n;const r=(t=+t)<(e=+e),i=r?AT(t,e,n):AT(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function PT(e,t){return null==e||null==t?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function DT(e,t){return null==e||null==t?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function MT(e){let t,n,r;function i(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<0?i=t+1:a=t}while(i<a)}return i}return 2!==e.length?(t=PT,n=(t,n)=>PT(e(t),n),r=(t,n)=>e(t)-n):(t=e===PT||e===DT?e:RT,n=e,r=e),{left:i,center:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const a=i(e,t,n,(arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length)-1);return a>n&&r(e[a-1],t)>-r(e[a],t)?a-1:a},right:function(e,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length;if(i<a){if(0!==t(r,r))return a;do{const t=i+a>>>1;n(e[t],r)<=0?i=t+1:a=t}while(i<a)}return i}}}function RT(){return 0}function LT(e){return null===e?NaN:+e}const FT=MT(PT),UT=FT.right,BT=(FT.left,MT(LT).center,UT);function zT(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function VT(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function $T(){}var qT=.7,HT=1/qT,WT="\\s*([+-]?\\d+)\\s*",KT="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",GT="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",YT=/^#([0-9a-f]{3,8})$/,QT=new RegExp(`^rgb\\(${WT},${WT},${WT}\\)$`),XT=new RegExp(`^rgb\\(${GT},${GT},${GT}\\)$`),ZT=new RegExp(`^rgba\\(${WT},${WT},${WT},${KT}\\)$`),JT=new RegExp(`^rgba\\(${GT},${GT},${GT},${KT}\\)$`),eC=new RegExp(`^hsl\\(${KT},${GT},${GT}\\)$`),tC=new RegExp(`^hsla\\(${KT},${GT},${GT},${KT}\\)$`),nC={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function rC(){return this.rgb().formatHex()}function iC(){return this.rgb().formatRgb()}function aC(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=YT.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?oC(t):3===n?new cC(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?sC(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?sC(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=QT.exec(e))?new cC(t[1],t[2],t[3],1):(t=XT.exec(e))?new cC(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=ZT.exec(e))?sC(t[1],t[2],t[3],t[4]):(t=JT.exec(e))?sC(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=eC.exec(e))?mC(t[1],t[2]/100,t[3]/100,1):(t=tC.exec(e))?mC(t[1],t[2]/100,t[3]/100,t[4]):nC.hasOwnProperty(e)?oC(nC[e]):"transparent"===e?new cC(NaN,NaN,NaN,0):null}function oC(e){return new cC(e>>16&255,e>>8&255,255&e,1)}function sC(e,t,n,r){return r<=0&&(e=t=n=NaN),new cC(e,t,n,r)}function lC(e,t,n,r){return 1===arguments.length?((i=e)instanceof $T||(i=aC(i)),i?new cC((i=i.rgb()).r,i.g,i.b,i.opacity):new cC):new cC(e,t,n,null==r?1:r);var i}function cC(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function uC(){return`#${pC(this.r)}${pC(this.g)}${pC(this.b)}`}function dC(){const e=hC(this.opacity);return`${1===e?"rgb(":"rgba("}${fC(this.r)}, ${fC(this.g)}, ${fC(this.b)}${1===e?")":`, ${e})`}`}function hC(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function fC(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function pC(e){return((e=fC(e))<16?"0":"")+e.toString(16)}function mC(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yC(e,t,n,r)}function gC(e){if(e instanceof yC)return new yC(e.h,e.s,e.l,e.opacity);if(e instanceof $T||(e=aC(e)),!e)return new yC;if(e instanceof yC)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(o=t===a?(n-r)/s+6*(n<r):n===a?(r-t)/s+2:(t-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new yC(o,s,l,e.opacity)}function yC(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function vC(e){return(e=(e||0)%360)<0?e+360:e}function bC(e){return Math.max(0,Math.min(1,e||0))}function xC(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function wC(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}zT($T,aC,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rC,formatHex:rC,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return gC(this).formatHsl()},formatRgb:iC,toString:iC}),zT(cC,lC,VT($T,{brighter(e){return e=null==e?HT:Math.pow(HT,e),new cC(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?qT:Math.pow(qT,e),new cC(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new cC(fC(this.r),fC(this.g),fC(this.b),hC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:uC,formatHex:uC,formatHex8:function(){return`#${pC(this.r)}${pC(this.g)}${pC(this.b)}${pC(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:dC,toString:dC})),zT(yC,(function(e,t,n,r){return 1===arguments.length?gC(e):new yC(e,t,n,null==r?1:r)}),VT($T,{brighter(e){return e=null==e?HT:Math.pow(HT,e),new yC(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?qT:Math.pow(qT,e),new yC(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new cC(xC(e>=240?e-240:e+120,i,r),xC(e,i,r),xC(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new yC(vC(this.h),bC(this.s),bC(this.l),hC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=hC(this.opacity);return`${1===e?"hsl(":"hsla("}${vC(this.h)}, ${100*bC(this.s)}%, ${100*bC(this.l)}%${1===e?")":`, ${e})`}`}}));const jC=e=>()=>e;function SC(e,t){return function(n){return e+n*t}}function kC(e){return 1===(e=+e)?EC:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):jC(isNaN(t)?n:t)}}function EC(e,t){var n=t-e;return n?SC(e,n):jC(isNaN(e)?t:e)}const TC=function e(t){var n=kC(t);function r(e,t){var r=n((e=lC(e)).r,(t=lC(t)).r),i=n(e.g,t.g),a=n(e.b,t.b),o=EC(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=a(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function CC(e){return function(t){var n,r,i=t.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=lC(t[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=e(a),o=e(o),s=e(s),r.opacity=1,function(e){return r.r=a(e),r.g=o(e),r.b=s(e),r+""}}}CC((function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,s=r<t-1?e[r+2]:2*a-i;return wC((n-r/t)*t,o,i,a,s)}})),CC((function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],a=e[r%t],o=e[(r+1)%t],s=e[(r+2)%t];return wC((n-r/t)*t,i,a,o,s)}}));function OC(e,t){var n,r=t?t.length:0,i=e?Math.min(r,e.length):0,a=new Array(i),o=new Array(r);for(n=0;n<i;++n)a[n]=RC(e[n],t[n]);for(;n<r;++n)o[n]=t[n];return function(e){for(n=0;n<i;++n)o[n]=a[n](e);return o}}function _C(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function NC(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function AC(e,t){var n,r={},i={};for(n in null!==e&&"object"===typeof e||(e={}),null!==t&&"object"===typeof t||(t={}),t)n in e?r[n]=RC(e[n],t[n]):i[n]=t[n];return function(e){for(n in r)i[n]=r[n](e);return i}}var IC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,PC=new RegExp(IC.source,"g");function DC(e,t){var n,r,i,a=IC.lastIndex=PC.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=IC.exec(e))&&(r=PC.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:NC(n,r)})),a=PC.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}function MC(e,t){t||(t=[]);var n,r=e?Math.min(t.length,e.length):0,i=t.slice();return function(a){for(n=0;n<r;++n)i[n]=e[n]*(1-a)+t[n]*a;return i}}function RC(e,t){var n,r=typeof t;return null==t||"boolean"===r?jC(t):("number"===r?NC:"string"===r?(n=aC(t))?(t=n,TC):DC:t instanceof aC?TC:t instanceof Date?_C:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}(t)?MC:Array.isArray(t)?OC:"function"!==typeof t.valueOf&&"function"!==typeof t.toString||isNaN(t)?AC:NC)(e,t)}function LC(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function FC(e){return+e}var UC=[0,1];function BC(e){return e}function zC(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:function(e){return function(){return e}}(isNaN(t)?NaN:.5)}function VC(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=zC(i,r),a=n(o,a)):(r=zC(r,i),a=n(a,o)),function(e){return a(r(e))}}function $C(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=zC(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(t){var n=BT(e,t,1,r)-1;return a[n](i[n](t))}}function qC(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function HC(){var e,t,n,r,i,a,o=UC,s=UC,l=RC,c=BC;function u(){var e=Math.min(o.length,s.length);return c!==BC&&(c=function(e,t){var n;return e>t&&(n=e,e=t,t=n),function(n){return Math.max(e,Math.min(t,n))}}(o[0],o[e-1])),r=e>2?$C:VC,i=a=null,d}function d(t){return null==t||isNaN(t=+t)?n:(i||(i=r(o.map(e),s,l)))(e(c(t)))}return d.invert=function(n){return c(t((a||(a=r(s,o.map(e),NC)))(n)))},d.domain=function(e){return arguments.length?(o=Array.from(e,FC),u()):o.slice()},d.range=function(e){return arguments.length?(s=Array.from(e),u()):s.slice()},d.rangeRound=function(e){return s=Array.from(e),l=LC,u()},d.clamp=function(e){return arguments.length?(c=!!e||BC,u()):c!==BC},d.interpolate=function(e){return arguments.length?(l=e,u()):l},d.unknown=function(e){return arguments.length?(n=e,d):n},function(n,r){return e=n,t=r,u()}}function WC(){return HC()(BC,BC)}var KC,GC=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function YC(e){if(!(t=GC.exec(e)))throw new Error("invalid format: "+e);var t;return new QC({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}function QC(e){this.fill=void 0===e.fill?" ":e.fill+"",this.align=void 0===e.align?">":e.align+"",this.sign=void 0===e.sign?"-":e.sign+"",this.symbol=void 0===e.symbol?"":e.symbol+"",this.zero=!!e.zero,this.width=void 0===e.width?void 0:+e.width,this.comma=!!e.comma,this.precision=void 0===e.precision?void 0:+e.precision,this.trim=!!e.trim,this.type=void 0===e.type?"":e.type+""}function XC(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ZC(e){return(e=XC(Math.abs(e)))?e[1]:NaN}function JC(e,t){var n=XC(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}YC.prototype=QC.prototype,QC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const eO={"%":(e,t)=>(100*e).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:function(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)},e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>JC(100*e,t),r:JC,s:function(e,t){var n=XC(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(KC=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+XC(e,Math.max(0,t+a-1))[0]},X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function tO(e){return e}var nO,rO,iO,aO=Array.prototype.map,oO=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"];function sO(e){var t,n,r=void 0===e.grouping||void 0===e.thousands?tO:(t=aO.call(e.grouping,Number),n=e.thousands+"",function(e,r){for(var i=e.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(n)}),i=void 0===e.currency?"":e.currency[0]+"",a=void 0===e.currency?"":e.currency[1]+"",o=void 0===e.decimal?".":e.decimal+"",s=void 0===e.numerals?tO:function(e){return function(t){return t.replace(/[0-9]/g,(function(t){return e[+t]}))}}(aO.call(e.numerals,String)),l=void 0===e.percent?"%":e.percent+"",c=void 0===e.minus?"\u2212":e.minus+"",u=void 0===e.nan?"NaN":e.nan+"";function d(e){var t=(e=YC(e)).fill,n=e.align,d=e.sign,h=e.symbol,f=e.zero,p=e.width,m=e.comma,g=e.precision,y=e.trim,v=e.type;"n"===v?(m=!0,v="g"):eO[v]||(void 0===g&&(g=12),y=!0,v="g"),(f||"0"===t&&"="===n)&&(f=!0,t="0",n="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",x="$"===h?a:/[%p]/.test(v)?l:"",w=eO[v],j=/[defgprs%]/.test(v);function S(e){var i,a,l,h=b,S=x;if("c"===v)S=w(e)+S,e="";else{var k=(e=+e)<0||1/e<0;if(e=isNaN(e)?u:w(Math.abs(e),g),y&&(e=function(e){e:for(var t,n=e.length,r=1,i=-1;r<n;++r)switch(e[r]){case".":i=t=r;break;case"0":0===i&&(i=r),t=r;break;default:if(!+e[r])break e;i>0&&(i=0)}return i>0?e.slice(0,i)+e.slice(t+1):e}(e)),k&&0===+e&&"+"!==d&&(k=!1),h=(k?"("===d?d:c:"-"===d||"("===d?"":d)+h,S=("s"===v?oO[8+KC/3]:"")+S+(k&&"("===d?")":""),j)for(i=-1,a=e.length;++i<a;)if(48>(l=e.charCodeAt(i))||l>57){S=(46===l?o+e.slice(i+1):e.slice(i))+S,e=e.slice(0,i);break}}m&&!f&&(e=r(e,1/0));var E=h.length+e.length+S.length,T=E<p?new Array(p-E+1).join(t):"";switch(m&&f&&(e=r(T+e,T.length?p-S.length:1/0),T=""),n){case"<":e=h+e+S+T;break;case"=":e=h+T+e+S;break;case"^":e=T.slice(0,E=T.length>>1)+h+e+S+T.slice(E);break;default:e=T+h+e+S}return s(e)}return g=void 0===g?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),S.toString=function(){return e+""},S}return{format:d,formatPrefix:function(e,t){var n=d(((e=YC(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(ZC(t)/3))),i=Math.pow(10,-r),a=oO[8+r/3];return function(e){return n(i*e)+a}}}}function lO(e,t,n,r){var i,a=IT(e,t,n);switch((r=YC(null==r?",f":r)).type){case"s":var o=Math.max(Math.abs(e),Math.abs(t));return null!=r.precision||isNaN(i=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(ZC(t)/3)))-ZC(Math.abs(e)))}(a,o))||(r.precision=i),iO(r,o);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ZC(t)-ZC(e))+1}(a,Math.max(Math.abs(e),Math.abs(t))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(e){return Math.max(0,-ZC(Math.abs(e)))}(a))||(r.precision=i-2*("%"===r.type))}return rO(r)}function cO(e){var t=e.domain;return e.ticks=function(e){var n=t();return NT(n[0],n[n.length-1],null==e?10:e)},e.tickFormat=function(e,n){var r=t();return lO(r[0],r[r.length-1],null==e?10:e,n)},e.nice=function(n){null==n&&(n=10);var r,i,a=t(),o=0,s=a.length-1,l=a[o],c=a[s],u=10;for(c<l&&(i=l,l=c,c=i,i=o,o=s,s=i);u-- >0;){if((i=AT(l,c,n))===r)return a[o]=l,a[s]=c,t(a);if(i>0)l=Math.floor(l/i)*i,c=Math.ceil(c/i)*i;else{if(!(i<0))break;l=Math.ceil(l*i)/i,c=Math.floor(c*i)/i}r=i}return e},e}function uO(){var e=WC();return e.copy=function(){return qC(e,uO())},AE.apply(e,arguments),cO(e)}function dO(e){var t;function n(e){return null==e||isNaN(e=+e)?t:e}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=Array.from(t,FC),n):e.slice()},n.unknown=function(e){return arguments.length?(t=e,n):t},n.copy=function(){return dO(e).unknown(t)},e=arguments.length?Array.from(e,FC):[0,1],cO(n)}function hO(e,t){var n,r=0,i=(e=e.slice()).length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function fO(e){return Math.log(e)}function pO(e){return Math.exp(e)}function mO(e){return-Math.log(-e)}function gO(e){return-Math.exp(-e)}function yO(e){return isFinite(e)?+("1e"+e):e<0?0:e}function vO(e){return(t,n)=>-e(-t,n)}function bO(e){const t=e(fO,pO),n=t.domain;let r,i,a=10;function o(){return r=function(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}(a),i=function(e){return 10===e?yO:e===Math.E?Math.exp:t=>Math.pow(e,t)}(a),n()[0]<0?(r=vO(r),i=vO(i),e(mO,gO)):e(fO,pO),t}return t.base=function(e){return arguments.length?(a=+e,o()):a},t.domain=function(e){return arguments.length?(n(e),o()):n()},t.ticks=e=>{const t=n();let o=t[0],s=t[t.length-1];const l=s<o;l&&([o,s]=[s,o]);let c,u,d=r(o),h=r(s);const f=null==e?10:+e;let p=[];if(!(a%1)&&h-d<f){if(d=Math.floor(d),h=Math.ceil(h),o>0){for(;d<=h;++d)for(c=1;c<a;++c)if(u=d<0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}}else for(;d<=h;++d)for(c=a-1;c>=1;--c)if(u=d>0?c/i(-d):c*i(d),!(u<o)){if(u>s)break;p.push(u)}2*p.length<f&&(p=NT(o,s,f))}else p=NT(d,h,Math.min(h-d,f)).map(i);return l?p.reverse():p},t.tickFormat=(e,n)=>{if(null==e&&(e=10),null==n&&(n=10===a?"s":","),"function"!==typeof n&&(a%1||null!=(n=YC(n)).precision||(n.trim=!0),n=rO(n)),e===1/0)return n;const o=Math.max(1,a*e/t.ticks().length);return e=>{let t=e/i(Math.round(r(e)));return t*a<a-.5&&(t*=a),t<=o?n(e):""}},t.nice=()=>n(hO(n(),{floor:e=>i(Math.floor(r(e))),ceil:e=>i(Math.ceil(r(e)))})),t}function xO(){const e=bO(HC()).domain([1,10]);return e.copy=()=>qC(e,xO()).base(e.base()),AE.apply(e,arguments),e}function wO(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jO(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function SO(e){var t=1,n=e(wO(t),jO(t));return n.constant=function(n){return arguments.length?e(wO(t=+n),jO(t)):t},cO(n)}function kO(){var e=SO(HC());return e.copy=function(){return qC(e,kO()).constant(e.constant())},AE.apply(e,arguments)}function EO(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function TO(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function CO(e){return e<0?-e*e:e*e}function OO(e){var t=e(BC,BC),n=1;return t.exponent=function(t){return arguments.length?1===(n=+t)?e(BC,BC):.5===n?e(TO,CO):e(EO(n),EO(1/n)):n},cO(t)}function _O(){var e=OO(HC());return e.copy=function(){return qC(e,_O()).exponent(e.exponent())},AE.apply(e,arguments),e}function NO(){return _O.apply(null,arguments).exponent(.5)}function AO(e){return Math.sign(e)*e*e}function IO(){var e,t=WC(),n=[0,1],r=!1;function i(n){var i=function(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}(t(n));return isNaN(i)?e:r?Math.round(i):i}return i.invert=function(e){return t.invert(AO(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain()},i.range=function(e){return arguments.length?(t.range((n=Array.from(e,FC)).map(AO)),i):n.slice()},i.rangeRound=function(e){return i.range(e).round(!0)},i.round=function(e){return arguments.length?(r=!!e,i):r},i.clamp=function(e){return arguments.length?(t.clamp(e),i):t.clamp()},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return IO(t.domain(),n).round(r).clamp(t.clamp()).unknown(e)},AE.apply(i,arguments),cO(i)}function PO(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n<r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n<i||void 0===n&&i>=i)&&(n=i)}return n}function DO(e,t){let n;if(void 0===t)for(const r of e)null!=r&&(n>r||void 0===n&&r>=r)&&(n=r);else{let r=-1;for(let i of e)null!=(i=t(i,++r,e))&&(n>i||void 0===n&&i>=i)&&(n=i)}return n}function MO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:PT;if(e===PT)return RO;if("function"!==typeof e)throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||0===r?r:(0===e(n,n))-(0===e(t,t))}}function RO(e,t){return(null==e||!(e>=e))-(null==t||!(t>=t))||(e<t?-1:e>t?1:0)}function LO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0,i=arguments.length>4?arguments[4]:void 0;if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=void 0===i?RO:MO(i);r>n;){if(r-n>600){const a=r-n+1,o=t-n+1,s=Math.log(a),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(a-l)/a)*(o-a/2<0?-1:1);LO(e,t,Math.max(n,Math.floor(t-o*l/a+c)),Math.min(r,Math.floor(t+(a-o)*l/a+c)),i)}const a=e[t];let o=n,s=r;for(FO(e,n,t),i(e[r],a)>0&&FO(e,n,r);o<s;){for(FO(e,o,s),++o,--s;i(e[o],a)<0;)++o;for(;i(e[s],a)>0;)--s}0===i(e[n],a)?FO(e,n,s):(++s,FO(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}return e}function FO(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function UO(e,t,n){if(e=Float64Array.from(function*(e,t){if(void 0===t)for(let n of e)null!=n&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)null!=(r=t(r,++n,e))&&(r=+r)>=r&&(yield r)}}(e,n)),(r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return DO(e);if(t>=1)return PO(e);var r,i=(r-1)*t,a=Math.floor(i),o=PO(LO(e,a).subarray(0,a+1));return o+(DO(e.subarray(a+1))-o)*(i-a)}}function BO(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LT;if((r=e.length)&&!isNaN(t=+t)){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e);return o+(+n(e[a+1],a+1,e)-o)*(i-a)}}function zO(){var e,t=[],n=[],r=[];function i(){var e=0,i=Math.max(1,n.length);for(r=new Array(i-1);++e<i;)r[e-1]=BO(t,e/i);return a}function a(t){return null==t||isNaN(t=+t)?e:n[BT(r,t)]}return a.invertExtent=function(e){var i=n.indexOf(e);return i<0?[NaN,NaN]:[i>0?r[i-1]:t[0],i<r.length?r[i]:t[t.length-1]]},a.domain=function(e){if(!arguments.length)return t.slice();t=[];for(let n of e)null==n||isNaN(n=+n)||t.push(n);return t.sort(PT),i()},a.range=function(e){return arguments.length?(n=Array.from(e),i()):n.slice()},a.unknown=function(t){return arguments.length?(e=t,a):e},a.quantiles=function(){return r.slice()},a.copy=function(){return zO().domain(t).range(n).unknown(e)},AE.apply(a,arguments)}function VO(){var e,t=0,n=1,r=1,i=[.5],a=[0,1];function o(t){return null!=t&&t<=t?a[BT(i,t,0,r)]:e}function s(){var e=-1;for(i=new Array(r);++e<r;)i[e]=((e+1)*n-(e-r)*t)/(r+1);return o}return o.domain=function(e){return arguments.length?([t,n]=e,t=+t,n=+n,s()):[t,n]},o.range=function(e){return arguments.length?(r=(a=Array.from(e)).length-1,s()):a.slice()},o.invertExtent=function(e){var o=a.indexOf(e);return o<0?[NaN,NaN]:o<1?[t,i[0]]:o>=r?[i[r-1],n]:[i[o-1],i[o]]},o.unknown=function(t){return arguments.length?(e=t,o):o},o.thresholds=function(){return i.slice()},o.copy=function(){return VO().domain([t,n]).range(a).unknown(e)},AE.apply(cO(o),arguments)}function $O(){var e,t=[.5],n=[0,1],r=1;function i(i){return null!=i&&i<=i?n[BT(t,i,0,r)]:e}return i.domain=function(e){return arguments.length?(t=Array.from(e),r=Math.min(t.length,n.length-1),i):t.slice()},i.range=function(e){return arguments.length?(n=Array.from(e),r=Math.min(t.length,n.length-1),i):n.slice()},i.invertExtent=function(e){var r=n.indexOf(e);return[t[r-1],t[r]]},i.unknown=function(t){return arguments.length?(e=t,i):e},i.copy=function(){return $O().domain(t).range(n).unknown(e)},AE.apply(i,arguments)}nO=sO({thousands:",",grouping:[3],currency:["$",""]}),rO=nO.format,iO=nO.formatPrefix;const qO=1e3,HO=6e4,WO=36e5,KO=864e5,GO=6048e5,YO=2592e6,QO=31536e6,XO=new Date,ZO=new Date;function JO(e,t,n,r){function i(t){return e(t=0===arguments.length?new Date:new Date(+t)),t}return i.floor=t=>(e(t=new Date(+t)),t),i.ceil=n=>(e(n=new Date(n-1)),t(n,1),e(n),n),i.round=e=>{const t=i(e),n=i.ceil(e);return e-t<n-e?t:n},i.offset=(e,n)=>(t(e=new Date(+e),null==n?1:Math.floor(n)),e),i.range=(n,r,a)=>{const o=[];if(n=i.ceil(n),a=null==a?1:Math.floor(a),!(n<r)||!(a>0))return o;let s;do{o.push(s=new Date(+n)),t(n,a),e(n)}while(s<n&&n<r);return o},i.filter=n=>JO((t=>{if(t>=t)for(;e(t),!n(t);)t.setTime(t-1)}),((e,r)=>{if(e>=e)if(r<0)for(;++r<=0;)for(;t(e,-1),!n(e););else for(;--r>=0;)for(;t(e,1),!n(e););})),n&&(i.count=(t,r)=>(XO.setTime(+t),ZO.setTime(+r),e(XO),e(ZO),Math.floor(n(XO,ZO))),i.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?i.filter(r?t=>r(t)%e===0:t=>i.count(0,t)%e===0):i:null)),i}const e_=JO((()=>{}),((e,t)=>{e.setTime(+e+t)}),((e,t)=>t-e));e_.every=e=>(e=Math.floor(e),isFinite(e)&&e>0?e>1?JO((t=>{t.setTime(Math.floor(t/e)*e)}),((t,n)=>{t.setTime(+t+n*e)}),((t,n)=>(n-t)/e)):e_:null);e_.range;const t_=JO((e=>{e.setTime(e-e.getMilliseconds())}),((e,t)=>{e.setTime(+e+t*qO)}),((e,t)=>(t-e)/qO),(e=>e.getUTCSeconds())),n_=(t_.range,JO((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qO)}),((e,t)=>{e.setTime(+e+t*HO)}),((e,t)=>(t-e)/HO),(e=>e.getMinutes()))),r_=(n_.range,JO((e=>{e.setUTCSeconds(0,0)}),((e,t)=>{e.setTime(+e+t*HO)}),((e,t)=>(t-e)/HO),(e=>e.getUTCMinutes()))),i_=(r_.range,JO((e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*qO-e.getMinutes()*HO)}),((e,t)=>{e.setTime(+e+t*WO)}),((e,t)=>(t-e)/WO),(e=>e.getHours()))),a_=(i_.range,JO((e=>{e.setUTCMinutes(0,0,0)}),((e,t)=>{e.setTime(+e+t*WO)}),((e,t)=>(t-e)/WO),(e=>e.getUTCHours()))),o_=(a_.range,JO((e=>e.setHours(0,0,0,0)),((e,t)=>e.setDate(e.getDate()+t)),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*HO)/KO),(e=>e.getDate()-1))),s_=(o_.range,JO((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/KO),(e=>e.getUTCDate()-1))),l_=(s_.range,JO((e=>{e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+t)}),((e,t)=>(t-e)/KO),(e=>Math.floor(e/KO))));l_.range;function c_(e){return JO((t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)}),((e,t)=>{e.setDate(e.getDate()+7*t)}),((e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*HO)/GO))}const u_=c_(0),d_=c_(1),h_=c_(2),f_=c_(3),p_=c_(4),m_=c_(5),g_=c_(6);u_.range,d_.range,h_.range,f_.range,p_.range,m_.range,g_.range;function y_(e){return JO((t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCDate(e.getUTCDate()+7*t)}),((e,t)=>(t-e)/GO))}const v_=y_(0),b_=y_(1),x_=y_(2),w_=y_(3),j_=y_(4),S_=y_(5),k_=y_(6),E_=(v_.range,b_.range,x_.range,w_.range,j_.range,S_.range,k_.range,JO((e=>{e.setDate(1),e.setHours(0,0,0,0)}),((e,t)=>{e.setMonth(e.getMonth()+t)}),((e,t)=>t.getMonth()-e.getMonth()+12*(t.getFullYear()-e.getFullYear())),(e=>e.getMonth()))),T_=(E_.range,JO((e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)}),((e,t)=>t.getUTCMonth()-e.getUTCMonth()+12*(t.getUTCFullYear()-e.getUTCFullYear())),(e=>e.getUTCMonth()))),C_=(T_.range,JO((e=>{e.setMonth(0,1),e.setHours(0,0,0,0)}),((e,t)=>{e.setFullYear(e.getFullYear()+t)}),((e,t)=>t.getFullYear()-e.getFullYear()),(e=>e.getFullYear())));C_.every=e=>isFinite(e=Math.floor(e))&&e>0?JO((t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)}),((t,n)=>{t.setFullYear(t.getFullYear()+n*e)})):null;C_.range;const O_=JO((e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),((e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)}),((e,t)=>t.getUTCFullYear()-e.getUTCFullYear()),(e=>e.getUTCFullYear()));O_.every=e=>isFinite(e=Math.floor(e))&&e>0?JO((t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),((t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)})):null;O_.range;function __(e,t,n,r,i,a){const o=[[t_,1,qO],[t_,5,5e3],[t_,15,15e3],[t_,30,3e4],[a,1,HO],[a,5,3e5],[a,15,9e5],[a,30,18e5],[i,1,WO],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,KO],[r,2,1728e5],[n,1,GO],[t,1,YO],[t,3,7776e6],[e,1,QO]];function s(t,n,r){const i=Math.abs(n-t)/r,a=MT((e=>{let[,,t]=e;return t})).right(o,i);if(a===o.length)return e.every(IT(t/QO,n/QO,r));if(0===a)return e_.every(Math.max(IT(t,n,r),1));const[s,l]=o[i/o[a-1][2]<o[a][2]/i?a-1:a];return s.every(l)}return[function(e,t,n){const r=t<e;r&&([e,t]=[t,e]);const i=n&&"function"===typeof n.range?n:s(e,t,n),a=i?i.range(e,+t+1):[];return r?a.reverse():a},s]}const[N_,A_]=__(O_,T_,v_,l_,a_,r_),[I_,P_]=__(C_,E_,u_,o_,i_,n_);function D_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function M_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function R_(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}var L_,F_,U_,B_={"-":"",_:" ",0:"0"},z_=/^\s*\d+/,V_=/^%/,$_=/[\\^$*+?|[\]().{}]/g;function q_(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function H_(e){return e.replace($_,"\\$&")}function W_(e){return new RegExp("^(?:"+e.map(H_).join("|")+")","i")}function K_(e){return new Map(e.map(((e,t)=>[e.toLowerCase(),t])))}function G_(e,t,n){var r=z_.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Y_(e,t,n){var r=z_.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Q_(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function X_(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Z_(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function J_(e,t,n){var r=z_.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function eN(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function tN(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function nN(e,t,n){var r=z_.exec(t.slice(n,n+1));return r?(e.q=3*r[0]-3,n+r[0].length):-1}function rN(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function iN(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function aN(e,t,n){var r=z_.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function oN(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function sN(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function lN(e,t,n){var r=z_.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cN(e,t,n){var r=z_.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function uN(e,t,n){var r=z_.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function dN(e,t,n){var r=V_.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function hN(e,t,n){var r=z_.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function fN(e,t,n){var r=z_.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function pN(e,t){return q_(e.getDate(),t,2)}function mN(e,t){return q_(e.getHours(),t,2)}function gN(e,t){return q_(e.getHours()%12||12,t,2)}function yN(e,t){return q_(1+o_.count(C_(e),e),t,3)}function vN(e,t){return q_(e.getMilliseconds(),t,3)}function bN(e,t){return vN(e,t)+"000"}function xN(e,t){return q_(e.getMonth()+1,t,2)}function wN(e,t){return q_(e.getMinutes(),t,2)}function jN(e,t){return q_(e.getSeconds(),t,2)}function SN(e){var t=e.getDay();return 0===t?7:t}function kN(e,t){return q_(u_.count(C_(e)-1,e),t,2)}function EN(e){var t=e.getDay();return t>=4||0===t?p_(e):p_.ceil(e)}function TN(e,t){return e=EN(e),q_(p_.count(C_(e),e)+(4===C_(e).getDay()),t,2)}function CN(e){return e.getDay()}function ON(e,t){return q_(d_.count(C_(e)-1,e),t,2)}function _N(e,t){return q_(e.getFullYear()%100,t,2)}function NN(e,t){return q_((e=EN(e)).getFullYear()%100,t,2)}function AN(e,t){return q_(e.getFullYear()%1e4,t,4)}function IN(e,t){var n=e.getDay();return q_((e=n>=4||0===n?p_(e):p_.ceil(e)).getFullYear()%1e4,t,4)}function PN(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+q_(t/60|0,"0",2)+q_(t%60,"0",2)}function DN(e,t){return q_(e.getUTCDate(),t,2)}function MN(e,t){return q_(e.getUTCHours(),t,2)}function RN(e,t){return q_(e.getUTCHours()%12||12,t,2)}function LN(e,t){return q_(1+s_.count(O_(e),e),t,3)}function FN(e,t){return q_(e.getUTCMilliseconds(),t,3)}function UN(e,t){return FN(e,t)+"000"}function BN(e,t){return q_(e.getUTCMonth()+1,t,2)}function zN(e,t){return q_(e.getUTCMinutes(),t,2)}function VN(e,t){return q_(e.getUTCSeconds(),t,2)}function $N(e){var t=e.getUTCDay();return 0===t?7:t}function qN(e,t){return q_(v_.count(O_(e)-1,e),t,2)}function HN(e){var t=e.getUTCDay();return t>=4||0===t?j_(e):j_.ceil(e)}function WN(e,t){return e=HN(e),q_(j_.count(O_(e),e)+(4===O_(e).getUTCDay()),t,2)}function KN(e){return e.getUTCDay()}function GN(e,t){return q_(b_.count(O_(e)-1,e),t,2)}function YN(e,t){return q_(e.getUTCFullYear()%100,t,2)}function QN(e,t){return q_((e=HN(e)).getUTCFullYear()%100,t,2)}function XN(e,t){return q_(e.getUTCFullYear()%1e4,t,4)}function ZN(e,t){var n=e.getUTCDay();return q_((e=n>=4||0===n?j_(e):j_.ceil(e)).getUTCFullYear()%1e4,t,4)}function JN(){return"+0000"}function eA(){return"%"}function tA(e){return+e}function nA(e){return Math.floor(+e/1e3)}function rA(e){return new Date(e)}function iA(e){return e instanceof Date?+e:+new Date(+e)}function aA(e,t,n,r,i,a,o,s,l,c){var u=WC(),d=u.invert,h=u.domain,f=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),v=c("%b %d"),b=c("%B"),x=c("%Y");function w(e){return(l(e)<e?f:s(e)<e?p:o(e)<e?m:a(e)<e?g:r(e)<e?i(e)<e?y:v:n(e)<e?b:x)(e)}return u.invert=function(e){return new Date(d(e))},u.domain=function(e){return arguments.length?h(Array.from(e,iA)):h().map(rA)},u.ticks=function(t){var n=h();return e(n[0],n[n.length-1],null==t?10:t)},u.tickFormat=function(e,t){return null==t?w:c(t)},u.nice=function(e){var n=h();return e&&"function"===typeof e.range||(e=t(n[0],n[n.length-1],null==e?10:e)),e?h(hO(n,e)):u},u.copy=function(){return qC(u,aA(e,t,n,r,i,a,o,s,l,c))},u}function oA(){return AE.apply(aA(I_,P_,C_,E_,u_,o_,i_,n_,t_,F_).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function sA(){return AE.apply(aA(N_,A_,O_,T_,v_,s_,a_,r_,t_,U_).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function lA(){var e,t,n,r,i,a=0,o=1,s=BC,l=!1;function c(t){return null==t||isNaN(t=+t)?i:s(0===n?.5:(t=(r(t)-e)*n,l?Math.max(0,Math.min(1,t)):t))}function u(e){return function(t){var n,r;return arguments.length?([n,r]=t,s=e(n,r),c):[s(0),s(1)]}}return c.domain=function(i){return arguments.length?([a,o]=i,e=r(a=+a),t=r(o=+o),n=e===t?0:1/(t-e),c):[a,o]},c.clamp=function(e){return arguments.length?(l=!!e,c):l},c.interpolator=function(e){return arguments.length?(s=e,c):s},c.range=u(RC),c.rangeRound=u(LC),c.unknown=function(e){return arguments.length?(i=e,c):i},function(i){return r=i,e=i(a),t=i(o),n=e===t?0:1/(t-e),c}}function cA(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function uA(){var e=cO(lA()(BC));return e.copy=function(){return cA(e,uA())},IE.apply(e,arguments)}function dA(){var e=bO(lA()).domain([1,10]);return e.copy=function(){return cA(e,dA()).base(e.base())},IE.apply(e,arguments)}function hA(){var e=SO(lA());return e.copy=function(){return cA(e,hA()).constant(e.constant())},IE.apply(e,arguments)}function fA(){var e=OO(lA());return e.copy=function(){return cA(e,fA()).exponent(e.exponent())},IE.apply(e,arguments)}function pA(){return fA.apply(null,arguments).exponent(.5)}function mA(){var e=[],t=BC;function n(n){if(null!=n&&!isNaN(n=+n))return t((BT(e,n,1)-1)/(e.length-1))}return n.domain=function(t){if(!arguments.length)return e.slice();e=[];for(let n of t)null==n||isNaN(n=+n)||e.push(n);return e.sort(PT),n},n.interpolator=function(e){return arguments.length?(t=e,n):t},n.range=function(){return e.map(((n,r)=>t(r/(e.length-1))))},n.quantiles=function(t){return Array.from({length:t+1},((n,r)=>UO(e,r/t)))},n.copy=function(){return mA(t).domain(e)},IE.apply(n,arguments)}function gA(){var e,t,n,r,i,a,o,s=0,l=.5,c=1,u=1,d=BC,h=!1;function f(e){return isNaN(e=+e)?o:(e=.5+((e=+a(e))-t)*(u*e<u*t?r:i),d(h?Math.max(0,Math.min(1,e)):e))}function p(e){return function(t){var n,r,i;return arguments.length?([n,r,i]=t,d=function(e,t){void 0===t&&(t=e,e=RC);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(e){var t=Math.max(0,Math.min(r-1,Math.floor(e*=r)));return a[t](e-t)}}(e,[n,r,i]),f):[d(0),d(.5),d(1)]}}return f.domain=function(o){return arguments.length?([s,l,c]=o,e=a(s=+s),t=a(l=+l),n=a(c=+c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f):[s,l,c]},f.clamp=function(e){return arguments.length?(h=!!e,f):h},f.interpolator=function(e){return arguments.length?(d=e,f):d},f.range=p(RC),f.rangeRound=p(LC),f.unknown=function(e){return arguments.length?(o=e,f):o},function(o){return a=o,e=o(s),t=o(l),n=o(c),r=e===t?0:.5/(t-e),i=t===n?0:.5/(n-t),u=t<e?-1:1,f}}function yA(){var e=cO(gA()(BC));return e.copy=function(){return cA(e,yA())},IE.apply(e,arguments)}function vA(){var e=bO(gA()).domain([.1,1,10]);return e.copy=function(){return cA(e,vA()).base(e.base())},IE.apply(e,arguments)}function bA(){var e=SO(gA());return e.copy=function(){return cA(e,bA()).constant(e.constant())},IE.apply(e,arguments)}function xA(){var e=OO(gA());return e.copy=function(){return cA(e,xA()).exponent(e.exponent())},IE.apply(e,arguments)}function wA(){return xA.apply(null,arguments).exponent(.5)}function jA(e,t){if((i=e.length)>1)for(var n,r,i,a=1,o=e[t[0]],s=o.length;a<i;++a)for(r=o,o=e[t[a]],n=0;n<s;++n)o[n][1]+=o[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}!function(e){L_=function(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,s=e.months,l=e.shortMonths,c=W_(i),u=K_(i),d=W_(a),h=K_(a),f=W_(o),p=K_(o),m=W_(s),g=K_(s),y=W_(l),v=K_(l),b={a:function(e){return o[e.getDay()]},A:function(e){return a[e.getDay()]},b:function(e){return l[e.getMonth()]},B:function(e){return s[e.getMonth()]},c:null,d:pN,e:pN,f:bN,g:NN,G:IN,H:mN,I:gN,j:yN,L:vN,m:xN,M:wN,p:function(e){return i[+(e.getHours()>=12)]},q:function(e){return 1+~~(e.getMonth()/3)},Q:tA,s:nA,S:jN,u:SN,U:kN,V:TN,w:CN,W:ON,x:null,X:null,y:_N,Y:AN,Z:PN,"%":eA},x={a:function(e){return o[e.getUTCDay()]},A:function(e){return a[e.getUTCDay()]},b:function(e){return l[e.getUTCMonth()]},B:function(e){return s[e.getUTCMonth()]},c:null,d:DN,e:DN,f:UN,g:QN,G:ZN,H:MN,I:RN,j:LN,L:FN,m:BN,M:zN,p:function(e){return i[+(e.getUTCHours()>=12)]},q:function(e){return 1+~~(e.getUTCMonth()/3)},Q:tA,s:nA,S:VN,u:$N,U:qN,V:WN,w:KN,W:GN,x:null,X:null,y:YN,Y:XN,Z:JN,"%":eA},w={a:function(e,t,n){var r=f.exec(t.slice(n));return r?(e.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){var r=d.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){var r=y.exec(t.slice(n));return r?(e.m=v.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){var r=m.exec(t.slice(n));return r?(e.m=g.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,n,r){return k(e,t,n,r)},d:iN,e:iN,f:uN,g:eN,G:J_,H:oN,I:oN,j:aN,L:cN,m:rN,M:sN,p:function(e,t,n){var r=c.exec(t.slice(n));return r?(e.p=u.get(r[0].toLowerCase()),n+r[0].length):-1},q:nN,Q:hN,s:fN,S:lN,u:Y_,U:Q_,V:X_,w:G_,W:Z_,x:function(e,t,r){return k(e,n,t,r)},X:function(e,t,n){return k(e,r,t,n)},y:eN,Y:J_,Z:tN,"%":dN};function j(e,t){return function(n){var r,i,a,o=[],s=-1,l=0,c=e.length;for(n instanceof Date||(n=new Date(+n));++s<c;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=B_[r=e.charAt(++s)])?r=e.charAt(++s):i="e"===r?" ":"0",(a=t[r])&&(r=a(n,i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}}function S(e,t){return function(n){var r,i,a=R_(1900,void 0,1);if(k(a,e,n+="",0)!=n.length)return null;if("Q"in a)return new Date(a.Q);if("s"in a)return new Date(1e3*a.s+("L"in a?a.L:0));if(t&&!("Z"in a)&&(a.Z=0),"p"in a&&(a.H=a.H%12+12*a.p),void 0===a.m&&(a.m="q"in a?a.q:0),"V"in a){if(a.V<1||a.V>53)return null;"w"in a||(a.w=1),"Z"in a?(i=(r=M_(R_(a.y,0,1))).getUTCDay(),r=i>4||0===i?b_.ceil(r):b_(r),r=s_.offset(r,7*(a.V-1)),a.y=r.getUTCFullYear(),a.m=r.getUTCMonth(),a.d=r.getUTCDate()+(a.w+6)%7):(i=(r=D_(R_(a.y,0,1))).getDay(),r=i>4||0===i?d_.ceil(r):d_(r),r=o_.offset(r,7*(a.V-1)),a.y=r.getFullYear(),a.m=r.getMonth(),a.d=r.getDate()+(a.w+6)%7)}else("W"in a||"U"in a)&&("w"in a||(a.w="u"in a?a.u%7:"W"in a?1:0),i="Z"in a?M_(R_(a.y,0,1)).getUTCDay():D_(R_(a.y,0,1)).getDay(),a.m=0,a.d="W"in a?(a.w+6)%7+7*a.W-(i+5)%7:a.w+7*a.U-(i+6)%7);return"Z"in a?(a.H+=a.Z/100|0,a.M+=a.Z%100,M_(a)):D_(a)}}function k(e,t,n,r){for(var i,a,o=0,s=t.length,l=n.length;o<s;){if(r>=l)return-1;if(37===(i=t.charCodeAt(o++))){if(i=t.charAt(o++),!(a=w[i in B_?t.charAt(o++):i])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return b.x=j(n,b),b.X=j(r,b),b.c=j(t,b),x.x=j(n,x),x.X=j(r,x),x.c=j(t,x),{format:function(e){var t=j(e+="",b);return t.toString=function(){return e},t},parse:function(e){var t=S(e+="",!1);return t.toString=function(){return e},t},utcFormat:function(e){var t=j(e+="",x);return t.toString=function(){return e},t},utcParse:function(e){var t=S(e+="",!0);return t.toString=function(){return e},t}}}(e),F_=L_.format,L_.parse,U_=L_.utcFormat,L_.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Array.prototype.slice;function SA(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function kA(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function EA(e,t){return e[t]}function TA(e){const t=[];return t.key=e,t}var CA=n(539),OA=n.n(CA),_A=n(6745),NA=n.n(_A),AA=n(3538),IA=n.n(AA),PA=n(9853),DA=n.n(PA),MA=n(8210),RA=n.n(MA);function LA(e){return function(e){if(Array.isArray(e))return FA(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return FA(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FA(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function FA(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var UA=function(e){return e},BA={"@@functional/placeholder":!0},zA=function(e){return e===BA},VA=function(e){return function t(){return 0===arguments.length||1===arguments.length&&zA(arguments.length<=0?void 0:arguments[0])?t:e.apply(void 0,arguments)}},$A=function e(t,n){return 1===t?n:VA((function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter((function(e){return e!==BA})).length;return o>=t?n.apply(void 0,i):e(t-o,VA((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var a=i.map((function(e){return zA(e)?t.shift():e}));return n.apply(void 0,LA(a).concat(t))})))}))},qA=function(e){return $A(e.length,e)},HA=function(e,t){for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},WA=qA((function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map((function(e){return t[e]})).map(e)})),KA=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!t.length)return UA;var r=t.reverse(),i=r[0],a=r.slice(1);return function(){return a.reduce((function(e,t){return t(e)}),i.apply(void 0,arguments))}},GA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},YA=function(e){var t=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t&&i.every((function(e,n){return e===t[n]}))?n:(t=i,n=e.apply(void 0,i))}};var QA=qA((function(e,t,n){var r=+e;return r+n*(+t-r)})),XA=qA((function(e,t,n){var r=t-+e;return(n-e)/(r=r||1/0)})),ZA=qA((function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))}));const JA={rangeStep:function(e,t,n){for(var r=new(RA())(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a},getDigitCount:function(e){return 0===e?1:Math.floor(new(RA())(e).abs().log(10).toNumber())+1},interpolateNumber:QA,uninterpolateNumber:XA,uninterpolateTruncation:ZA};function eI(e){return function(e){if(Array.isArray(e))return rI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||nI(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}(e,t)||nI(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nI(e,t){if(e){if("string"===typeof e)return rI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rI(e,t):void 0}}function rI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function iI(e){var t=tI(e,2),n=t[0],r=t[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function aI(e,t,n){if(e.lte(0))return new(RA())(0);var r=JA.getDigitCount(e.toNumber()),i=new(RA())(10).pow(r),a=e.div(i),o=1!==r?.05:.1,s=new(RA())(Math.ceil(a.div(o).toNumber())).add(n).mul(o).mul(i);return t?s:new(RA())(Math.ceil(s))}function oI(e,t,n){var r=1,i=new(RA())(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new(RA())(10).pow(JA.getDigitCount(e)-1),i=new(RA())(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new(RA())(Math.floor(e)))}else 0===e?i=new(RA())(Math.floor((t-1)/2)):n||(i=new(RA())(Math.floor(e)));var o=Math.floor((t-1)/2);return KA(WA((function(e){return i.add(new(RA())(e-o).mul(r)).toNumber()})),HA)(0,t)}function sI(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new(RA())(0),tickMin:new(RA())(0),tickMax:new(RA())(0)};var a,o=aI(new(RA())(t).sub(e).div(n-1),r,i);a=e<=0&&t>=0?new(RA())(0):(a=new(RA())(e).add(t).div(2)).sub(new(RA())(a).mod(o));var s=Math.ceil(a.sub(e).div(o).toNumber()),l=Math.ceil(new(RA())(t).sub(a).div(o).toNumber()),c=s+l+1;return c>n?sI(e,t,n,r,i+1):(c<n&&(l=t>0?l+(n-c):l,s=t>0?s:s+(n-c)),{step:o,tickMin:a.sub(new(RA())(s).mul(o)),tickMax:a.add(new(RA())(l).mul(o))})}var lI=YA((function(e){var t=tI(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(i,2),s=tI(iI([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0){var u=c===1/0?[l].concat(eI(HA(0,i-1).map((function(){return 1/0})))):[].concat(eI(HA(0,i-1).map((function(){return-1/0}))),[c]);return n>r?GA(u):u}if(l===c)return oI(l,i,a);var d=sI(l,c,o,a),h=d.step,f=d.tickMin,p=d.tickMax,m=JA.rangeStep(f,p.add(new(RA())(.1).mul(h)),h);return n>r?GA(m):m})),cI=(YA((function(e){var t=tI(e,2),n=t[0],r=t[1],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6,a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=Math.max(i,2),s=tI(iI([n,r]),2),l=s[0],c=s[1];if(l===-1/0||c===1/0)return[n,r];if(l===c)return oI(l,i,a);var u=aI(new(RA())(c).sub(l).div(o-1),a,0),d=KA(WA((function(e){return new(RA())(l).add(new(RA())(e).mul(u)).toNumber()})),HA)(0,o).filter((function(e){return e>=l&&e<=c}));return n>r?GA(d):d})),YA((function(e,t){var n=tI(e,2),r=n[0],i=n[1],a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=tI(iI([r,i]),2),s=o[0],l=o[1];if(s===-1/0||l===1/0)return[r,i];if(s===l)return[s];var c=Math.max(t,2),u=aI(new(RA())(l).sub(s).div(c-1),a,0),d=[].concat(eI(JA.rangeStep(new(RA())(s),new(RA())(l).sub(new(RA())(.99).mul(u)),u)),[l]);return r>i?GA(d):d}))),uI=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function dI(e){return dI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dI(e)}function hI(){return hI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hI.apply(this,arguments)}function fI(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return pI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pI(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function mI(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function gI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jI(r.key),r)}}function yI(e,t,n){return t=bI(t),function(e,t){if(t&&("object"===dI(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,vI()?Reflect.construct(t,n||[],bI(e).constructor):t.apply(e,n))}function vI(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vI=function(){return!!e})()}function bI(e){return bI=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bI(e)}function xI(e,t){return xI=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},xI(e,t)}function wI(e,t,n){return(t=jI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jI(e){var t=function(e,t){if("object"!=dI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dI(t)?t:t+""}var SI=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),yI(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&xI(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,t=e.offset,n=e.layout,i=e.width,a=e.dataKey,o=e.data,s=e.dataPointFormatter,l=e.xAxis,c=e.yAxis,u=mI(e,uI),d=mw(u,!1);"x"===this.props.direction&&"number"!==l.type&&Iw(!1);var h=o.map((function(e){var o=s(e,a),u=o.x,h=o.y,f=o.value,p=o.errorVal;if(!p)return null;var m,g,y=[];if(Array.isArray(p)){var v=fI(p,2);m=v[0],g=v[1]}else m=g=p;if("vertical"===n){var b=l.scale,x=h+t,w=x+i,j=x-i,S=b(f-m),k=b(f+g);y.push({x1:k,y1:w,x2:k,y2:j}),y.push({x1:S,y1:x,x2:k,y2:x}),y.push({x1:S,y1:w,x2:S,y2:j})}else if("horizontal"===n){var E=c.scale,T=u+t,C=T-i,O=T+i,_=E(f-m),N=E(f+g);y.push({x1:C,y1:N,x2:O,y2:N}),y.push({x1:T,y1:_,x2:T,y2:N}),y.push({x1:C,y1:_,x2:O,y2:_})}return r.createElement(Bw,hI({className:"recharts-errorBar",key:"bar-".concat(y.map((function(e){return"".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)})))},d),y.map((function(e){return r.createElement("line",hI({},e,{key:"line-".concat(e.x1,"-").concat(e.x2,"-").concat(e.y1,"-").concat(e.y2)}))})))}));return r.createElement(Bw,{className:"recharts-errorBars"},h)}}],i&&gI(n.prototype,i),a&&gI(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function kI(e){return kI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kI(e)}function EI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EI(Object(n),!0).forEach((function(t){CI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kI(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}wI(SI,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"}),wI(SI,"displayName","ErrorBar");var OI=function(e){var t=e.children,n=e.formattedGraphicalItems,r=e.legendWidth,i=e.legendContent,a=dw(t,VS);if(!a)return null;var o,s=VS.defaultProps,l=void 0!==s?TI(TI({},s),a.props):{};return o=a.props&&a.props.payload?a.props&&a.props.payload:"children"===i?(n||[]).reduce((function(e,t){var n=t.item,r=t.props,i=r.sectors||r.data||[];return e.concat(i.map((function(e){return{type:a.props.iconType||n.props.legendType,value:e.name,color:e.fill,payload:e}})))}),[]):(n||[]).map((function(e){var t=e.item,n=t.type.defaultProps,r=void 0!==n?TI(TI({},n),t.props):{},i=r.dataKey,a=r.name,o=r.legendType;return{inactive:r.hide,dataKey:i,type:l.iconType||o||"square",color:LI(t),value:a||i,payload:r}})),TI(TI(TI({},l),VS.getWithHeight(a,r)),{},{payload:o,item:a})};function _I(e){return _I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_I(e)}function NI(e){return function(e){if(Array.isArray(e))return AI(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return AI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AI(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function AI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function II(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?II(Object(n),!0).forEach((function(t){DI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):II(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DI(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_I(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function MI(e,t,n){return zx()(e)||zx()(t)?n:Ix(t)?Tx()(e,t,n):$x()(t)?t(e):n}function RI(e,t,n,r){var i=IA()(e,(function(e){return MI(e,t)}));if("number"===n){var a=i.filter((function(e){return Ax(e)||parseFloat(e)}));return a.length?[NA()(a),OA()(a)]:[1/0,-1/0]}return(r?i.filter((function(e){return!zx()(e)})):i).map((function(e){return Ix(e)||e instanceof Date?e:""}))}var LI=function(e){var t,n,r=e.type.displayName,i=null!==(t=e.type)&&void 0!==t&&t.defaultProps?PI(PI({},e.type.defaultProps),e.props):e.props,a=i.stroke,o=i.fill;switch(r){case"Line":n=a;break;case"Area":case"Radar":n=a&&"none"!==a?a:o;break;default:n=o}return n},FI=function(e,t,n,r,i){var a=uw(t.props.children,SI).filter((function(e){return function(e,t,n){return!!zx()(t)||("horizontal"===e?"yAxis"===t:"vertical"===e||"x"===n?"xAxis"===t:"y"!==n||"yAxis"===t)}(r,i,e.props.direction)}));if(a&&a.length){var o=a.map((function(e){return e.props.dataKey}));return e.reduce((function(e,t){var r=MI(t,n);if(zx()(r))return e;var i=Array.isArray(r)?[NA()(r),OA()(r)]:[r,r],a=o.reduce((function(e,n){var r=MI(t,n,0),a=i[0]-Math.abs(Array.isArray(r)?r[0]:r),o=i[1]+Math.abs(Array.isArray(r)?r[1]:r);return[Math.min(a,e[0]),Math.max(o,e[1])]}),[1/0,-1/0]);return[Math.min(a[0],e[0]),Math.max(a[1],e[1])]}),[1/0,-1/0])}return null},UI=function(e,t,n,r,i){var a=t.map((function(t){var a=t.props.dataKey;return"number"===n&&a&&FI(e,t,a,r)||RI(e,a,n,i)}));if("number"===n)return a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]);var o={};return a.reduce((function(e,t){for(var n=0,r=t.length;n<r;n++)o[t[n]]||(o[t[n]]=!0,e.push(t[n]));return e}),[])},BI=function(e,t){return"horizontal"===e&&"xAxis"===t||"vertical"===e&&"yAxis"===t||"centric"===e&&"angleAxis"===t||"radial"===e&&"radiusAxis"===t},zI=function(e,t,n,r){if(r)return e.map((function(e){return e.coordinate}));var i,a,o=e.map((function(e){return e.coordinate===t&&(i=!0),e.coordinate===n&&(a=!0),e.coordinate}));return i||o.push(t),a||o.push(n),o},VI=function(e,t,n){if(!e)return null;var r=e.scale,i=e.duplicateDomain,a=e.type,o=e.range,s="scaleBand"===e.realScaleType?r.bandwidth()/2:2,l=(t||n)&&"category"===a&&r.bandwidth?r.bandwidth()/s:0;return l="angleAxis"===e.axisType&&(null===o||void 0===o?void 0:o.length)>=2?2*_x(o[0]-o[1])*l:l,t&&(e.ticks||e.niceTicks)?(e.ticks||e.niceTicks).map((function(e){var t=i?i.indexOf(e):e;return{coordinate:r(t)+l,value:e,offset:l}})).filter((function(e){return!kx()(e.coordinate)})):e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map((function(e,t){return{coordinate:r(e)+l,value:e,index:t,offset:l}})):r.ticks&&!n?r.ticks(e.tickCount).map((function(e){return{coordinate:r(e)+l,value:e,offset:l}})):r.domain().map((function(e,t){return{coordinate:r(e)+l,value:i?i[e]:e,index:t,offset:l}}))},$I=new WeakMap,qI=function(e,t){if("function"!==typeof t)return e;$I.has(e)||$I.set(e,new WeakMap);var n=$I.get(e);if(n.has(t))return n.get(t);var r=function(){e.apply(void 0,arguments),t.apply(void 0,arguments)};return n.set(t,r),r},HI=function(t,n,r){var i=t.scale,a=t.type,o=t.layout,s=t.axisType;if("auto"===i)return"radial"===o&&"radiusAxis"===s?{scale:BE(),realScaleType:"band"}:"radial"===o&&"angleAxis"===s?{scale:uO(),realScaleType:"linear"}:"category"===a&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:VE(),realScaleType:"point"}:"category"===a?{scale:BE(),realScaleType:"band"}:{scale:uO(),realScaleType:"linear"};if(jx()(i)){var l="scale".concat(Nj()(i));return{scale:(e[l]||VE)(),realScaleType:e[l]?l:"point"}}return $x()(i)?{scale:i}:{scale:VE(),realScaleType:"point"}},WI=1e-4,KI=function(e){var t=e.domain();if(t&&!(t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-WI,a=Math.max(r[0],r[1])+WI,o=e(t[0]),s=e(t[n-1]);(o<i||o>a||s<i||s>a)&&e.domain([t[0],t[n-1]])}},GI={sign:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0,o=0;o<t;++o){var s=kx()(e[o][n][1])?e[o][n][0]:e[o][n][1];s>=0?(e[o][n][0]=i,e[o][n][1]=i+s,i=e[o][n][1]):(e[o][n][0]=a,e[o][n][1]=a+s,a=e[o][n][1])}},expand:function(e,t){if((r=e.length)>0){for(var n,r,i,a=0,o=e[0].length;a<o;++a){for(i=n=0;n<r;++n)i+=e[n][a][1]||0;if(i)for(n=0;n<r;++n)e[n][a][1]/=i}jA(e,t)}},none:jA,silhouette:function(e,t){if((n=e.length)>0){for(var n,r=0,i=e[t[0]],a=i.length;r<a;++r){for(var o=0,s=0;o<n;++o)s+=e[o][r][1]||0;i[r][1]+=i[r][0]=-s/2}jA(e,t)}},wiggle:function(e,t){if((i=e.length)>0&&(r=(n=e[t[0]]).length)>0){for(var n,r,i,a=0,o=1;o<r;++o){for(var s=0,l=0,c=0;s<i;++s){for(var u=e[t[s]],d=u[o][1]||0,h=(d-(u[o-1][1]||0))/2,f=0;f<s;++f){var p=e[t[f]];h+=(p[o][1]||0)-(p[o-1][1]||0)}l+=d,c+=h*d}n[o-1][1]+=n[o-1][0]=a,l&&(a-=c/l)}n[o-1][1]+=n[o-1][0]=a,jA(e,t)}},positive:function(e){var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var i=0,a=0;a<t;++a){var o=kx()(e[a][n][1])?e[a][n][0]:e[a][n][1];o>=0?(e[a][n][0]=i,e[a][n][1]=i+o,i=e[a][n][1]):(e[a][n][0]=0,e[a][n][1]=0)}}},YI=function(e,t,n){var r=t.map((function(e){return e.props.dataKey})),i=GI[n],a=function(){var e=Jj([]),t=kA,n=jA,r=EA;function i(i){var a,o,s=Array.from(e.apply(this,arguments),TA),l=s.length,c=-1;for(const e of i)for(a=0,++c;a<l;++a)(s[a][c]=[0,+r(e,s[a].key,c,i)]).data=e;for(a=0,o=SA(t(s));a<l;++a)s[o[a]].index=a;return n(s,o),s}return i.keys=function(t){return arguments.length?(e="function"===typeof t?t:Jj(Array.from(t)),i):e},i.value=function(e){return arguments.length?(r="function"===typeof e?e:Jj(+e),i):r},i.order=function(e){return arguments.length?(t=null==e?kA:"function"===typeof e?e:Jj(Array.from(e)),i):t},i.offset=function(e){return arguments.length?(n=null==e?jA:e,i):n},i}().keys(r).value((function(e,t){return+MI(e,t,0)})).order(kA).offset(i);return a(e)},QI=function(e,t){var n=t.realScaleType,r=t.type,i=t.tickCount,a=t.originalDomain,o=t.allowDecimals,s=n||t.scale;if("auto"!==s&&"linear"!==s)return null;if(i&&"number"===r&&a&&("auto"===a[0]||"auto"===a[1])){var l=e.domain();if(!l.length)return null;var c=lI(l,i,o);return e.domain([NA()(c),OA()(c)]),{niceTicks:c}}if(i&&"number"===r){var u=e.domain();return{niceTicks:cI(u,i,o)}}return null};function XI(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,a=e.index,o=e.dataKey;if("category"===t.type){if(!t.allowDuplicatedCategory&&t.dataKey&&!zx()(i[t.dataKey])){var s=Fx(n,"value",i[t.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=MI(i,zx()(o)?t.dataKey:o);return zx()(l)?null:t.scale(l)}var ZI=function(e){var t=e.axis,n=e.ticks,r=e.offset,i=e.bandSize,a=e.entry,o=e.index;if("category"===t.type)return n[o]?n[o].coordinate+r:null;var s=MI(a,t.dataKey,t.domain[o]);return zx()(s)?null:t.scale(s)-i/2+r},JI=function(e,t,n){return Object.keys(e).reduce((function(r,i){var a=e[i].stackedData.reduce((function(e,r){var i=function(e){return e.reduce((function(e,t){return[NA()(t.concat([e[0]]).filter(Ax)),OA()(t.concat([e[1]]).filter(Ax))]}),[1/0,-1/0])}(r.slice(t,n+1));return[Math.min(e[0],i[0]),Math.max(e[1],i[1])]}),[1/0,-1/0]);return[Math.min(a[0],r[0]),Math.max(a[1],r[1])]}),[1/0,-1/0]).map((function(e){return e===1/0||e===-1/0?0:e}))},eP=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,tP=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nP=function(e,t,n){if($x()(e))return e(t,n);if(!Array.isArray(e))return t;var r=[];if(Ax(e[0]))r[0]=n?e[0]:Math.min(e[0],t[0]);else if(eP.test(e[0])){var i=+eP.exec(e[0])[1];r[0]=t[0]-i}else $x()(e[0])?r[0]=e[0](t[0]):r[0]=t[0];if(Ax(e[1]))r[1]=n?e[1]:Math.max(e[1],t[1]);else if(tP.test(e[1])){var a=+tP.exec(e[1])[1];r[1]=t[1]+a}else $x()(e[1])?r[1]=e[1](t[1]):r[1]=t[1];return r},rP=function(e,t,n){if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=Nw()(t,(function(e){return e.coordinate})),a=1/0,o=1,s=i.length;o<s;o++){var l=i[o],c=i[o-1];a=Math.min((l.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0},iP=function(e,t,n){return e&&e.length?DA()(e,Tx()(n,"type.defaultProps.domain"))?t:e:t},aP=function(e,t){var n=e.type.defaultProps?PI(PI({},e.type.defaultProps),e.props):e.props,r=n.dataKey,i=n.name,a=n.unit,o=n.formatter,s=n.tooltipType,l=n.chartType,c=n.hide;return PI(PI({},mw(e,!1)),{},{dataKey:r,unit:a,formatter:o,name:i||r,color:LI(e),value:MI(t,r),type:s,payload:t,chartType:l,hide:c})};function oP(e){return oP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oP(e)}function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function lP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?sP(Object(n),!0).forEach((function(t){cP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=oP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==oP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var uP=["Webkit","Moz","O","ms"];function dP(e){return dP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dP(e)}function hP(){return hP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hP.apply(this,arguments)}function fP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fP(Object(n),!0).forEach((function(t){xP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wP(r.key),r)}}function gP(e,t,n){return t=vP(t),function(e,t){if(t&&("object"===dP(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,yP()?Reflect.construct(t,n||[],vP(e).constructor):t.apply(e,n))}function yP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yP=function(){return!!e})()}function vP(e){return vP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vP(e)}function bP(e,t){return bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bP(e,t)}function xP(e,t,n){return(t=wP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wP(e){var t=function(e,t){if("object"!=dP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dP(t)?t:t+""}var jP=function(e){return e.changedTouches&&!!e.changedTouches.length},SP=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xP(n=gP(this,t,[e]),"handleDrag",(function(e){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(e):n.state.isSlideMoving&&n.handleSlideDrag(e)})),xP(n,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&n.handleDrag(e.changedTouches[0])})),xP(n,"handleDragEnd",(function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},(function(){var e=n.props,t=e.endIndex,r=e.onDragEnd,i=e.startIndex;null===r||void 0===r||r({endIndex:t,startIndex:i})})),n.detachDragEndListener()})),xP(n,"handleLeaveWrapper",(function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))})),xP(n,"handleEnterSlideOrTraveller",(function(){n.setState({isTextActive:!0})})),xP(n,"handleLeaveSlideOrTraveller",(function(){n.setState({isTextActive:!1})})),xP(n,"handleSlideDragStart",(function(e){var t=jP(e)?e.changedTouches[0]:e;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:t.pageX}),n.attachDragEndListener()})),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bP(e,t)}(t,e),n=t,i=[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(e){var n=e.startX,r=e.endX,i=this.state.scaleValues,a=this.props,o=a.gap,s=a.data.length-1,l=Math.min(n,r),c=Math.max(n,r),u=t.getIndexInRange(i,l),d=t.getIndexInRange(i,c);return{startIndex:u-u%o,endIndex:d===s?s:d-d%o}}},{key:"getTextOfTick",value:function(e){var t=this.props,n=t.data,r=t.tickFormatter,i=t.dataKey,a=MI(n[e],i,e);return $x()(r)?r(a,e):a}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(e){var t=this.state,n=t.slideMoveStartX,r=t.startX,i=t.endX,a=this.props,o=a.x,s=a.width,l=a.travellerWidth,c=a.startIndex,u=a.endIndex,d=a.onChange,h=e.pageX-n;h>0?h=Math.min(h,o+s-l-i,o+s-l-r):h<0&&(h=Math.max(h,o-r,o-i));var f=this.getIndex({startX:r+h,endX:i+h});f.startIndex===c&&f.endIndex===u||!d||d(f),this.setState({startX:r+h,endX:i+h,slideMoveStartX:e.pageX})}},{key:"handleTravellerDragStart",value:function(e,t){var n=jP(t)?t.changedTouches[0]:t;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:e,brushMoveStartX:n.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(e){var t=this.state,n=t.brushMoveStartX,r=t.movingTravellerId,i=t.endX,a=t.startX,o=this.state[r],s=this.props,l=s.x,c=s.width,u=s.travellerWidth,d=s.onChange,h=s.gap,f=s.data,p={startX:this.state.startX,endX:this.state.endX},m=e.pageX-n;m>0?m=Math.min(m,l+c-u-o):m<0&&(m=Math.max(m,l-o)),p[r]=o+m;var g=this.getIndex(p),y=g.startIndex,v=g.endIndex;this.setState(xP(xP({},r,o+m),"brushMoveStartX",e.pageX),(function(){d&&function(){var e=f.length-1;return"startX"===r&&(i>a?y%h===0:v%h===0)||i<a&&v===e||"endX"===r&&(i>a?v%h===0:y%h===0)||i>a&&v===e}()&&d(g)}))}},{key:"handleTravellerMoveKeyboard",value:function(e,t){var n=this,r=this.state,i=r.scaleValues,a=r.startX,o=r.endX,s=this.state[t],l=i.indexOf(s);if(-1!==l){var c=l+e;if(!(-1===c||c>=i.length)){var u=i[c];"startX"===t&&u>=o||"endX"===t&&u<=a||this.setState(xP({},t,u),(function(){n.props.onChange(n.getIndex({startX:n.state.startX,endX:n.state.endX}))}))}}}},{key:"renderBackground",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.fill,s=e.stroke;return r.createElement("rect",{stroke:s,fill:o,x:t,y:n,width:i,height:a})}},{key:"renderPanorama",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.data,s=e.children,l=e.padding,c=r.Children.only(s);return c?r.cloneElement(c,{x:t,y:n,width:i,height:a,margin:l,compact:!0,data:o}):null}},{key:"renderTravellerLayer",value:function(e,n){var i,a,o=this,s=this.props,l=s.y,c=s.travellerWidth,u=s.height,d=s.traveller,h=s.ariaLabel,f=s.data,p=s.startIndex,m=s.endIndex,g=Math.max(e,this.props.x),y=pP(pP({},mw(this.props,!1)),{},{x:g,y:l,width:c,height:u}),v=h||"Min value: ".concat(null===(i=f[p])||void 0===i?void 0:i.name,", Max value: ").concat(null===(a=f[m])||void 0===a?void 0:a.name);return r.createElement(Bw,{tabIndex:0,role:"slider","aria-label":v,"aria-valuenow":e,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[n],onTouchStart:this.travellerDragStartHandlers[n],onKeyDown:function(e){["ArrowLeft","ArrowRight"].includes(e.key)&&(e.preventDefault(),e.stopPropagation(),o.handleTravellerMoveKeyboard("ArrowRight"===e.key?1:-1,n))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(d,y))}},{key:"renderSlide",value:function(e,t){var n=this.props,i=n.y,a=n.height,o=n.stroke,s=n.travellerWidth,l=Math.min(e,t)+s,c=Math.max(Math.abs(t-e)-s,0);return r.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:o,fillOpacity:.2,x:l,y:i,width:c,height:a})}},{key:"renderText",value:function(){var e=this.props,t=e.startIndex,n=e.endIndex,i=e.y,a=e.height,o=e.travellerWidth,s=e.stroke,l=this.state,c=l.startX,u=l.endX,d={pointerEvents:"none",fill:s};return r.createElement(Bw,{className:"recharts-brush-texts"},r.createElement(ET,hP({textAnchor:"end",verticalAnchor:"middle",x:Math.min(c,u)-5,y:i+a/2},d),this.getTextOfTick(t)),r.createElement(ET,hP({textAnchor:"start",verticalAnchor:"middle",x:Math.max(c,u)+o+5,y:i+a/2},d),this.getTextOfTick(n)))}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.className,i=e.children,a=e.x,o=e.y,s=e.width,l=e.height,c=e.alwaysShowText,u=this.state,d=u.startX,h=u.endX,f=u.isTextActive,p=u.isSlideMoving,m=u.isTravellerMoving,g=u.isTravellerFocused;if(!t||!t.length||!Ax(a)||!Ax(o)||!Ax(s)||!Ax(l)||s<=0||l<=0)return null;var y=vx("recharts-brush",n),v=1===r.Children.count(i),b=function(e,t){if(!e)return null;var n=e.replace(/(\w)/,(function(e){return e.toUpperCase()})),r=uP.reduce((function(e,r){return lP(lP({},e),{},cP({},r+n,t))}),{});return r[e]=t,r}("userSelect","none");return r.createElement(Bw,{className:y,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:b},this.renderBackground(),v&&this.renderPanorama(),this.renderSlide(d,h),this.renderTravellerLayer(d,"startX"),this.renderTravellerLayer(h,"endX"),(f||p||m||g||c)&&this.renderText())}}],a=[{key:"renderDefaultTraveller",value:function(e){var t=e.x,n=e.y,i=e.width,a=e.height,o=e.stroke,s=Math.floor(n+a/2)-1;return r.createElement(r.Fragment,null,r.createElement("rect",{x:t,y:n,width:i,height:a,fill:o,stroke:"none"}),r.createElement("line",{x1:t+1,y1:s,x2:t+i-1,y2:s,fill:"none",stroke:"#fff"}),r.createElement("line",{x1:t+1,y1:s+2,x2:t+i-1,y2:s+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(e,n){return r.isValidElement(e)?r.cloneElement(e,n):$x()(e)?e(n):t.renderDefaultTraveller(n)}},{key:"getDerivedStateFromProps",value:function(e,t){var n=e.data,r=e.width,i=e.x,a=e.travellerWidth,o=e.updateId,s=e.startIndex,l=e.endIndex;if(n!==t.prevData||o!==t.prevUpdateId)return pP({prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:i,prevWidth:r},n&&n.length?function(e){var t=e.data,n=e.startIndex,r=e.endIndex,i=e.x,a=e.width,o=e.travellerWidth;if(!t||!t.length)return{};var s=t.length,l=VE().domain(Ow()(0,s)).range([i,i+a-o]),c=l.domain().map((function(e){return l(e)}));return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:l(n),endX:l(r),scale:l,scaleValues:c}}({data:n,width:r,x:i,travellerWidth:a,startIndex:s,endIndex:l}):{scale:null,scaleValues:null});if(t.scale&&(r!==t.prevWidth||i!==t.prevX||a!==t.prevTravellerWidth)){t.scale.range([i,i+r-a]);var c=t.scale.domain().map((function(e){return t.scale(e)}));return{prevData:n,prevTravellerWidth:a,prevUpdateId:o,prevX:i,prevWidth:r,startX:t.scale(e.startIndex),endX:t.scale(e.endIndex),scaleValues:c}}return null}},{key:"getIndexInRange",value:function(e,t){for(var n=0,r=e.length-1;r-n>1;){var i=Math.floor((n+r)/2);e[i]>t?r=i:n=i}return t>=e[r]?r:n}}],i&&mP(n.prototype,i),a&&mP(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function kP(e){return kP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kP(e)}function EP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?EP(Object(n),!0).forEach((function(t){CP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):EP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=kP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==kP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OP(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return _P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}xP(SP,"displayName","Brush"),xP(SP,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var NP=Math.PI/180,AP=function(e){return 180*e/Math.PI},IP=function(e,t,n,r){return{x:e+Math.cos(-NP*r)*n,y:t+Math.sin(-NP*r)*n}},PP=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(t-(n.top||0)-(n.bottom||0)))/2},DP=function(e,t,n,r,i){var a=e.width,o=e.height,s=e.startAngle,l=e.endAngle,c=Mx(e.cx,a,a/2),u=Mx(e.cy,o,o/2),d=PP(a,o,n),h=Mx(e.innerRadius,d,0),f=Mx(e.outerRadius,d,.8*d);return Object.keys(t).reduce((function(e,n){var a,o=t[n],d=o.domain,p=o.reversed;if(zx()(o.range))"angleAxis"===r?a=[s,l]:"radiusAxis"===r&&(a=[h,f]),p&&(a=[a[1],a[0]]);else{var m=OP(a=o.range,2);s=m[0],l=m[1]}var g=HI(o,i),y=g.realScaleType,v=g.scale;v.domain(d).range(a),KI(v);var b=QI(v,TP(TP({},o),{},{realScaleType:y})),x=TP(TP(TP({},o),b),{},{range:a,radius:f,realScaleType:y,scale:v,cx:c,cy:u,innerRadius:h,outerRadius:f,startAngle:s,endAngle:l});return TP(TP({},e),{},CP({},n,x))}),{})},MP=function(e,t){var n=e.x,r=e.y,i=t.cx,a=t.cy,o=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(r-a,2))}({x:n,y:r},{x:i,y:a});if(o<=0)return{radius:o};var s=(n-i)/o,l=Math.acos(s);return r>a&&(l=2*Math.PI-l),{radius:o,angle:AP(l),angleInRadian:l}},RP=function(e,t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),a=Math.floor(r/360);return e+360*Math.min(i,a)},LP=function(e,t){var n=e.x,r=e.y,i=MP({x:n,y:r},t),a=i.radius,o=i.angle,s=t.innerRadius,l=t.outerRadius;if(a<s||a>l)return!1;if(0===a)return!0;var c,u=function(e){var t=e.startAngle,n=e.endAngle,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-360*a,endAngle:n-360*a}}(t),d=u.startAngle,h=u.endAngle,f=o;if(d<=h){for(;f>h;)f-=360;for(;f<d;)f+=360;c=f>=d&&f<=h}else{for(;f>d;)f-=360;for(;f<h;)f+=360;c=f>=h&&f<=d}return c?TP(TP({},t),{},{radius:a,angle:RP(f,t)}):null},FP=function(e){return(0,r.isValidElement)(e)||$x()(e)||"boolean"===typeof e?"":e.className};function UP(e){return UP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},UP(e)}var BP=["offset"];function zP(e){return function(e){if(Array.isArray(e))return VP(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return VP(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VP(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function VP(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function $P(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function qP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function HP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qP(Object(n),!0).forEach((function(t){WP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function WP(e,t,n){return t=function(e){var t=function(e,t){if("object"!=UP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==UP(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KP(){return KP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KP.apply(this,arguments)}var GP=function(e,t,n){var i,a,o=e.position,s=e.viewBox,l=e.offset,c=e.className,u=s,d=u.cx,h=u.cy,f=u.innerRadius,p=u.outerRadius,m=u.startAngle,g=u.endAngle,y=u.clockWise,v=(f+p)/2,b=function(e,t){return _x(t-e)*Math.min(Math.abs(t-e),360)}(m,g),x=b>=0?1:-1;"insideStart"===o?(i=m+x*l,a=y):"insideEnd"===o?(i=g-x*l,a=!y):"end"===o&&(i=g+x*l,a=y),a=b<=0?a:!a;var w=IP(d,h,v,i),j=IP(d,h,v,i+359*(a?1:-1)),S="M".concat(w.x,",").concat(w.y,"\n    A").concat(v,",").concat(v,",0,1,").concat(a?0:1,",\n    ").concat(j.x,",").concat(j.y),k=zx()(e.id)?Dx("recharts-radial-line-"):e.id;return r.createElement("text",KP({},n,{dominantBaseline:"central",className:vx("recharts-radial-bar-label",c)}),r.createElement("defs",null,r.createElement("path",{id:k,d:S})),r.createElement("textPath",{xlinkHref:"#".concat(k)},t))};function YP(e){var t,n=e.offset,i=HP({offset:void 0===n?5:n},$P(e,BP)),a=i.viewBox,o=i.position,s=i.value,l=i.children,c=i.content,u=i.className,d=void 0===u?"":u,h=i.textBreakAll;if(!a||zx()(s)&&zx()(l)&&!(0,r.isValidElement)(c)&&!$x()(c))return null;if((0,r.isValidElement)(c))return(0,r.cloneElement)(c,i);if($x()(c)){if(t=(0,r.createElement)(c,i),(0,r.isValidElement)(t))return t}else t=function(e){var t=e.value,n=e.formatter,r=zx()(e.children)?t:e.children;return $x()(n)?n(r):r}(i);var f=function(e){return"cx"in e&&Ax(e.cx)}(a),p=mw(i,!0);if(f&&("insideStart"===o||"insideEnd"===o||"end"===o))return GP(i,t,p);var m=f?function(e){var t=e.viewBox,n=e.offset,r=e.position,i=t,a=i.cx,o=i.cy,s=i.innerRadius,l=i.outerRadius,c=(i.startAngle+i.endAngle)/2;if("outside"===r){var u=IP(a,o,l+n,c),d=u.x;return{x:d,y:u.y,textAnchor:d>=a?"start":"end",verticalAnchor:"middle"}}if("center"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if("centerTop"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if("centerBottom"===r)return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var h=IP(a,o,(s+l)/2,c);return{x:h.x,y:h.y,textAnchor:"middle",verticalAnchor:"middle"}}(i):function(e){var t=e.viewBox,n=e.parentViewBox,r=e.offset,i=e.position,a=t,o=a.x,s=a.y,l=a.width,c=a.height,u=c>=0?1:-1,d=u*r,h=u>0?"end":"start",f=u>0?"start":"end",p=l>=0?1:-1,m=p*r,g=p>0?"end":"start",y=p>0?"start":"end";if("top"===i)return HP(HP({},{x:o+l/2,y:s-u*r,textAnchor:"middle",verticalAnchor:h}),n?{height:Math.max(s-n.y,0),width:l}:{});if("bottom"===i)return HP(HP({},{x:o+l/2,y:s+c+d,textAnchor:"middle",verticalAnchor:f}),n?{height:Math.max(n.y+n.height-(s+c),0),width:l}:{});if("left"===i){var v={x:o-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"};return HP(HP({},v),n?{width:Math.max(v.x-n.x,0),height:c}:{})}if("right"===i){var b={x:o+l+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"};return HP(HP({},b),n?{width:Math.max(n.x+n.width-b.x,0),height:c}:{})}var x=n?{width:l,height:c}:{};return"insideLeft"===i?HP({x:o+m,y:s+c/2,textAnchor:y,verticalAnchor:"middle"},x):"insideRight"===i?HP({x:o+l-m,y:s+c/2,textAnchor:g,verticalAnchor:"middle"},x):"insideTop"===i?HP({x:o+l/2,y:s+d,textAnchor:"middle",verticalAnchor:f},x):"insideBottom"===i?HP({x:o+l/2,y:s+c-d,textAnchor:"middle",verticalAnchor:h},x):"insideTopLeft"===i?HP({x:o+m,y:s+d,textAnchor:y,verticalAnchor:f},x):"insideTopRight"===i?HP({x:o+l-m,y:s+d,textAnchor:g,verticalAnchor:f},x):"insideBottomLeft"===i?HP({x:o+m,y:s+c-d,textAnchor:y,verticalAnchor:h},x):"insideBottomRight"===i?HP({x:o+l-m,y:s+c-d,textAnchor:g,verticalAnchor:h},x):Hx()(i)&&(Ax(i.x)||Nx(i.x))&&(Ax(i.y)||Nx(i.y))?HP({x:o+Mx(i.x,l),y:s+Mx(i.y,c),textAnchor:"end",verticalAnchor:"end"},x):HP({x:o+l/2,y:s+c/2,textAnchor:"middle",verticalAnchor:"middle"},x)}(i);return r.createElement(ET,KP({className:vx("recharts-label",d)},p,m,{breakAll:h}),t)}YP.displayName="Label";var QP=function(e){var t=e.cx,n=e.cy,r=e.angle,i=e.startAngle,a=e.endAngle,o=e.r,s=e.radius,l=e.innerRadius,c=e.outerRadius,u=e.x,d=e.y,h=e.top,f=e.left,p=e.width,m=e.height,g=e.clockWise,y=e.labelViewBox;if(y)return y;if(Ax(p)&&Ax(m)){if(Ax(u)&&Ax(d))return{x:u,y:d,width:p,height:m};if(Ax(h)&&Ax(f))return{x:h,y:f,width:p,height:m}}return Ax(u)&&Ax(d)?{x:u,y:d,width:0,height:0}:Ax(t)&&Ax(n)?{cx:t,cy:n,startAngle:i||r||0,endAngle:a||r||0,innerRadius:l||0,outerRadius:c||s||o||0,clockWise:g}:e.viewBox?e.viewBox:{}};YP.parseViewBox=QP,YP.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=e.children,a=QP(e),o=uw(i,YP).map((function(e,n){return(0,r.cloneElement)(e,{viewBox:t||a,key:"label-".concat(n)})}));if(!n)return o;var s=function(e,t){return e?!0===e?r.createElement(YP,{key:"label-implicit",viewBox:t}):Ix(e)?r.createElement(YP,{key:"label-implicit",viewBox:t,value:e}):(0,r.isValidElement)(e)?e.type===YP?(0,r.cloneElement)(e,{key:"label-implicit",viewBox:t}):r.createElement(YP,{key:"label-implicit",content:e,viewBox:t}):$x()(e)?r.createElement(YP,{key:"label-implicit",content:e,viewBox:t}):Hx()(e)?r.createElement(YP,KP({viewBox:t},e,{key:"label-implicit"})):null:null}(e.label,t||a);return[s].concat(zP(o))};var XP=function(e,t){var n=e.alwaysShow,r=e.ifOverflow;return n&&(r="extendDomain"),r===t},ZP=n(1733),JP=n.n(ZP),eD=n(7002),tD=n.n(eD),nD=function(e){return null};nD.displayName="Cell";var rD=n(4065),iD=n.n(rD);function aD(e){return aD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},aD(e)}var oD=["valueAccessor"],sD=["data","dataKey","clockWise","id","textBreakAll"];function lD(e){return function(e){if(Array.isArray(e))return cD(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return cD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cD(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uD(){return uD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uD.apply(this,arguments)}function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dD(Object(n),!0).forEach((function(t){fD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function fD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=aD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==aD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var mD=function(e){return Array.isArray(e.value)?iD()(e.value):e.value};function gD(e){var t=e.valueAccessor,n=void 0===t?mD:t,i=pD(e,oD),a=i.data,o=i.dataKey,s=i.clockWise,l=i.id,c=i.textBreakAll,u=pD(i,sD);return a&&a.length?r.createElement(Bw,{className:"recharts-label-list"},a.map((function(e,t){var i=zx()(o)?n(e,t):MI(e&&e.payload,o),a=zx()(l)?{}:{id:"".concat(l,"-").concat(t)};return r.createElement(YP,uD({},mw(e,!0),u,a,{parentViewBox:e.parentViewBox,value:i,textBreakAll:c,viewBox:YP.parseViewBox(zx()(s)?e:hD(hD({},e),{},{clockWise:s})),key:"label-".concat(t),index:t}))}))):null}gD.displayName="LabelList",gD.renderCallByParent=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!e||!e.children&&n&&!e.label)return null;var i=uw(e.children,gD).map((function(e,n){return(0,r.cloneElement)(e,{data:t,key:"labelList-".concat(n)})}));if(!n)return i;var a=function(e,t){return e?!0===e?r.createElement(gD,{key:"labelList-implicit",data:t}):r.isValidElement(e)||$x()(e)?r.createElement(gD,{key:"labelList-implicit",data:t,content:e}):Hx()(e)?r.createElement(gD,uD({data:t},e,{key:"labelList-implicit"})):null:null}(e.label,t);return[a].concat(lD(i))};var yD=n(2322),vD=n.n(yD),bD=n(6361),xD=n.n(bD);function wD(e){return wD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wD(e)}function jD(){return jD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jD.apply(this,arguments)}function SD(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return kD(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return kD(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kD(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ED(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function TD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ED(Object(n),!0).forEach((function(t){CD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ED(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=wD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==wD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var OD=function(e,t,n,r,i){var a,o=n-r;return a="M ".concat(e,",").concat(t),a+="L ".concat(e+n,",").concat(t),a+="L ".concat(e+n-o/2,",").concat(t+i),a+="L ".concat(e+n-o/2-r,",").concat(t+i),a+="L ".concat(e,",").concat(t," Z")},_D={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ND=function(e){var t=TD(TD({},_D),e),n=(0,r.useRef)(),i=SD((0,r.useState)(-1),2),a=i[0],o=i[1];(0,r.useEffect)((function(){if(n.current&&n.current.getTotalLength)try{var e=n.current.getTotalLength();e&&o(e)}catch(t){}}),[]);var s=t.x,l=t.y,c=t.upperWidth,u=t.lowerWidth,d=t.height,h=t.className,f=t.animationEasing,p=t.animationDuration,m=t.animationBegin,g=t.isUpdateAnimationActive;if(s!==+s||l!==+l||c!==+c||u!==+u||d!==+d||0===c&&0===u||0===d)return null;var y=vx("recharts-trapezoid",h);return g?r.createElement(bE,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:s,y:l},to:{upperWidth:c,lowerWidth:u,height:d,x:s,y:l},duration:p,animationEasing:f,isActive:g},(function(e){var i=e.upperWidth,o=e.lowerWidth,s=e.height,l=e.x,c=e.y;return r.createElement(bE,{canBegin:a>0,from:"0px ".concat(-1===a?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:m,duration:p,easing:f},r.createElement("path",jD({},mw(t,!0),{className:y,d:OD(l,c,i,o,s),ref:n})))})):r.createElement("g",null,r.createElement("path",jD({},mw(t,!0),{className:y,d:OD(s,l,c,u,d)})))};function AD(e){return AD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AD(e)}function ID(){return ID=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ID.apply(this,arguments)}function PD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PD(Object(n),!0).forEach((function(t){MD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function MD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=AD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==AD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var RD=function(e){var t=e.cx,n=e.cy,r=e.radius,i=e.angle,a=e.sign,o=e.isExternal,s=e.cornerRadius,l=e.cornerIsExternal,c=s*(o?1:-1)+r,u=Math.asin(s/c)/NP,d=l?i:i+a*u,h=l?i-a*u:i;return{center:IP(t,n,c,d),circleTangency:IP(t,n,r,d),lineTangency:IP(t,n,c*Math.cos(u*NP),h),theta:u}},LD=function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.startAngle,o=function(e,t){return _x(t-e)*Math.min(Math.abs(t-e),359.999)}(a,e.endAngle),s=a+o,l=IP(t,n,i,a),c=IP(t,n,i,s),u="M ".concat(l.x,",").concat(l.y,"\n    A ").concat(i,",").concat(i,",0,\n    ").concat(+(Math.abs(o)>180),",").concat(+(a>s),",\n    ").concat(c.x,",").concat(c.y,"\n  ");if(r>0){var d=IP(t,n,r,a),h=IP(t,n,r,s);u+="L ".concat(h.x,",").concat(h.y,"\n            A ").concat(r,",").concat(r,",0,\n            ").concat(+(Math.abs(o)>180),",").concat(+(a<=s),",\n            ").concat(d.x,",").concat(d.y," Z")}else u+="L ".concat(t,",").concat(n," Z");return u},FD={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},UD=function(e){var t=DD(DD({},FD),e),n=t.cx,i=t.cy,a=t.innerRadius,o=t.outerRadius,s=t.cornerRadius,l=t.forceCornerRadius,c=t.cornerIsExternal,u=t.startAngle,d=t.endAngle,h=t.className;if(o<a||u===d)return null;var f,p=vx("recharts-sector",h),m=o-a,g=Mx(s,m,0,!0);return f=g>0&&Math.abs(u-d)<360?function(e){var t=e.cx,n=e.cy,r=e.innerRadius,i=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,s=e.cornerIsExternal,l=e.startAngle,c=e.endAngle,u=_x(c-l),d=RD({cx:t,cy:n,radius:i,angle:l,sign:u,cornerRadius:a,cornerIsExternal:s}),h=d.circleTangency,f=d.lineTangency,p=d.theta,m=RD({cx:t,cy:n,radius:i,angle:c,sign:-u,cornerRadius:a,cornerIsExternal:s}),g=m.circleTangency,y=m.lineTangency,v=m.theta,b=s?Math.abs(l-c):Math.abs(l-c)-p-v;if(b<0)return o?"M ".concat(f.x,",").concat(f.y,"\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*a,",0\n        a").concat(a,",").concat(a,",0,0,1,").concat(2*-a,",0\n      "):LD({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var x="M ".concat(f.x,",").concat(f.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(h.x,",").concat(h.y,"\n    A").concat(i,",").concat(i,",0,").concat(+(b>180),",").concat(+(u<0),",").concat(g.x,",").concat(g.y,"\n    A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,"\n  ");if(r>0){var w=RD({cx:t,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),j=w.circleTangency,S=w.lineTangency,k=w.theta,E=RD({cx:t,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:a,cornerIsExternal:s}),T=E.circleTangency,C=E.lineTangency,O=E.theta,_=s?Math.abs(l-c):Math.abs(l-c)-k-O;if(_<0&&0===a)return"".concat(x,"L").concat(t,",").concat(n,"Z");x+="L".concat(C.x,",").concat(C.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(T.x,",").concat(T.y,"\n      A").concat(r,",").concat(r,",0,").concat(+(_>180),",").concat(+(u>0),",").concat(j.x,",").concat(j.y,"\n      A").concat(a,",").concat(a,",0,0,").concat(+(u<0),",").concat(S.x,",").concat(S.y,"Z")}else x+="L".concat(t,",").concat(n,"Z");return x}({cx:n,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):LD({cx:n,cy:i,innerRadius:a,outerRadius:o,startAngle:u,endAngle:d}),r.createElement("path",ID({},mw(t,!0),{className:p,d:f,role:"img"}))},BD=["option","shapeType","propTransformer","activeClassName","isActive"];function zD(e){return zD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zD(e)}function VD(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function $D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function qD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$D(Object(n),!0).forEach((function(t){HD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function HD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=zD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==zD(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WD(e,t){return qD(qD({},t),e)}function KD(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return r.createElement(NE,n);case"trapezoid":return r.createElement(ND,n);case"sector":return r.createElement(UD,n);case"symbols":if(function(e){return"symbols"===e}(t))return r.createElement(gS,n);break;default:return null}}function GD(e){var t,n=e.option,i=e.shapeType,a=e.propTransformer,o=void 0===a?WD:a,s=e.activeClassName,l=void 0===s?"recharts-active-shape":s,c=e.isActive,u=VD(e,BD);if((0,r.isValidElement)(n))t=(0,r.cloneElement)(n,qD(qD({},u),function(e){return(0,r.isValidElement)(e)?e.props:e}(n)));else if($x()(n))t=n(u);else if(vD()(n)&&!xD()(n)){var d=o(n,u);t=r.createElement(KD,{shapeType:i,elementProps:d})}else{var h=u;t=r.createElement(KD,{shapeType:i,elementProps:h})}return c?r.createElement(Bw,{className:l},t):t}function YD(e,t){return null!=t&&"trapezoids"in e.props}function QD(e,t){return null!=t&&"sectors"in e.props}function XD(e,t){return null!=t&&"points"in e.props}function ZD(e,t){var n,r,i=e.x===(null===t||void 0===t||null===(n=t.labelViewBox)||void 0===n?void 0:n.x)||e.x===t.x,a=e.y===(null===t||void 0===t||null===(r=t.labelViewBox)||void 0===r?void 0:r.y)||e.y===t.y;return i&&a}function JD(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function eM(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function tM(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=function(e,t){var n;return YD(e,t)?n="trapezoids":QD(e,t)?n="sectors":XD(e,t)&&(n="points"),n}(n,t),a=function(e,t){var n,r;return YD(e,t)?null===(n=t.tooltipPayload)||void 0===n||null===(n=n[0])||void 0===n||null===(n=n.payload)||void 0===n?void 0:n.payload:QD(e,t)?null===(r=t.tooltipPayload)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.payload)||void 0===r?void 0:r.payload:XD(e,t)?t.payload:{}}(n,t),o=r.filter((function(e,r){var o=DA()(a,e),s=n.props[i].filter((function(e){var r=function(e,t){var n;return YD(e,t)?n=ZD:QD(e,t)?n=JD:XD(e,t)&&(n=eM),n}(n,t);return r(e,t)})),l=n.props[i].indexOf(s[s.length-1]);return o&&r===l}));return r.indexOf(o[o.length-1])}var nM=["x","y"];function rM(e){return rM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rM(e)}function iM(){return iM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iM.apply(this,arguments)}function aM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aM(Object(n),!0).forEach((function(t){sM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sM(e,t,n){return t=function(e){var t=function(e,t){if("object"!=rM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==rM(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function cM(e,t){var n=e.x,r=e.y,i=lM(e,nM),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),c="".concat(t.height||i.height),u=parseInt(c,10),d="".concat(t.width||i.width),h=parseInt(d,10);return oM(oM(oM(oM(oM({},t),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:u,width:h,name:t.name,radius:t.radius})}function uM(e){return r.createElement(GD,iM({shapeType:"rectangle",propTransformer:cM,activeClassName:"recharts-active-bar"},e))}var dM,hM=["value","background"];function fM(e){return fM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fM(e)}function pM(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mM(){return mM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mM.apply(this,arguments)}function gM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gM(Object(n),!0).forEach((function(t){SM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kM(r.key),r)}}function bM(e,t,n){return t=wM(t),function(e,t){if(t&&("object"===fM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,xM()?Reflect.construct(t,n||[],wM(e).constructor):t.apply(e,n))}function xM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xM=function(){return!!e})()}function wM(e){return wM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wM(e)}function jM(e,t){return jM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},jM(e,t)}function SM(e,t,n){return(t=kM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kM(e){var t=function(e,t){if("object"!=fM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==fM(t)?t:t+""}var EM=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return SM(e=bM(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),SM(e,"id",Dx("recharts-bar-")),SM(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),t&&t()})),SM(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),t&&t()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jM(e,t)}(t,e),n=t,i=[{key:"renderRectanglesStatically",value:function(e){var t=this,n=this.props,i=n.shape,a=n.dataKey,o=n.activeIndex,s=n.activeBar,l=mw(this.props,!1);return e&&e.map((function(e,n){var c=n===o,u=c?s:i,d=yM(yM(yM({},l),e),{},{isActive:c,option:u,index:n,dataKey:a,onAnimationStart:t.handleAnimationStart,onAnimationEnd:t.handleAnimationEnd});return r.createElement(Bw,mM({className:"recharts-bar-rectangle"},ew(t.props,e,n),{key:"rectangle-".concat(null===e||void 0===e?void 0:e.x,"-").concat(null===e||void 0===e?void 0:e.y,"-").concat(null===e||void 0===e?void 0:e.value)}),r.createElement(uM,d))}))}},{key:"renderRectanglesWithAnimation",value:function(){var e=this,t=this.props,n=t.data,i=t.layout,a=t.isAnimationActive,o=t.animationBegin,s=t.animationDuration,l=t.animationEasing,c=t.animationId,u=this.state.prevData;return r.createElement(bE,{begin:o,duration:s,isActive:a,easing:l,from:{t:0},to:{t:1},key:"bar-".concat(c),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var a=t.t,o=n.map((function(e,t){var n=u&&u[t];if(n){var r=Lx(n.x,e.x),o=Lx(n.y,e.y),s=Lx(n.width,e.width),l=Lx(n.height,e.height);return yM(yM({},e),{},{x:r(a),y:o(a),width:s(a),height:l(a)})}if("horizontal"===i){var c=Lx(0,e.height)(a);return yM(yM({},e),{},{y:e.y+e.height-c,height:c})}var d=Lx(0,e.width)(a);return yM(yM({},e),{},{width:d})}));return r.createElement(Bw,null,e.renderRectanglesStatically(o))}))}},{key:"renderRectangles",value:function(){var e=this.props,t=e.data,n=e.isAnimationActive,r=this.state.prevData;return!(n&&t&&t.length)||r&&DA()(r,t)?this.renderRectanglesStatically(t):this.renderRectanglesWithAnimation()}},{key:"renderBackground",value:function(){var e=this,t=this.props,n=t.data,i=t.dataKey,a=t.activeIndex,o=mw(this.props.background,!1);return n.map((function(t,n){t.value;var s=t.background,l=pM(t,hM);if(!s)return null;var c=yM(yM(yM(yM(yM({},l),{},{fill:"#eee"},s),o),ew(e.props,t,n)),{},{onAnimationStart:e.handleAnimationStart,onAnimationEnd:e.handleAnimationEnd,dataKey:i,index:n,className:"recharts-bar-background-rectangle"});return r.createElement(uM,mM({key:"background-bar-".concat(n),option:e.props.background,isActive:n===a},c))}))}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.data,a=n.xAxis,o=n.yAxis,s=n.layout,l=uw(n.children,SI);if(!l)return null;var c="vertical"===s?i[0].height/2:i[0].width/2,u=function(e,t){var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:MI(e,t)}},d={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(Bw,d,l.map((function(e){return r.cloneElement(e,{key:"error-bar-".concat(t,"-").concat(e.props.dataKey),data:i,xAxis:a,yAxis:o,layout:s,offset:c,dataPointFormatter:u})})))}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.data,i=e.className,a=e.xAxis,o=e.yAxis,s=e.left,l=e.top,c=e.width,u=e.height,d=e.isAnimationActive,h=e.background,f=e.id;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=vx("recharts-bar",i),g=a&&a.allowDataOverflow,y=o&&o.allowDataOverflow,v=g||y,b=zx()(f)?this.id:f;return r.createElement(Bw,{className:m},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:g?s:s-c/2,y:y?l:l-u/2,width:g?c:2*c,height:y?u:2*u}))):null,r.createElement(Bw,{className:"recharts-bar-rectangles",clipPath:v?"url(#clipPath-".concat(b,")"):null},h?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(v,b),(!d||p)&&gD.renderCallByParent(this.props,n))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curData:e.data,prevData:t.curData}:e.data!==t.curData?{curData:e.data}:null}}],i&&vM(n.prototype,i),a&&vM(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function TM(e){return TM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},TM(e)}function CM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,AM(r.key),r)}}function OM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?OM(Object(n),!0).forEach((function(t){NM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function NM(e,t,n){return(t=AM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AM(e){var t=function(e,t){if("object"!=TM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==TM(t)?t:t+""}dM=EM,SM(EM,"displayName","Bar"),SM(EM,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!fj.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"}),SM(EM,"getComposedData",(function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,a=e.xAxis,o=e.yAxis,s=e.xAxisTicks,l=e.yAxisTicks,c=e.stackedData,u=e.dataStartIndex,d=e.displayedData,h=e.offset,f=function(e,t){if(!e)return null;for(var n=0,r=e.length;n<r;n++)if(e[n].item===t)return e[n].position;return null}(r,n);if(!f)return null;var p=t.layout,m=n.type.defaultProps,g=void 0!==m?yM(yM({},m),n.props):n.props,y=g.dataKey,v=g.children,b=g.minPointSize,x="horizontal"===p?o:a,w=c?x.scale.domain():null,j=function(e){var t=e.numericAxis,n=t.scale.domain();if("number"===t.type){var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return r<=0&&i>=0?0:i<0?i:r}return n[0]}({numericAxis:x}),S=uw(v,nD),k=d.map((function(e,t){var r,d,h,m,g,v;c?r=function(e,t){if(!t||2!==t.length||!Ax(t[0])||!Ax(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),i=[e[0],e[1]];return(!Ax(e[0])||e[0]<n)&&(i[0]=n),(!Ax(e[1])||e[1]>r)&&(i[1]=r),i[0]>r&&(i[0]=r),i[1]<n&&(i[1]=n),i}(c[u+t],w):(r=MI(e,y),Array.isArray(r)||(r=[j,r]));var x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n,r){if("number"===typeof e)return e;var i="number"===typeof n;return i?e(n,r):(i||Iw(!1),t)}}(b,dM.defaultProps.minPointSize)(r[1],t);if("horizontal"===p){var k,E=[o.scale(r[0]),o.scale(r[1])],T=E[0],C=E[1];d=ZI({axis:a,ticks:s,bandSize:i,offset:f.offset,entry:e,index:t}),h=null!==(k=null!==C&&void 0!==C?C:T)&&void 0!==k?k:void 0,m=f.size;var O=T-C;if(g=Number.isNaN(O)?0:O,v={x:d,y:o.y,width:m,height:o.height},Math.abs(x)>0&&Math.abs(g)<Math.abs(x)){var _=_x(g||x)*(Math.abs(x)-Math.abs(g));h-=_,g+=_}}else{var N=[a.scale(r[0]),a.scale(r[1])],A=N[0],I=N[1];if(d=A,h=ZI({axis:o,ticks:l,bandSize:i,offset:f.offset,entry:e,index:t}),m=I-A,g=f.size,v={x:a.x,y:h,width:a.width,height:g},Math.abs(x)>0&&Math.abs(m)<Math.abs(x))m+=_x(m||x)*(Math.abs(x)-Math.abs(m))}return yM(yM(yM({},e),{},{x:d,y:h,width:m,height:g,value:c?r:r[1],payload:e,background:v},S&&S[t]&&S[t].props),{},{tooltipPayload:[aP(n,e)],tooltipPosition:{x:d+m/2,y:h+g/2}})}));return yM({data:k,layout:p},h)}));var IM=function(e,t,n,r,i){var a=e.width,o=e.height,s=e.layout,l=e.children,c=Object.keys(t),u={left:n.left,leftMirror:n.left,right:a-n.right,rightMirror:a-n.right,top:n.top,topMirror:n.top,bottom:o-n.bottom,bottomMirror:o-n.bottom},d=!!dw(l,EM);return c.reduce((function(a,o){var l,c,h,f,p,m=t[o],g=m.orientation,y=m.domain,v=m.padding,b=void 0===v?{}:v,x=m.mirror,w=m.reversed,j="".concat(g).concat(x?"Mirror":"");if("number"===m.type&&("gap"===m.padding||"no-gap"===m.padding)){var S=y[1]-y[0],k=1/0,E=m.categoricalDomain.sort();if(E.forEach((function(e,t){t>0&&(k=Math.min((e||0)-(E[t-1]||0),k))})),Number.isFinite(k)){var T=k/S,C="vertical"===m.layout?n.height:n.width;if("gap"===m.padding&&(l=T*C/2),"no-gap"===m.padding){var O=Mx(e.barCategoryGap,T*C),_=T*C/2;l=_-O-(_-O)/C*O}}}c="xAxis"===r?[n.left+(b.left||0)+(l||0),n.left+n.width-(b.right||0)-(l||0)]:"yAxis"===r?"horizontal"===s?[n.top+n.height-(b.bottom||0),n.top+(b.top||0)]:[n.top+(b.top||0)+(l||0),n.top+n.height-(b.bottom||0)-(l||0)]:m.range,w&&(c=[c[1],c[0]]);var N=HI(m,i,d),A=N.scale,I=N.realScaleType;A.domain(y).range(c),KI(A);var P=QI(A,_M(_M({},m),{},{realScaleType:I}));"xAxis"===r?(p="top"===g&&!x||"bottom"===g&&x,h=n.left,f=u[j]-p*m.height):"yAxis"===r&&(p="left"===g&&!x||"right"===g&&x,h=u[j]-p*m.width,f=n.top);var D=_M(_M(_M({},m),P),{},{realScaleType:I,x:h,y:f,scale:A,width:"xAxis"===r?n.width:m.width,height:"yAxis"===r?n.height:m.height});return D.bandSize=rP(D,P),m.hide||"xAxis"!==r?m.hide||(u[j]+=(p?-1:1)*D.width):u[j]+=(p?-1:1)*D.height,_M(_M({},a),{},NM({},o,D))}),{})},PM=function(e,t){var n=e.x,r=e.y,i=t.x,a=t.y;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},DM=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scale=t}return t=e,n=[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.bandAware,r=t.position;if(void 0!==e){if(r)switch(r){case"start":default:return this.scale(e);case"middle":var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i;case"end":var a=this.bandwidth?this.bandwidth():0;return this.scale(e)+a}if(n){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+o}return this.scale(e)}}},{key:"isInRange",value:function(e){var t=this.range(),n=t[0],r=t[t.length-1];return n<=r?e>=n&&e<=r:e>=r&&e<=n}}],r=[{key:"create",value:function(t){return new e(t)}}],n&&CM(t.prototype,n),r&&CM(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n,r}();NM(DM,"EPS",1e-4);var MM=function(e){var t=Object.keys(e).reduce((function(t,n){return _M(_M({},t),{},NM({},n,DM.create(e[n])))}),{});return _M(_M({},t),{},{apply:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.bandAware,i=n.position;return JP()(e,(function(e,n){return t[n].apply(e,{bandAware:r,position:i})}))},isInRange:function(e){return tD()(e,(function(e,n){return t[n].isInRange(e)}))}})};function RM(){return RM=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},RM.apply(this,arguments)}function LM(e){return LM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LM(e)}function FM(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UM(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FM(Object(n),!0).forEach((function(t){HM(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FM(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WM(r.key),r)}}function zM(e,t,n){return t=$M(t),function(e,t){if(t&&("object"===LM(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VM()?Reflect.construct(t,n||[],$M(e).constructor):t.apply(e,n))}function VM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(VM=function(){return!!e})()}function $M(e){return $M=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$M(e)}function qM(e,t){return qM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qM(e,t)}function HM(e,t,n){return(t=WM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WM(e){var t=function(e,t){if("object"!=LM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LM(t)?t:t+""}var KM=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),zM(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qM(e,t)}(t,e),n=t,i=[{key:"render",value:function(){var e=this.props,n=e.x,i=e.y,a=e.r,o=e.alwaysShow,s=e.clipPathId,l=Ix(n),c=Ix(i);if(Ux(void 0===o,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!l||!c)return null;var u=function(e){var t=e.x,n=e.y,r=e.xAxis,i=e.yAxis,a=MM({x:r.scale,y:i.scale}),o=a.apply({x:t,y:n},{bandAware:!0});return XP(e,"discard")&&!a.isInRange(o)?null:o}(this.props);if(!u)return null;var d=u.x,h=u.y,f=this.props,p=f.shape,m=f.className,g=UM(UM({clipPath:XP(this.props,"hidden")?"url(#".concat(s,")"):void 0},mw(this.props,!0)),{},{cx:d,cy:h});return r.createElement(Bw,{className:vx("recharts-reference-dot",m)},t.renderDot(p,g),YP.renderCallByParent(this.props,{x:d-a,y:h-a,width:2*a,height:2*a}))}}],i&&BM(n.prototype,i),a&&BM(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);HM(KM,"displayName","ReferenceDot"),HM(KM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1}),HM(KM,"renderDot",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):$x()(e)?e(t):r.createElement(qS,RM({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"}))}));var GM=n(4597),YM=n.n(GM),QM=n(8990),XM=n.n(QM),ZM=n(5797),JM=n.n(ZM)()((function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}}),(function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}));var eR=(0,r.createContext)(void 0),tR=(0,r.createContext)(void 0),nR=(0,r.createContext)(void 0),rR=(0,r.createContext)({}),iR=(0,r.createContext)(void 0),aR=(0,r.createContext)(0),oR=(0,r.createContext)(0),sR=function(e){var t=e.state,n=t.xAxisMap,i=t.yAxisMap,a=t.offset,o=e.clipPathId,s=e.children,l=e.width,c=e.height,u=JM(a);return r.createElement(eR.Provider,{value:n},r.createElement(tR.Provider,{value:i},r.createElement(rR.Provider,{value:a},r.createElement(nR.Provider,{value:u},r.createElement(iR.Provider,{value:o},r.createElement(aR.Provider,{value:c},r.createElement(oR.Provider,{value:l},s)))))))};var lR=function(e){var t=(0,r.useContext)(eR);null==t&&Iw(!1);var n=t[e];return null==n&&Iw(!1),n},cR=function(e){var t=(0,r.useContext)(tR);null==t&&Iw(!1);var n=t[e];return null==n&&Iw(!1),n},uR=function(){return(0,r.useContext)(oR)},dR=function(){return(0,r.useContext)(aR)};function hR(e){return hR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hR(e)}function fR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wR(r.key),r)}}function pR(e,t,n){return t=gR(t),function(e,t){if(t&&("object"===hR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,mR()?Reflect.construct(t,n||[],gR(e).constructor):t.apply(e,n))}function mR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mR=function(){return!!e})()}function gR(e){return gR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},gR(e)}function yR(e,t){return yR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yR(e,t)}function vR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function bR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vR(Object(n),!0).forEach((function(t){xR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xR(e,t,n){return(t=wR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wR(e){var t=function(e,t){if("object"!=hR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==hR(t)?t:t+""}function jR(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return SR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SR(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function SR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kR(){return kR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kR.apply(this,arguments)}function ER(e){var t=e.x,n=e.y,i=e.segment,a=e.xAxisId,o=e.yAxisId,s=e.shape,l=e.className,c=e.alwaysShow,u=(0,r.useContext)(iR),d=lR(a),h=cR(o),f=(0,r.useContext)(nR);if(!u||!f)return null;Ux(void 0===c,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=function(e,t,n,r,i,a,o,s,l){var c=i.x,u=i.y,d=i.width,h=i.height;if(n){var f=l.y,p=e.y.apply(f,{position:a});if(XP(l,"discard")&&!e.y.isInRange(p))return null;var m=[{x:c+d,y:p},{x:c,y:p}];return"left"===s?m.reverse():m}if(t){var g=l.x,y=e.x.apply(g,{position:a});if(XP(l,"discard")&&!e.x.isInRange(y))return null;var v=[{x:y,y:u+h},{x:y,y:u}];return"top"===o?v.reverse():v}if(r){var b=l.segment.map((function(t){return e.apply(t,{position:a})}));return XP(l,"discard")&&YM()(b,(function(t){return!e.isInRange(t)}))?null:b}return null}(MM({x:d.scale,y:h.scale}),Ix(t),Ix(n),i&&2===i.length,f,e.position,d.orientation,h.orientation,e);if(!p)return null;var m=jR(p,2),g=m[0],y=g.x,v=g.y,b=m[1],x=b.x,w=b.y,j=bR(bR({clipPath:XP(e,"hidden")?"url(#".concat(u,")"):void 0},mw(e,!0)),{},{x1:y,y1:v,x2:x,y2:w});return r.createElement(Bw,{className:vx("recharts-reference-line",l)},function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):$x()(e)?e(t):r.createElement("line",kR({},t,{className:"recharts-reference-line-line"}))}(s,j),YP.renderCallByParent(e,function(e){var t=e.x1,n=e.y1,r=e.x2,i=e.y2;return PM({x:t,y:n},{x:r,y:i})}({x1:y,y1:v,x2:x,y2:w})))}var TR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),pR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yR(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(ER,this.props)}}])&&fR(n.prototype,i),a&&fR(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function CR(){return CR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CR.apply(this,arguments)}function OR(e){return OR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},OR(e)}function _R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_R(Object(n),!0).forEach((function(t){RR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,LR(r.key),r)}}function IR(e,t,n){return t=DR(t),function(e,t){if(t&&("object"===OR(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,PR()?Reflect.construct(t,n||[],DR(e).constructor):t.apply(e,n))}function PR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(PR=function(){return!!e})()}function DR(e){return DR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},DR(e)}function MR(e,t){return MR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},MR(e,t)}function RR(e,t,n){return(t=LR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LR(e){var t=function(e,t){if("object"!=OR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==OR(t)?t:t+""}xR(TR,"displayName","ReferenceLine"),xR(TR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});var FR=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),IR(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MR(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){var e=this.props,n=e.x1,i=e.x2,a=e.y1,o=e.y2,s=e.className,l=e.alwaysShow,c=e.clipPathId;Ux(void 0===l,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var u=Ix(n),d=Ix(i),h=Ix(a),f=Ix(o),p=this.props.shape;if(!u&&!d&&!h&&!f&&!p)return null;var m=function(e,t,n,r,i){var a=i.x1,o=i.x2,s=i.y1,l=i.y2,c=i.xAxis,u=i.yAxis;if(!c||!u)return null;var d=MM({x:c.scale,y:u.scale}),h={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:n?d.y.apply(s,{position:"start"}):d.y.rangeMin},f={x:t?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:r?d.y.apply(l,{position:"end"}):d.y.rangeMax};return!XP(i,"discard")||d.isInRange(h)&&d.isInRange(f)?PM(h,f):null}(u,d,h,f,this.props);if(!m&&!p)return null;var g=XP(this.props,"hidden")?"url(#".concat(c,")"):void 0;return r.createElement(Bw,{className:vx("recharts-reference-area",s)},t.renderRect(p,NR(NR({clipPath:g},mw(this.props,!0)),m)),YP.renderCallByParent(this.props,m))}}])&&AR(n.prototype,i),a&&AR(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function UR(e){return function(e){if(Array.isArray(e))return BR(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return BR(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BR(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function BR(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}RR(FR,"displayName","ReferenceArea"),RR(FR,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1}),RR(FR,"renderRect",(function(e,t){return r.isValidElement(e)?r.cloneElement(e,t):$x()(e)?e(t):r.createElement(NE,CR({},t,{className:"recharts-reference-area-rect"}))}));var zR=function(e,t,n,r,i){var a=uw(e,TR),o=uw(e,KM),s=[].concat(UR(a),UR(o)),l=uw(e,FR),c="".concat(r,"Id"),u=r[0],d=t;if(s.length&&(d=s.reduce((function(e,t){if(t.props[c]===n&&XP(t.props,"extendDomain")&&Ax(t.props[u])){var r=t.props[u];return[Math.min(e[0],r),Math.max(e[1],r)]}return e}),d)),l.length){var h="".concat(u,"1"),f="".concat(u,"2");d=l.reduce((function(e,t){if(t.props[c]===n&&XP(t.props,"extendDomain")&&Ax(t.props[h])&&Ax(t.props[f])){var r=t.props[h],i=t.props[f];return[Math.min(e[0],r,i),Math.max(e[1],r,i)]}return e}),d)}return i&&i.length&&(d=i.reduce((function(e,t){return Ax(t)?[Math.min(e[0],t),Math.max(e[1],t)]:e}),d)),d},VR=n(7283),$R=new(n.n(VR)()),qR="recharts.syncMouseEvents";function HR(e){return HR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},HR(e)}function WR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,GR(r.key),r)}}function KR(e,t,n){return(t=GR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GR(e){var t=function(e,t){if("object"!=HR(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HR(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==HR(t)?t:t+""}var YR=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),KR(this,"activeIndex",0),KR(this,"coordinateList",[]),KR(this,"layout","horizontal")},t=[{key:"setDetails",value:function(e){var t,n=e.coordinateList,r=void 0===n?null:n,i=e.container,a=void 0===i?null:i,o=e.layout,s=void 0===o?null:o,l=e.offset,c=void 0===l?null:l,u=e.mouseHandlerCallback,d=void 0===u?null:u;this.coordinateList=null!==(t=null!==r&&void 0!==r?r:this.coordinateList)&&void 0!==t?t:[],this.container=null!==a&&void 0!==a?a:this.container,this.layout=null!==s&&void 0!==s?s:this.layout,this.offset=null!==c&&void 0!==c?c:this.offset,this.mouseHandlerCallback=null!==d&&void 0!==d?d:this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(e){if(0!==this.coordinateList.length)switch(e.key){case"ArrowRight":if("horizontal"!==this.layout)return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break;case"ArrowLeft":if("horizontal"!==this.layout)return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse()}}},{key:"setIndex",value:function(e){this.activeIndex=e}},{key:"spoofMouse",value:function(){var e,t;if("horizontal"===this.layout&&0!==this.coordinateList.length){var n=this.container.getBoundingClientRect(),r=n.x,i=n.y,a=n.height,o=this.coordinateList[this.activeIndex].coordinate,s=(null===(e=window)||void 0===e?void 0:e.scrollX)||0,l=(null===(t=window)||void 0===t?void 0:t.scrollY)||0,c=r+o+s,u=i+this.offset.top+a/2+l;this.mouseHandlerCallback({pageX:c,pageY:u})}}}],t&&WR(e.prototype,t),n&&WR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function QR(){}function XR(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function ZR(e){this._context=e}function JR(e){this._context=e}function eL(e){this._context=e}ZR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:XR(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:XR(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},JR.prototype={areaStart:QR,areaEnd:QR,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:XR(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}},eL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:XR(this,e,t)}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};class tL{constructor(e,t){this._context=e,this._x=t}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,t,e,t):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+t)/2,e,this._y0,e,t)}this._x0=e,this._y0=t}}function nL(e){this._context=e}function rL(e){this._context=e}function iL(e){return new rL(e)}function aL(e){return e<0?-1:1}function oL(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(aL(a)+aL(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function sL(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function lL(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,s=(a-r)/3;e._context.bezierCurveTo(r+s,i+s*t,a-s,o-s*n,a,o)}function cL(e){this._context=e}function uL(e){this._context=new dL(e)}function dL(e){this._context=e}function hL(e){this._context=e}function fL(e){var t,n,r=e.length-1,i=new Array(r),a=new Array(r),o=new Array(r);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[r-1]=2,a[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=i[t]/a[t-1],a[t]-=n,o[t]-=n*o[t-1];for(i[r-1]=o[r-1]/a[r-1],t=r-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[r-1]=(e[r]+i[r-1])/2,t=0;t<r-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function pL(e,t){this._context=e,this._t=t}function mL(e){return e[0]}function gL(e){return e[1]}function yL(e,t){var n=Jj(!0),r=null,i=iL,a=null,o=oS(s);function s(s){var l,c,u,d=(s=SA(s)).length,h=!1;for(null==r&&(a=i(u=o())),l=0;l<=d;++l)!(l<d&&n(c=s[l],l,s))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(c,l,s),+t(c,l,s));if(u)return a=null,u+""||null}return e="function"===typeof e?e:void 0===e?mL:Jj(e),t="function"===typeof t?t:void 0===t?gL:Jj(t),s.x=function(t){return arguments.length?(e="function"===typeof t?t:Jj(+t),s):e},s.y=function(e){return arguments.length?(t="function"===typeof e?e:Jj(+e),s):t},s.defined=function(e){return arguments.length?(n="function"===typeof e?e:Jj(!!e),s):n},s.curve=function(e){return arguments.length?(i=e,null!=r&&(a=i(r)),s):i},s.context=function(e){return arguments.length?(null==e?r=a=null:a=i(r=e),s):r},s}function vL(e,t,n){var r=null,i=Jj(!0),a=null,o=iL,s=null,l=oS(c);function c(c){var u,d,h,f,p,m=(c=SA(c)).length,g=!1,y=new Array(m),v=new Array(m);for(null==a&&(s=o(p=l())),u=0;u<=m;++u){if(!(u<m&&i(f=c[u],u,c))===g)if(g=!g)d=u,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),h=u-1;h>=d;--h)s.point(y[h],v[h]);s.lineEnd(),s.areaEnd()}g&&(y[u]=+e(f,u,c),v[u]=+t(f,u,c),s.point(r?+r(f,u,c):y[u],n?+n(f,u,c):v[u]))}if(p)return s=null,p+""||null}function u(){return yL().defined(i).curve(o).context(a)}return e="function"===typeof e?e:void 0===e?mL:Jj(+e),t="function"===typeof t?t:Jj(void 0===t?0:+t),n="function"===typeof n?n:void 0===n?gL:Jj(+n),c.x=function(t){return arguments.length?(e="function"===typeof t?t:Jj(+t),r=null,c):e},c.x0=function(t){return arguments.length?(e="function"===typeof t?t:Jj(+t),c):e},c.x1=function(e){return arguments.length?(r=null==e?null:"function"===typeof e?e:Jj(+e),c):r},c.y=function(e){return arguments.length?(t="function"===typeof e?e:Jj(+e),n=null,c):t},c.y0=function(e){return arguments.length?(t="function"===typeof e?e:Jj(+e),c):t},c.y1=function(e){return arguments.length?(n=null==e?null:"function"===typeof e?e:Jj(+e),c):n},c.lineX0=c.lineY0=function(){return u().x(e).y(t)},c.lineY1=function(){return u().x(e).y(n)},c.lineX1=function(){return u().x(r).y(t)},c.defined=function(e){return arguments.length?(i="function"===typeof e?e:Jj(!!e),c):i},c.curve=function(e){return arguments.length?(o=e,null!=a&&(s=o(a)),c):o},c.context=function(e){return arguments.length?(null==e?a=s=null:s=o(a=e),c):a},c}function bL(e){return bL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bL(e)}function xL(){return xL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xL.apply(this,arguments)}function wL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wL(Object(n),!0).forEach((function(t){SL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function SL(e,t,n){return t=function(e){var t=function(e,t){if("object"!=bL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==bL(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}nL.prototype={areaStart:QR,areaEnd:QR,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}},rL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t)}}},cL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lL(this,this._t0,sL(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(t=+t,(e=+e)!==this._x1||t!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,lL(this,sL(this,n=oL(this,e,t)),n);break;default:lL(this,this._t0,n=oL(this,e,t))}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}},(uL.prototype=Object.create(cL.prototype)).point=function(e,t){cL.prototype.point.call(this,t,e)},dL.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}},hL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),2===n)this._context.lineTo(e[1],t[1]);else for(var r=fL(e),i=fL(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}},pL.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}}this._x=e,this._y=t}};var kL={curveBasisClosed:function(e){return new JR(e)},curveBasisOpen:function(e){return new eL(e)},curveBasis:function(e){return new ZR(e)},curveBumpX:function(e){return new tL(e,!0)},curveBumpY:function(e){return new tL(e,!1)},curveLinearClosed:function(e){return new nL(e)},curveLinear:iL,curveMonotoneX:function(e){return new cL(e)},curveMonotoneY:function(e){return new uL(e)},curveNatural:function(e){return new hL(e)},curveStep:function(e){return new pL(e,.5)},curveStepAfter:function(e){return new pL(e,1)},curveStepBefore:function(e){return new pL(e,0)}},EL=function(e){return e.x===+e.x&&e.y===+e.y},TL=function(e){return e.x},CL=function(e){return e.y},OL=function(e){var t,n=e.type,r=void 0===n?"linear":n,i=e.points,a=void 0===i?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,c=void 0!==l&&l,u=function(e,t){if($x()(e))return e;var n="curve".concat(Nj()(e));return"curveMonotone"!==n&&"curveBump"!==n||!t?kL[n]||iL:kL["".concat(n).concat("vertical"===t?"Y":"X")]}(r,s),d=c?a.filter((function(e){return EL(e)})):a;if(Array.isArray(o)){var h=c?o.filter((function(e){return EL(e)})):o,f=d.map((function(e,t){return jL(jL({},e),{},{base:h[t]})}));return(t="vertical"===s?vL().y(CL).x1(TL).x0((function(e){return e.base.x})):vL().x(TL).y1(CL).y0((function(e){return e.base.y}))).defined(EL).curve(u),t(f)}return(t="vertical"===s&&Ax(o)?vL().y(CL).x1(TL).x0(o):Ax(o)?vL().x(TL).y1(CL).y0(o):yL().x(TL).y(CL)).defined(EL).curve(u),t(d)},_L=function(e){var t=e.className,n=e.points,i=e.path,a=e.pathRef;if((!n||!n.length)&&!i)return null;var o=n&&n.length?OL(e):i;return r.createElement("path",xL({},mw(e,!1),Jx(e),{className:vx("recharts-curve",t),d:o,ref:a}))};function NL(e){return NL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NL(e)}var AL=["x","y","top","left","width","height","className"];function IL(){return IL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IL.apply(this,arguments)}function PL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function DL(e,t,n){return t=function(e){var t=function(e,t){if("object"!=NL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=NL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==NL(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ML(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var RL=function(e,t,n,r,i,a){return"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n)},LL=function(e){var t=e.x,n=void 0===t?0:t,i=e.y,a=void 0===i?0:i,o=e.top,s=void 0===o?0:o,l=e.left,c=void 0===l?0:l,u=e.width,d=void 0===u?0:u,h=e.height,f=void 0===h?0:h,p=e.className,m=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?PL(Object(n),!0).forEach((function(t){DL(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):PL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({x:n,y:a,top:s,left:c,width:d,height:f},ML(e,AL));return Ax(n)&&Ax(a)&&Ax(d)&&Ax(f)&&Ax(s)&&Ax(c)?r.createElement("path",IL({},mw(m,!0),{className:vx("recharts-cross",p),d:RL(n,a,d,f,s,c)})):null};function FL(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,a=e.endAngle;return{points:[IP(t,n,r,i),IP(t,n,r,a)],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}function UL(e,t,n){var r,i,a,o;if("horizontal"===e)a=r=t.x,i=n.top,o=n.top+n.height;else if("vertical"===e)o=i=t.y,r=n.left,a=n.left+n.width;else if(null!=t.cx&&null!=t.cy){if("centric"!==e)return FL(t);var s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.angle,h=IP(s,l,c,d),f=IP(s,l,u,d);r=h.x,i=h.y,a=f.x,o=f.y}return[{x:r,y:i},{x:a,y:o}]}function BL(e){return BL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},BL(e)}function zL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function VL(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zL(Object(n),!0).forEach((function(t){$L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zL(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $L(e,t,n){return t=function(e){var t=function(e,t){if("object"!=BL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=BL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==BL(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qL(e){var t,n,i,a=e.element,o=e.tooltipEventType,s=e.isActive,l=e.activeCoordinate,c=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,f=e.layout,p=e.chartName,m=null!==(t=a.props.cursor)&&void 0!==t?t:null===(n=a.type.defaultProps)||void 0===n?void 0:n.cursor;if(!a||!m||!s||!l||"ScatterChart"!==p&&"axis"!==o)return null;var g=_L;if("ScatterChart"===p)i=l,g=LL;else if("BarChart"===p)i=function(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:"horizontal"===e?t.x-i:n.left+.5,y:"horizontal"===e?n.top+.5:t.y-i,width:"horizontal"===e?r:n.width-1,height:"horizontal"===e?n.height-1:r}}(f,l,u,h),g=NE;else if("radial"===f){var y=FL(l),v=y.cx,b=y.cy,x=y.radius;i={cx:v,cy:b,startAngle:y.startAngle,endAngle:y.endAngle,innerRadius:x,outerRadius:x},g=UD}else i={points:UL(f,l,u)},g=_L;var w=VL(VL(VL(VL({stroke:"#ccc",pointerEvents:"none"},u),i),mw(m,!1)),{},{payload:c,payloadIndex:d,className:vx("recharts-tooltip-cursor",m.className)});return(0,r.isValidElement)(m)?(0,r.cloneElement)(m,w):(0,r.createElement)(g,w)}var HL=["item"],WL=["children","className","width","height","style","compact","title","desc"];function KL(e){return KL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},KL(e)}function GL(){return GL=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GL.apply(this,arguments)}function YL(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],l=!0,c=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);l=!0);}catch(e){c=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(c)throw i}}return s}}(e,t)||rF(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function QL(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function XL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lF(r.key),r)}}function ZL(e,t,n){return t=eF(t),function(e,t){if(t&&("object"===KL(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,JL()?Reflect.construct(t,n||[],eF(e).constructor):t.apply(e,n))}function JL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(JL=function(){return!!e})()}function eF(e){return eF=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},eF(e)}function tF(e,t){return tF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tF(e,t)}function nF(e){return function(e){if(Array.isArray(e))return iF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||rF(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rF(e,t){if(e){if("string"===typeof e)return iF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?iF(e,t):void 0}}function iF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?aF(Object(n),!0).forEach((function(t){sF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function sF(e,t,n){return(t=lF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lF(e){var t=function(e,t){if("object"!=KL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==KL(t)?t:t+""}var cF={xAxis:["bottom","top"],yAxis:["left","right"]},uF={width:"100%",height:"100%"},dF={x:0,y:0};function hF(e){return e}var fF=function(e,t){var n=t.graphicalItems,r=t.dataStartIndex,i=t.dataEndIndex,a=(null!==n&&void 0!==n?n:[]).reduce((function(e,t){var n=t.props.data;return n&&n.length?[].concat(nF(e),nF(n)):e}),[]);return a.length>0?a:e&&e.length&&Ax(r)&&Ax(i)?e.slice(r,i+1):[]};function pF(e){return"number"===e?[0,"auto"]:void 0}var mF=function(e,t,n,r){var i=e.graphicalItems,a=e.tooltipAxis,o=fF(t,e);return n<0||!i||!i.length||n>=o.length?null:i.reduce((function(i,s){var l,c,u=null!==(l=s.props.data)&&void 0!==l?l:t;(u&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(u=u.slice(e.dataStartIndex,e.dataEndIndex+1)),a.dataKey&&!a.allowDuplicatedCategory)?c=Fx(void 0===u?o:u,a.dataKey,r):c=u&&u[n]||o[n];return c?[].concat(nF(i),[aP(s,c)]):i}),[])},gF=function(e,t,n,r){var i=r||{x:e.chartX,y:e.chartY},a=function(e,t){return"horizontal"===t?e.x:"vertical"===t?e.y:"centric"===t?e.angle:e.radius}(i,n),o=e.orderedTooltipTicks,s=e.tooltipAxis,l=e.tooltipTicks,c=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=-1,o=null!==(t=null===n||void 0===n?void 0:n.length)&&void 0!==t?t:0;if(o<=1)return 0;if(i&&"angleAxis"===i.axisType&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var s=i.range,l=0;l<o;l++){var c=l>0?r[l-1].coordinate:r[o-1].coordinate,u=r[l].coordinate,d=l>=o-1?r[0].coordinate:r[l+1].coordinate,h=void 0;if(_x(u-c)!==_x(d-u)){var f=[];if(_x(d-u)===_x(s[1]-s[0])){h=d;var p=u+s[1]-s[0];f[0]=Math.min(p,(p+c)/2),f[1]=Math.max(p,(p+c)/2)}else{h=c;var m=d+s[1]-s[0];f[0]=Math.min(u,(m+u)/2),f[1]=Math.max(u,(m+u)/2)}var g=[Math.min(u,(h+u)/2),Math.max(u,(h+u)/2)];if(e>g[0]&&e<=g[1]||e>=f[0]&&e<=f[1]){a=r[l].index;break}}else{var y=Math.min(c,d),v=Math.max(c,d);if(e>(y+u)/2&&e<=(v+u)/2){a=r[l].index;break}}}else for(var b=0;b<o;b++)if(0===b&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b>0&&b<o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2&&e<=(n[b].coordinate+n[b+1].coordinate)/2||b===o-1&&e>(n[b].coordinate+n[b-1].coordinate)/2){a=n[b].index;break}return a}(a,o,l,s);if(c>=0&&l){var u=l[c]&&l[c].value,d=mF(e,t,c,u),h=function(e,t,n,r){var i=t.find((function(e){return e&&e.index===n}));if(i){if("horizontal"===e)return{x:i.coordinate,y:r.y};if("vertical"===e)return{x:r.x,y:i.coordinate};if("centric"===e){var a=i.coordinate,o=r.radius;return oF(oF(oF({},r),IP(r.cx,r.cy,o,a)),{},{angle:a,radius:o})}var s=i.coordinate,l=r.angle;return oF(oF(oF({},r),IP(r.cx,r.cy,s,l)),{},{angle:l,radius:s})}return dF}(n,o,c,i);return{activeTooltipIndex:c,activeLabel:u,activePayload:d,activeCoordinate:h}}return null},yF=function(e,t){var n=t.axes,r=t.graphicalItems,i=t.axisType,a=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=e.stackOffset,h=BI(c,i);return n.reduce((function(t,n){var f,p=void 0!==n.type.defaultProps?oF(oF({},n.type.defaultProps),n.props):n.props,m=p.type,g=p.dataKey,y=p.allowDataOverflow,v=p.allowDuplicatedCategory,b=p.scale,x=p.ticks,w=p.includeHidden,j=p[a];if(t[j])return t;var S,k,E,T=fF(e.data,{graphicalItems:r.filter((function(e){var t;return(a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a])===j})),dataStartIndex:s,dataEndIndex:l}),C=T.length;(function(e,t,n){if("number"===n&&!0===t&&Array.isArray(e)){var r=null===e||void 0===e?void 0:e[0],i=null===e||void 0===e?void 0:e[1];if(r&&i&&Ax(r)&&Ax(i))return!0}return!1})(p.domain,y,m)&&(S=nP(p.domain,null,y),!h||"number"!==m&&"auto"===b||(E=RI(T,g,"category")));var O=pF(m);if(!S||0===S.length){var _,N=null!==(_=p.domain)&&void 0!==_?_:O;if(g){if(S=RI(T,g,m),"category"===m&&h){var A=function(e){if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++){if(n[e[r]])return!0;n[e[r]]=!0}return!1}(S);v&&A?(k=S,S=Ow()(0,C)):v||(S=iP(N,S,n).reduce((function(e,t){return e.indexOf(t)>=0?e:[].concat(nF(e),[t])}),[]))}else if("category"===m)S=v?S.filter((function(e){return""!==e&&!zx()(e)})):iP(N,S,n).reduce((function(e,t){return e.indexOf(t)>=0||""===t||zx()(t)?e:[].concat(nF(e),[t])}),[]);else if("number"===m){var I=function(e,t,n,r,i){var a=t.map((function(t){return FI(e,t,n,i,r)})).filter((function(e){return!zx()(e)}));return a&&a.length?a.reduce((function(e,t){return[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}),[1/0,-1/0]):null}(T,r.filter((function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===j&&(w||!i)})),g,i,c);I&&(S=I)}!h||"number"!==m&&"auto"===b||(E=RI(T,g,"category"))}else S=h?Ow()(0,C):o&&o[j]&&o[j].hasStack&&"number"===m?"expand"===d?[0,1]:JI(o[j].stackGroups,s,l):UI(T,r.filter((function(e){var t=a in e.props?e.props[a]:e.type.defaultProps[a],n="hide"in e.props?e.props.hide:e.type.defaultProps.hide;return t===j&&(w||!n)})),m,c,!0);if("number"===m)S=zR(u,S,j,i,x),N&&(S=nP(N,S,y));else if("category"===m&&N){var P=N;S.every((function(e){return P.indexOf(e)>=0}))&&(S=P)}}return oF(oF({},t),{},sF({},j,oF(oF({},p),{},{axisType:i,domain:S,categoricalDomain:E,duplicateDomain:k,originalDomain:null!==(f=p.domain)&&void 0!==f?f:O,isCategorical:h,layout:c})))}),{})},vF=function(e,t){var n=t.axisType,r=void 0===n?"xAxis":n,i=t.AxisComp,a=t.graphicalItems,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.children,u="".concat(r,"Id"),d=uw(c,i),h={};return d&&d.length?h=yF(e,{axes:d,graphicalItems:a,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l}):a&&a.length&&(h=function(e,t){var n=t.graphicalItems,r=t.Axis,i=t.axisType,a=t.axisIdKey,o=t.stackGroups,s=t.dataStartIndex,l=t.dataEndIndex,c=e.layout,u=e.children,d=fF(e.data,{graphicalItems:n,dataStartIndex:s,dataEndIndex:l}),h=d.length,f=BI(c,i),p=-1;return n.reduce((function(e,t){var m,g=(void 0!==t.type.defaultProps?oF(oF({},t.type.defaultProps),t.props):t.props)[a],y=pF("number");return e[g]?e:(p++,f?m=Ow()(0,h):o&&o[g]&&o[g].hasStack?(m=JI(o[g].stackGroups,s,l),m=zR(u,m,g,i)):(m=nP(y,UI(d,n.filter((function(e){var t,n,r=a in e.props?e.props[a]:null===(t=e.type.defaultProps)||void 0===t?void 0:t[a],i="hide"in e.props?e.props.hide:null===(n=e.type.defaultProps)||void 0===n?void 0:n.hide;return r===g&&!i})),"number",c),r.defaultProps.allowDataOverflow),m=zR(u,m,g,i)),oF(oF({},e),{},sF({},g,oF(oF({axisType:i},r.defaultProps),{},{hide:!0,orientation:Tx()(cF,"".concat(i,".").concat(p%2),null),domain:m,originalDomain:y,isCategorical:f,layout:c}))))}),{})}(e,{Axis:i,graphicalItems:a,axisType:r,axisIdKey:u,stackGroups:o,dataStartIndex:s,dataEndIndex:l})),h},bF=function(e){var t=e.children,n=e.defaultShowTooltip,r=dw(t,SP),i=0,a=0;return e.data&&0!==e.data.length&&(a=e.data.length-1),r&&r.props&&(r.props.startIndex>=0&&(i=r.props.startIndex),r.props.endIndex>=0&&(a=r.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:Boolean(n)}},xF=function(e){return"horizontal"===e?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:"vertical"===e?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:"centric"===e?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},wF=function(e,t){var n=e.props,r=(e.graphicalItems,e.xAxisMap),i=void 0===r?{}:r,a=e.yAxisMap,o=void 0===a?{}:a,s=n.width,l=n.height,c=n.children,u=n.margin||{},d=dw(c,SP),h=dw(c,VS),f=Object.keys(o).reduce((function(e,t){var n=o[t],r=n.orientation;return n.mirror||n.hide?e:oF(oF({},e),{},sF({},r,e[r]+n.width))}),{left:u.left||0,right:u.right||0}),p=Object.keys(i).reduce((function(e,t){var n=i[t],r=n.orientation;return n.mirror||n.hide?e:oF(oF({},e),{},sF({},r,Tx()(e,"".concat(r))+n.height))}),{top:u.top||0,bottom:u.bottom||0}),m=oF(oF({},p),f),g=m.bottom;d&&(m.bottom+=d.props.height||SP.defaultProps.height),h&&t&&(m=function(e,t,n,r){var i=n.children,a=n.width,o=n.margin,s=a-(o.left||0)-(o.right||0),l=OI({children:i,legendWidth:s});if(l){var c=r||{},u=c.width,d=c.height,h=l.align,f=l.verticalAlign,p=l.layout;if(("vertical"===p||"horizontal"===p&&"middle"===f)&&"center"!==h&&Ax(e[h]))return PI(PI({},e),{},DI({},h,e[h]+(u||0)));if(("horizontal"===p||"vertical"===p&&"center"===h)&&"middle"!==f&&Ax(e[f]))return PI(PI({},e),{},DI({},f,e[f]+(d||0)))}return e}(m,0,n,t));var y=s-m.left-m.right,v=l-m.top-m.bottom;return oF(oF({brushBottom:g},m),{},{width:Math.max(y,0),height:Math.max(v,0)})},jF=function(e,t){return"xAxis"===t?e[t].width:"yAxis"===t?e[t].height:void 0},SF=function(e){var t=e.chartName,n=e.GraphicalChild,i=e.defaultTooltipEventType,a=void 0===i?"axis":i,o=e.validateTooltipEventTypes,s=void 0===o?["axis"]:o,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,h=function(e,t){var n=t.graphicalItems,r=t.stackGroups,i=t.offset,a=t.updateId,o=t.dataStartIndex,s=t.dataEndIndex,c=e.barSize,u=e.layout,d=e.barGap,h=e.barCategoryGap,f=e.maxBarSize,p=xF(u),m=p.numericAxisName,g=p.cateAxisName,y=function(e){return!(!e||!e.length)&&e.some((function(e){var t=ow(e&&e.type);return t&&t.indexOf("Bar")>=0}))}(n),v=[];return n.forEach((function(n,p){var b=fF(e.data,{graphicalItems:[n],dataStartIndex:o,dataEndIndex:s}),x=void 0!==n.type.defaultProps?oF(oF({},n.type.defaultProps),n.props):n.props,w=x.dataKey,j=x.maxBarSize,S=x["".concat(m,"Id")],k=x["".concat(g,"Id")],E=l.reduce((function(e,n){var r=t["".concat(n.axisType,"Map")],i=x["".concat(n.axisType,"Id")];r&&r[i]||"zAxis"===n.axisType||Iw(!1);var a=r[i];return oF(oF({},e),{},sF(sF({},n.axisType,a),"".concat(n.axisType,"Ticks"),VI(a)))}),{}),T=E[g],C=E["".concat(g,"Ticks")],O=r&&r[S]&&r[S].hasStack&&function(e,t){var n,r=(null!==(n=e.type)&&void 0!==n&&n.defaultProps?PI(PI({},e.type.defaultProps),e.props):e.props).stackId;if(Ix(r)){var i=t[r];if(i){var a=i.items.indexOf(e);return a>=0?i.stackedData[a]:null}}return null}(n,r[S].stackGroups),_=ow(n.type).indexOf("Bar")>=0,N=rP(T,C),A=[],I=y&&function(e){var t=e.barSize,n=e.totalSize,r=e.stackGroups,i=void 0===r?{}:r;if(!i)return{};for(var a={},o=Object.keys(i),s=0,l=o.length;s<l;s++)for(var c=i[o[s]].stackGroups,u=Object.keys(c),d=0,h=u.length;d<h;d++){var f=c[u[d]],p=f.items,m=f.cateAxisId,g=p.filter((function(e){return ow(e.type).indexOf("Bar")>=0}));if(g&&g.length){var y=g[0].type.defaultProps,v=void 0!==y?PI(PI({},y),g[0].props):g[0].props,b=v.barSize,x=v[m];a[x]||(a[x]=[]);var w=zx()(b)?t:b;a[x].push({item:g[0],stackList:g.slice(1),barSize:zx()(w)?void 0:Mx(w,n,0)})}}return a}({barSize:c,stackGroups:r,totalSize:jF(E,g)});if(_){var P,D,M=zx()(j)?f:j,R=null!==(P=null!==(D=rP(T,C,!0))&&void 0!==D?D:M)&&void 0!==P?P:0;A=function(e){var t=e.barGap,n=e.barCategoryGap,r=e.bandSize,i=e.sizeList,a=void 0===i?[]:i,o=e.maxBarSize,s=a.length;if(s<1)return null;var l,c=Mx(t,r,0,!0),u=[];if(a[0].barSize===+a[0].barSize){var d=!1,h=r/s,f=a.reduce((function(e,t){return e+t.barSize||0}),0);(f+=(s-1)*c)>=r&&(f-=(s-1)*c,c=0),f>=r&&h>0&&(d=!0,f=s*(h*=.9));var p={offset:((r-f)/2|0)-c,size:0};l=a.reduce((function(e,t){var n={item:t.item,position:{offset:p.offset+p.size+c,size:d?h:t.barSize}},r=[].concat(NI(e),[n]);return p=r[r.length-1].position,t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:p})})),r}),u)}else{var m=Mx(n,r,0,!0);r-2*m-(s-1)*c<=0&&(c=0);var g=(r-2*m-(s-1)*c)/s;g>1&&(g>>=0);var y=o===+o?Math.min(g,o):g;l=a.reduce((function(e,t,n){var r=[].concat(NI(e),[{item:t.item,position:{offset:m+(g+c)*n+(g-y)/2,size:y}}]);return t.stackList&&t.stackList.length&&t.stackList.forEach((function(e){r.push({item:e,position:r[r.length-1].position})})),r}),u)}return l}({barGap:d,barCategoryGap:h,bandSize:R!==N?R:N,sizeList:I[k],maxBarSize:M}),R!==N&&(A=A.map((function(e){return oF(oF({},e),{},{position:oF(oF({},e.position),{},{offset:e.position.offset-R/2})})})))}var L=n&&n.type&&n.type.getComposedData;L&&v.push({props:oF(oF({},L(oF(oF({},E),{},{displayedData:b,props:e,dataKey:w,item:n,bandSize:N,barPosition:A,offset:i,stackedData:O,layout:u,dataStartIndex:o,dataEndIndex:s}))),{},sF(sF(sF({key:n.key||"item-".concat(p)},m,E[m]),g,E[g]),"animationId",a)),childIndex:bw(n,e.children),item:n})})),v},f=function(e,r){var i=e.props,a=e.dataStartIndex,o=e.dataEndIndex,s=e.updateId;if(!hw({props:i}))return null;var c=i.children,d=i.layout,f=i.stackOffset,p=i.data,m=i.reverseStackOrder,g=xF(d),y=g.numericAxisName,v=g.cateAxisName,b=uw(c,n),x=function(e,t,n,r,i,a){if(!e)return null;var o=(a?t.reverse():t).reduce((function(e,t){var i,a=null!==(i=t.type)&&void 0!==i&&i.defaultProps?PI(PI({},t.type.defaultProps),t.props):t.props,o=a.stackId;if(a.hide)return e;var s=a[n],l=e[s]||{hasStack:!1,stackGroups:{}};if(Ix(o)){var c=l.stackGroups[o]||{numericAxisId:n,cateAxisId:r,items:[]};c.items.push(t),l.hasStack=!0,l.stackGroups[o]=c}else l.stackGroups[Dx("_stackId_")]={numericAxisId:n,cateAxisId:r,items:[t]};return PI(PI({},e),{},DI({},s,l))}),{});return Object.keys(o).reduce((function(t,a){var s=o[a];return s.hasStack&&(s.stackGroups=Object.keys(s.stackGroups).reduce((function(t,a){var o=s.stackGroups[a];return PI(PI({},t),{},DI({},a,{numericAxisId:n,cateAxisId:r,items:o.items,stackedData:YI(e,o.items,i)}))}),{})),PI(PI({},t),{},DI({},a,s))}),{})}(p,b,"".concat(y,"Id"),"".concat(v,"Id"),f,m),w=l.reduce((function(e,t){var n="".concat(t.axisType,"Map");return oF(oF({},e),{},sF({},n,vF(i,oF(oF({},t),{},{graphicalItems:b,stackGroups:t.axisType===y&&x,dataStartIndex:a,dataEndIndex:o}))))}),{}),j=wF(oF(oF({},w),{},{props:i,graphicalItems:b}),null===r||void 0===r?void 0:r.legendBBox);Object.keys(w).forEach((function(e){w[e]=u(i,w[e],j,e.replace("Map",""),t)}));var S=function(e){var t=Rx(e),n=VI(t,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:Nw()(n,(function(e){return e.coordinate})),tooltipAxis:t,tooltipAxisBandSize:rP(t,n)}}(w["".concat(v,"Map")]),k=h(i,oF(oF({},w),{},{dataStartIndex:a,dataEndIndex:o,updateId:s,graphicalItems:b,stackGroups:x,offset:j}));return oF(oF({formattedGraphicalItems:k,graphicalItems:b,offset:j,stackGroups:x},S),w)},p=function(e){function n(e){var i,a,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),sF(o=ZL(this,n,[e]),"eventEmitterSymbol",Symbol("rechartsEventEmitter")),sF(o,"accessibilityManager",new YR),sF(o,"handleLegendBBoxUpdate",(function(e){if(e){var t=o.state,n=t.dataStartIndex,r=t.dataEndIndex,i=t.updateId;o.setState(oF({legendBBox:e},f({props:o.props,dataStartIndex:n,dataEndIndex:r,updateId:i},oF(oF({},o.state),{},{legendBBox:e}))))}})),sF(o,"handleReceiveSyncEvent",(function(e,t,n){if(o.props.syncId===e){if(n===o.eventEmitterSymbol&&"function"!==typeof o.props.syncMethod)return;o.applySyncEvent(t)}})),sF(o,"handleBrushChange",(function(e){var t=e.startIndex,n=e.endIndex;if(t!==o.state.dataStartIndex||n!==o.state.dataEndIndex){var r=o.state.updateId;o.setState((function(){return oF({dataStartIndex:t,dataEndIndex:n},f({props:o.props,dataStartIndex:t,dataEndIndex:n,updateId:r},o.state))})),o.triggerSyncEvent({dataStartIndex:t,dataEndIndex:n})}})),sF(o,"handleMouseEnter",(function(e){var t=o.getMouseInfo(e);if(t){var n=oF(oF({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseEnter;$x()(r)&&r(n,e)}})),sF(o,"triggeredAfterMouseMove",(function(e){var t=o.getMouseInfo(e),n=t?oF(oF({},t),{},{isTooltipActive:!0}):{isTooltipActive:!1};o.setState(n),o.triggerSyncEvent(n);var r=o.props.onMouseMove;$x()(r)&&r(n,e)})),sF(o,"handleItemMouseEnter",(function(e){o.setState((function(){return{isTooltipActive:!0,activeItem:e,activePayload:e.tooltipPayload,activeCoordinate:e.tooltipPosition||{x:e.cx,y:e.cy}}}))})),sF(o,"handleItemMouseLeave",(function(){o.setState((function(){return{isTooltipActive:!1}}))})),sF(o,"handleMouseMove",(function(e){e.persist(),o.throttleTriggeredAfterMouseMove(e)})),sF(o,"handleMouseLeave",(function(e){o.throttleTriggeredAfterMouseMove.cancel();var t={isTooltipActive:!1};o.setState(t),o.triggerSyncEvent(t);var n=o.props.onMouseLeave;$x()(n)&&n(t,e)})),sF(o,"handleOuterEvent",(function(e){var t,n=function(e){var t=e&&e.type;return t&&aw[t]?aw[t]:null}(e),r=Tx()(o.props,"".concat(n));n&&$x()(r)&&r(null!==(t=/.*touch.*/i.test(n)?o.getMouseInfo(e.changedTouches[0]):o.getMouseInfo(e))&&void 0!==t?t:{},e)})),sF(o,"handleClick",(function(e){var t=o.getMouseInfo(e);if(t){var n=oF(oF({},t),{},{isTooltipActive:!0});o.setState(n),o.triggerSyncEvent(n);var r=o.props.onClick;$x()(r)&&r(n,e)}})),sF(o,"handleMouseDown",(function(e){var t=o.props.onMouseDown;$x()(t)&&t(o.getMouseInfo(e),e)})),sF(o,"handleMouseUp",(function(e){var t=o.props.onMouseUp;$x()(t)&&t(o.getMouseInfo(e),e)})),sF(o,"handleTouchMove",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.throttleTriggeredAfterMouseMove(e.changedTouches[0])})),sF(o,"handleTouchStart",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseDown(e.changedTouches[0])})),sF(o,"handleTouchEnd",(function(e){null!=e.changedTouches&&e.changedTouches.length>0&&o.handleMouseUp(e.changedTouches[0])})),sF(o,"handleDoubleClick",(function(e){var t=o.props.onDoubleClick;$x()(t)&&t(o.getMouseInfo(e),e)})),sF(o,"handleContextMenu",(function(e){var t=o.props.onContextMenu;$x()(t)&&t(o.getMouseInfo(e),e)})),sF(o,"triggerSyncEvent",(function(e){void 0!==o.props.syncId&&$R.emit(qR,o.props.syncId,e,o.eventEmitterSymbol)})),sF(o,"applySyncEvent",(function(e){var t=o.props,n=t.layout,r=t.syncMethod,i=o.state.updateId,a=e.dataStartIndex,s=e.dataEndIndex;if(void 0!==e.dataStartIndex||void 0!==e.dataEndIndex)o.setState(oF({dataStartIndex:a,dataEndIndex:s},f({props:o.props,dataStartIndex:a,dataEndIndex:s,updateId:i},o.state)));else if(void 0!==e.activeTooltipIndex){var l=e.chartX,c=e.chartY,u=e.activeTooltipIndex,d=o.state,h=d.offset,p=d.tooltipTicks;if(!h)return;if("function"===typeof r)u=r(p,e);else if("value"===r){u=-1;for(var m=0;m<p.length;m++)if(p[m].value===e.activeLabel){u=m;break}}var g=oF(oF({},h),{},{x:h.left,y:h.top}),y=Math.min(l,g.x+g.width),v=Math.min(c,g.y+g.height),b=p[u]&&p[u].value,x=mF(o.state,o.props.data,u),w=p[u]?{x:"horizontal"===n?p[u].coordinate:y,y:"horizontal"===n?v:p[u].coordinate}:dF;o.setState(oF(oF({},e),{},{activeLabel:b,activeCoordinate:w,activePayload:x,activeTooltipIndex:u}))}else o.setState(e)})),sF(o,"renderCursor",(function(e){var n,i=o.state,a=i.isTooltipActive,s=i.activeCoordinate,l=i.activePayload,c=i.offset,u=i.activeTooltipIndex,d=i.tooltipAxisBandSize,h=o.getTooltipEventType(),f=null!==(n=e.props.active)&&void 0!==n?n:a,p=o.props.layout,m=e.key||"_recharts-cursor";return r.createElement(qL,{key:m,activeCoordinate:s,activePayload:l,activeTooltipIndex:u,chartName:t,element:e,isActive:f,layout:p,offset:c,tooltipAxisBandSize:d,tooltipEventType:h})})),sF(o,"renderPolarAxis",(function(e,t,n){var i=Tx()(e,"type.axisType"),a=Tx()(o.state,"".concat(i,"Map")),s=e.type.defaultProps,l=void 0!==s?oF(oF({},s),e.props):e.props,c=a&&a[l["".concat(i,"Id")]];return(0,r.cloneElement)(e,oF(oF({},c),{},{className:vx(i,c.className),key:e.key||"".concat(t,"-").concat(n),ticks:VI(c,!0)}))})),sF(o,"renderPolarGrid",(function(e){var t=e.props,n=t.radialLines,i=t.polarAngles,a=t.polarRadius,s=o.state,l=s.radiusAxisMap,c=s.angleAxisMap,u=Rx(l),d=Rx(c),h=d.cx,f=d.cy,p=d.innerRadius,m=d.outerRadius;return(0,r.cloneElement)(e,{polarAngles:Array.isArray(i)?i:VI(d,!0).map((function(e){return e.coordinate})),polarRadius:Array.isArray(a)?a:VI(u,!0).map((function(e){return e.coordinate})),cx:h,cy:f,innerRadius:p,outerRadius:m,key:e.key||"polar-grid",radialLines:n})})),sF(o,"renderLegend",(function(){var e=o.state.formattedGraphicalItems,t=o.props,n=t.children,i=t.width,a=t.height,s=o.props.margin||{},l=i-(s.left||0)-(s.right||0),u=OI({children:n,formattedGraphicalItems:e,legendWidth:l,legendContent:c});if(!u)return null;var d=u.item,h=QL(u,HL);return(0,r.cloneElement)(d,oF(oF({},h),{},{chartWidth:i,chartHeight:a,margin:s,onBBoxUpdate:o.handleLegendBBoxUpdate}))})),sF(o,"renderTooltip",(function(){var e,t=o.props,n=t.children,i=t.accessibilityLayer,a=dw(n,Oj);if(!a)return null;var s=o.state,l=s.isTooltipActive,c=s.activeCoordinate,u=s.activePayload,d=s.activeLabel,h=s.offset,f=null!==(e=a.props.active)&&void 0!==e?e:l;return(0,r.cloneElement)(a,{viewBox:oF(oF({},h),{},{x:h.left,y:h.top}),active:f,label:d,payload:f?u:[],coordinate:c,accessibilityLayer:i})})),sF(o,"renderBrush",(function(e){var t=o.props,n=t.margin,i=t.data,a=o.state,s=a.offset,l=a.dataStartIndex,c=a.dataEndIndex,u=a.updateId;return(0,r.cloneElement)(e,{key:e.key||"_recharts-brush",onChange:qI(o.handleBrushChange,e.props.onChange),data:i,x:Ax(e.props.x)?e.props.x:s.left,y:Ax(e.props.y)?e.props.y:s.top+s.height+s.brushBottom-(n.bottom||0),width:Ax(e.props.width)?e.props.width:s.width,startIndex:l,endIndex:c,updateId:"brush-".concat(u)})})),sF(o,"renderReferenceElement",(function(e,t,n){if(!e)return null;var i=o.clipPathId,a=o.state,s=a.xAxisMap,l=a.yAxisMap,c=a.offset,u=e.type.defaultProps||{},d=e.props,h=d.xAxisId,f=void 0===h?u.xAxisId:h,p=d.yAxisId,m=void 0===p?u.yAxisId:p;return(0,r.cloneElement)(e,{key:e.key||"".concat(t,"-").concat(n),xAxis:s[f],yAxis:l[m],viewBox:{x:c.left,y:c.top,width:c.width,height:c.height},clipPathId:i})})),sF(o,"renderActivePoints",(function(e){var t=e.item,r=e.activePoint,i=e.basePoint,a=e.childIndex,o=e.isRange,s=[],l=t.props.key,c=void 0!==t.item.type.defaultProps?oF(oF({},t.item.type.defaultProps),t.item.props):t.item.props,u=c.activeDot,d=oF(oF({index:a,dataKey:c.dataKey,cx:r.x,cy:r.y,r:4,fill:LI(t.item),strokeWidth:2,stroke:"#fff",payload:r.payload,value:r.value},mw(u,!1)),Jx(u));return s.push(n.renderActiveDot(u,d,"".concat(l,"-activePoint-").concat(a))),i?s.push(n.renderActiveDot(u,oF(oF({},d),{},{cx:i.x,cy:i.y}),"".concat(l,"-basePoint-").concat(a))):o&&s.push(null),s})),sF(o,"renderGraphicChild",(function(e,t,n){var i=o.filterFormatItem(e,t,n);if(!i)return null;var a=o.getTooltipEventType(),s=o.state,l=s.isTooltipActive,c=s.tooltipAxis,u=s.activeTooltipIndex,d=s.activeLabel,h=dw(o.props.children,Oj),f=i.props,p=f.points,m=f.isRange,g=f.baseLine,y=void 0!==i.item.type.defaultProps?oF(oF({},i.item.type.defaultProps),i.item.props):i.item.props,v=y.activeDot,b=y.hide,x=y.activeBar,w=y.activeShape,j=Boolean(!b&&l&&h&&(v||x||w)),S={};"axis"!==a&&h&&"click"===h.props.trigger?S={onClick:qI(o.handleItemMouseEnter,e.props.onClick)}:"axis"!==a&&(S={onMouseLeave:qI(o.handleItemMouseLeave,e.props.onMouseLeave),onMouseEnter:qI(o.handleItemMouseEnter,e.props.onMouseEnter)});var k=(0,r.cloneElement)(e,oF(oF({},i.props),S));if(j){if(!(u>=0)){var E,T=(null!==(E=o.getItemByXY(o.state.activeCoordinate))&&void 0!==E?E:{graphicalItem:k}).graphicalItem,C=T.item,O=void 0===C?e:C,_=T.childIndex,N=oF(oF(oF({},i.props),S),{},{activeIndex:_});return[(0,r.cloneElement)(O,N),null,null]}var A,I;if(c.dataKey&&!c.allowDuplicatedCategory){var P="function"===typeof c.dataKey?function(e){return"function"===typeof c.dataKey?c.dataKey(e.payload):null}:"payload.".concat(c.dataKey.toString());A=Fx(p,P,d),I=m&&g&&Fx(g,P,d)}else A=null===p||void 0===p?void 0:p[u],I=m&&g&&g[u];if(w||x){var D=void 0!==e.props.activeIndex?e.props.activeIndex:u;return[(0,r.cloneElement)(e,oF(oF(oF({},i.props),S),{},{activeIndex:D})),null,null]}if(!zx()(A))return[k].concat(nF(o.renderActivePoints({item:i,activePoint:A,basePoint:I,childIndex:u,isRange:m})))}return m?[k,null,null]:[k,null]})),sF(o,"renderCustomized",(function(e,t,n){return(0,r.cloneElement)(e,oF(oF({key:"recharts-customized-".concat(n)},o.props),o.state))})),sF(o,"renderMap",{CartesianGrid:{handler:hF,once:!0},ReferenceArea:{handler:o.renderReferenceElement},ReferenceLine:{handler:hF},ReferenceDot:{handler:o.renderReferenceElement},XAxis:{handler:hF},YAxis:{handler:hF},Brush:{handler:o.renderBrush,once:!0},Bar:{handler:o.renderGraphicChild},Line:{handler:o.renderGraphicChild},Area:{handler:o.renderGraphicChild},Radar:{handler:o.renderGraphicChild},RadialBar:{handler:o.renderGraphicChild},Scatter:{handler:o.renderGraphicChild},Pie:{handler:o.renderGraphicChild},Funnel:{handler:o.renderGraphicChild},Tooltip:{handler:o.renderCursor,once:!0},PolarGrid:{handler:o.renderPolarGrid,once:!0},PolarAngleAxis:{handler:o.renderPolarAxis},PolarRadiusAxis:{handler:o.renderPolarAxis},Customized:{handler:o.renderCustomized}}),o.clipPathId="".concat(null!==(i=e.id)&&void 0!==i?i:Dx("recharts"),"-clip"),o.throttleTriggeredAfterMouseMove=xx()(o.triggeredAfterMouseMove,null!==(a=e.throttleDelay)&&void 0!==a?a:1e3/60),o.state={},o}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tF(e,t)}(n,e),i=n,o=[{key:"componentDidMount",value:function(){var e,t;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:null!==(e=this.props.margin.left)&&void 0!==e?e:0,top:null!==(t=this.props.margin.top)&&void 0!==t?t:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var e=this.props,t=e.children,n=e.data,r=e.height,i=e.layout,a=dw(t,Oj);if(a){var o=a.props.defaultIndex;if(!("number"!==typeof o||o<0||o>this.state.tooltipTicks.length-1)){var s=this.state.tooltipTicks[o]&&this.state.tooltipTicks[o].value,l=mF(this.state,n,o,s),c=this.state.tooltipTicks[o].coordinate,u=(this.state.offset.top+r)/2,d="horizontal"===i?{x:c,y:u}:{y:c,x:u},h=this.state.formattedGraphicalItems.find((function(e){return"Scatter"===e.item.type.name}));h&&(d=oF(oF({},d),h.props.points[o].tooltipPosition),l=h.props.points[o].tooltipPayload);var f={activeTooltipIndex:o,isTooltipActive:!0,activeLabel:s,activePayload:l,activeCoordinate:d};this.setState(f),this.renderCursor(a),this.accessibilityManager.setIndex(o)}}}},{key:"getSnapshotBeforeUpdate",value:function(e,t){return this.props.accessibilityLayer?(this.state.tooltipTicks!==t.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==e.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==e.margin&&this.accessibilityManager.setDetails({offset:{left:null!==(n=this.props.margin.left)&&void 0!==n?n:0,top:null!==(r=this.props.margin.top)&&void 0!==r?r:0}}),null):null;var n,r}},{key:"componentDidUpdate",value:function(e){gw([dw(e.children,Oj)],[dw(this.props.children,Oj)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var e=dw(this.props.children,Oj);if(e&&"boolean"===typeof e.props.shared){var t=e.props.shared?"axis":"item";return s.indexOf(t)>=0?t:a}return a}},{key:"getMouseInfo",value:function(e){if(!this.container)return null;var t,n=this.container,r=n.getBoundingClientRect(),i={top:(t=r).top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft},a={chartX:Math.round(e.pageX-i.left),chartY:Math.round(e.pageY-i.top)},o=r.width/n.offsetWidth||1,s=this.inRange(a.chartX,a.chartY,o);if(!s)return null;var l=this.state,c=l.xAxisMap,u=l.yAxisMap;if("axis"!==this.getTooltipEventType()&&c&&u){var d=Rx(c).scale,h=Rx(u).scale,f=d&&d.invert?d.invert(a.chartX):null,p=h&&h.invert?h.invert(a.chartY):null;return oF(oF({},a),{},{xValue:f,yValue:p})}var m=gF(this.state,this.props.data,this.props.layout,s);return m?oF(oF({},a),m):null}},{key:"inRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=this.props.layout,i=e/n,a=t/n;if("horizontal"===r||"vertical"===r){var o=this.state.offset;return i>=o.left&&i<=o.left+o.width&&a>=o.top&&a<=o.top+o.height?{x:i,y:a}:null}var s=this.state,l=s.angleAxisMap,c=s.radiusAxisMap;if(l&&c){var u=Rx(l);return LP({x:i,y:a},u)}return null}},{key:"parseEventsOfWrapper",value:function(){var e=this.props.children,t=this.getTooltipEventType(),n=dw(e,Oj),r={};return n&&"axis"===t&&(r="click"===n.props.trigger?{onClick:this.handleClick}:{onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu}),oF(oF({},Jx(this.props,this.handleOuterEvent)),r)}},{key:"addListener",value:function(){$R.on(qR,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){$R.removeListener(qR,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(e,t,n){for(var r=this.state.formattedGraphicalItems,i=0,a=r.length;i<a;i++){var o=r[i];if(o.item===e||o.props.key===e.key||t===ow(o.item.type)&&n===o.childIndex)return o}return null}},{key:"renderClipPath",value:function(){var e=this.clipPathId,t=this.state.offset,n=t.left,i=t.top,a=t.height,o=t.width;return r.createElement("defs",null,r.createElement("clipPath",{id:e},r.createElement("rect",{x:n,y:i,height:a,width:o})))}},{key:"getXScales",value:function(){var e=this.state.xAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=YL(t,2),r=n[0],i=n[1];return oF(oF({},e),{},sF({},r,i.scale))}),{}):null}},{key:"getYScales",value:function(){var e=this.state.yAxisMap;return e?Object.entries(e).reduce((function(e,t){var n=YL(t,2),r=n[0],i=n[1];return oF(oF({},e),{},sF({},r,i.scale))}),{}):null}},{key:"getXScaleByAxisId",value:function(e){var t;return null===(t=this.state.xAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getYScaleByAxisId",value:function(e){var t;return null===(t=this.state.yAxisMap)||void 0===t||null===(t=t[e])||void 0===t?void 0:t.scale}},{key:"getItemByXY",value:function(e){var t=this.state,n=t.formattedGraphicalItems,r=t.activeItem;if(n&&n.length)for(var i=0,a=n.length;i<a;i++){var o=n[i],s=o.props,l=o.item,c=void 0!==l.type.defaultProps?oF(oF({},l.type.defaultProps),l.props):l.props,u=ow(l.type);if("Bar"===u){var d=(s.data||[]).find((function(t){return OE(e,t)}));if(d)return{graphicalItem:o,payload:d}}else if("RadialBar"===u){var h=(s.data||[]).find((function(t){return LP(e,t)}));if(h)return{graphicalItem:o,payload:h}}else if(YD(o,r)||QD(o,r)||XD(o,r)){var f=tM({graphicalItem:o,activeTooltipItem:r,itemData:c.data}),p=void 0===c.activeIndex?f:c.activeIndex;return{graphicalItem:oF(oF({},o),{},{childIndex:p}),payload:XD(o,r)?c.data[f]:o.props.data[f]}}}return null}},{key:"render",value:function(){var e=this;if(!hw(this))return null;var t,n,i=this.props,a=i.children,o=i.className,s=i.width,l=i.height,c=i.style,u=i.compact,d=i.title,h=i.desc,f=QL(i,WL),p=mw(f,!1);if(u)return r.createElement(sR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement(Rw,GL({},p,{width:s,height:l,title:d,desc:h}),this.renderClipPath(),vw(a,this.renderMap)));this.props.accessibilityLayer&&(p.tabIndex=null!==(t=this.props.tabIndex)&&void 0!==t?t:0,p.role=null!==(n=this.props.role)&&void 0!==n?n:"application",p.onKeyDown=function(t){e.accessibilityManager.keyboardEvent(t)},p.onFocus=function(){e.accessibilityManager.focus()});var m=this.parseEventsOfWrapper();return r.createElement(sR,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},r.createElement("div",GL({className:vx("recharts-wrapper",o),style:oF({position:"relative",cursor:"default",width:s,height:l},c)},m,{ref:function(t){e.container=t}}),r.createElement(Rw,GL({},p,{width:s,height:l,title:d,desc:h,style:uF}),this.renderClipPath(),vw(a,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}],o&&XL(i.prototype,o),l&&XL(i,l),Object.defineProperty(i,"prototype",{writable:!1}),i;var i,o,l}(r.Component);sF(p,"displayName",t),sF(p,"defaultProps",oF({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),sF(p,"getDerivedStateFromProps",(function(e,t){var n=e.dataKey,r=e.data,i=e.children,a=e.width,o=e.height,s=e.layout,l=e.stackOffset,c=e.margin,u=t.dataStartIndex,d=t.dataEndIndex;if(void 0===t.updateId){var h=bF(e);return oF(oF(oF({},h),{},{updateId:0},f(oF(oF({props:e},h),{},{updateId:0}),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(n!==t.prevDataKey||r!==t.prevData||a!==t.prevWidth||o!==t.prevHeight||s!==t.prevLayout||l!==t.prevStackOffset||!Kx(c,t.prevMargin)){var p=bF(e),m={chartX:t.chartX,chartY:t.chartY,isTooltipActive:t.isTooltipActive},g=oF(oF({},gF(t,r,s)),{},{updateId:t.updateId+1}),y=oF(oF(oF({},p),m),g);return oF(oF(oF({},y),f(oF({props:e},y),t)),{},{prevDataKey:n,prevData:r,prevWidth:a,prevHeight:o,prevLayout:s,prevStackOffset:l,prevMargin:c,prevChildren:i})}if(!gw(i,t.prevChildren)){var v,b,x,w,j=dw(i,SP),S=j&&null!==(v=null===(b=j.props)||void 0===b?void 0:b.startIndex)&&void 0!==v?v:u,k=j&&null!==(x=null===(w=j.props)||void 0===w?void 0:w.endIndex)&&void 0!==x?x:d,E=S!==u||k!==d,T=!zx()(r)&&!E?t.updateId:t.updateId+1;return oF(oF({updateId:T},f(oF(oF({props:e},t),{},{updateId:T,dataStartIndex:S,dataEndIndex:k}),t)),{},{prevChildren:i,dataStartIndex:S,dataEndIndex:k})}return null})),sF(p,"renderActiveDot",(function(e,t,n){var i;return i=(0,r.isValidElement)(e)?(0,r.cloneElement)(e,t):$x()(e)?e(t):r.createElement(qS,t),r.createElement(Bw,{className:"recharts-active-dot",key:n},i)}));var m=(0,r.forwardRef)((function(e,t){return r.createElement(p,GL({},e,{ref:t}))}));return m.displayName=p.displayName,m},kF=n(5855),EF=n.n(kF),TF=["points","className","baseLinePoints","connectNulls"];function CF(){return CF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},CF.apply(this,arguments)}function OF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _F(e){return function(e){if(Array.isArray(e))return NF(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return NF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NF(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function NF(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var AF=function(e){return e&&e.x===+e.x&&e.y===+e.y},IF=function(e,t){var n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[[]];return e.forEach((function(e){AF(e)?t[t.length-1].push(e):t[t.length-1].length>0&&t.push([])})),AF(e[0])&&t[t.length-1].push(e[0]),t[t.length-1].length<=0&&(t=t.slice(0,-1)),t}(e);t&&(n=[n.reduce((function(e,t){return[].concat(_F(e),_F(t))}),[])]);var r=n.map((function(e){return e.reduce((function(e,t,n){return"".concat(e).concat(0===n?"M":"L").concat(t.x,",").concat(t.y)}),"")})).join("");return 1===n.length?"".concat(r,"Z"):r},PF=function(e){var t=e.points,n=e.className,i=e.baseLinePoints,a=e.connectNulls,o=OF(e,TF);if(!t||!t.length)return null;var s=vx("recharts-polygon",n);if(i&&i.length){var l=o.stroke&&"none"!==o.stroke,c=function(e,t,n){var r=IF(e,n);return"".concat("Z"===r.slice(-1)?r.slice(0,-1):r,"L").concat(IF(t.reverse(),n).slice(1))}(t,i,a);return r.createElement("g",{className:s},r.createElement("path",CF({},mw(o,!0),{fill:"Z"===c.slice(-1)?o.fill:"none",stroke:"none",d:c})),l?r.createElement("path",CF({},mw(o,!0),{fill:"none",d:IF(t,a)})):null,l?r.createElement("path",CF({},mw(o,!0),{fill:"none",d:IF(i,a)})):null)}var u=IF(t,a);return r.createElement("path",CF({},mw(o,!0),{fill:"Z"===u.slice(-1)?o.fill:"none",className:s,d:u}))},DF=["key"];function MF(e){return MF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},MF(e)}function RF(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function LF(){return LF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},LF.apply(this,arguments)}function FF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function UF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?FF(Object(n),!0).forEach((function(t){HF(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function BF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,WF(r.key),r)}}function zF(e,t,n){return t=$F(t),function(e,t){if(t&&("object"===MF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,VF()?Reflect.construct(t,n||[],$F(e).constructor):t.apply(e,n))}function VF(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(VF=function(){return!!e})()}function $F(e){return $F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$F(e)}function qF(e,t){return qF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qF(e,t)}function HF(e,t,n){return(t=WF(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function WF(e){var t=function(e,t){if("object"!=MF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==MF(t)?t:t+""}var KF=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return HF(e=zF(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),HF(e,"handleAnimationEnd",(function(){var t=e.props.onAnimationEnd;e.setState({isAnimationFinished:!0}),$x()(t)&&t()})),HF(e,"handleAnimationStart",(function(){var t=e.props.onAnimationStart;e.setState({isAnimationFinished:!1}),$x()(t)&&t()})),HF(e,"handleMouseEnter",(function(t){var n=e.props.onMouseEnter;n&&n(e.props,t)})),HF(e,"handleMouseLeave",(function(t){var n=e.props.onMouseLeave;n&&n(e.props,t)})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qF(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if($x()(e))n=e(t);else{var i=t.key,a=RF(t,DF);n=r.createElement(qS,LF({},a,{key:i,className:vx("recharts-radar-dot","boolean"!==typeof e?e.className:"")}))}return n}}],(i=[{key:"renderDots",value:function(e){var n=this.props,i=n.dot,a=n.dataKey,o=mw(this.props,!1),s=mw(i,!0),l=e.map((function(e,n){var r=UF(UF(UF({key:"dot-".concat(n),r:3},o),s),{},{dataKey:a,cx:e.x,cy:e.y,index:n,payload:e});return t.renderDotItem(i,r)}));return r.createElement(Bw,{className:"recharts-radar-dots"},l)}},{key:"renderPolygonStatically",value:function(e){var t,n=this.props,i=n.shape,a=n.dot,o=n.isRange,s=n.baseLinePoints,l=n.connectNulls;return t=r.isValidElement(i)?r.cloneElement(i,UF(UF({},this.props),{},{points:e})):$x()(i)?i(UF(UF({},this.props),{},{points:e})):r.createElement(PF,LF({},mw(this.props,!0),{onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,points:e,baseLinePoints:o?s:null,connectNulls:l})),r.createElement(Bw,{className:"recharts-radar-polygon"},t,a?this.renderDots(e):null)}},{key:"renderPolygonWithAnimation",value:function(){var e=this,t=this.props,n=t.points,i=t.isAnimationActive,a=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevPoints;return r.createElement(bE,{begin:a,duration:o,isActive:i,easing:s,from:{t:0},to:{t:1},key:"radar-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var r=t.t,i=c&&c.length/n.length,a=n.map((function(e,t){var n=c&&c[Math.floor(t*i)];if(n){var a=Lx(n.x,e.x),o=Lx(n.y,e.y);return UF(UF({},e),{},{x:a(r),y:o(r)})}var s=Lx(e.cx,e.x),l=Lx(e.cy,e.y);return UF(UF({},e),{},{x:s(r),y:l(r)})}));return e.renderPolygonStatically(a)}))}},{key:"renderPolygon",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=e.isRange,i=this.state.prevPoints;return!(n&&t&&t.length)||r||i&&DA()(i,t)?this.renderPolygonStatically(t):this.renderPolygonWithAnimation()}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.className,i=e.points,a=e.isAnimationActive;if(t||!i||!i.length)return null;var o=this.state.isAnimationFinished,s=vx("recharts-radar",n);return r.createElement(Bw,{className:s},this.renderPolygon(),(!a||o)&&gD.renderCallByParent(this.props,i))}}])&&BF(n.prototype,i),a&&BF(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);function GF(e){return GF="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},GF(e)}function YF(){return YF=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YF.apply(this,arguments)}function QF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function XF(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?QF(Object(n),!0).forEach((function(t){rU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ZF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iU(r.key),r)}}function JF(e,t,n){return t=tU(t),function(e,t){if(t&&("object"===GF(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,eU()?Reflect.construct(t,n||[],tU(e).constructor):t.apply(e,n))}function eU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eU=function(){return!!e})()}function tU(e){return tU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tU(e)}function nU(e,t){return nU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},nU(e,t)}function rU(e,t,n){return(t=iU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iU(e){var t=function(e,t){if("object"!=GF(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=GF(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==GF(t)?t:t+""}HF(KF,"displayName","Radar"),HF(KF,"defaultProps",{angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!fj.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"}),HF(KF,"getComposedData",(function(e){var t=e.radiusAxis,n=e.angleAxis,r=e.displayedData,i=e.dataKey,a=e.bandSize,o=n.cx,s=n.cy,l=!1,c=[],u="number"!==n.type&&null!==a&&void 0!==a?a:0;r.forEach((function(e,r){var a=MI(e,n.dataKey,r),d=MI(e,i),h=n.scale(a)+u,f=Array.isArray(d)?iD()(d):d,p=zx()(f)?void 0:t.scale(f);Array.isArray(d)&&d.length>=2&&(l=!0),c.push(UF(UF({},IP(o,s,p,h)),{},{name:a,value:d,cx:o,cy:s,radius:p,angle:h,payload:e}))}));var d=[];return l&&c.forEach((function(e){if(Array.isArray(e.value)){var n=EF()(e.value),r=zx()(n)?void 0:t.scale(n);d.push(UF(UF({},e),{},{radius:r},IP(o,s,r,e.angle)))}else d.push(e)})),{points:c,isRange:l,baseLinePoints:d}}));var aU=Math.PI/180,oU=1e-5,sU=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),JF(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nU(e,t)}(t,e),n=t,i=[{key:"getTickLineCoord",value:function(e){var t=this.props,n=t.cx,r=t.cy,i=t.radius,a=t.orientation,o=t.tickSize||8,s=IP(n,r,i,e.coordinate),l=IP(n,r,i+("inner"===a?-1:1)*o,e.coordinate);return{x1:s.x,y1:s.y,x2:l.x,y2:l.y}}},{key:"getTickTextAnchor",value:function(e){var t=this.props.orientation,n=Math.cos(-e.coordinate*aU);return n>oU?"outer"===t?"start":"end":n<-oU?"outer"===t?"end":"start":"middle"}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.radius,a=e.axisLine,o=e.axisLineType,s=XF(XF({},mw(this.props,!1)),{},{fill:"none"},mw(a,!1));if("circle"===o)return r.createElement(qS,YF({className:"recharts-polar-angle-axis-line"},s,{cx:t,cy:n,r:i}));var l=this.props.ticks.map((function(e){return IP(t,n,i,e.coordinate)}));return r.createElement(PF,YF({className:"recharts-polar-angle-axis-line"},s,{points:l}))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,a=n.tick,o=n.tickLine,s=n.tickFormatter,l=n.stroke,c=mw(this.props,!1),u=mw(a,!1),d=XF(XF({},c),{},{fill:"none"},mw(o,!1)),h=i.map((function(n,i){var h=e.getTickLineCoord(n),f=XF(XF(XF({textAnchor:e.getTickTextAnchor(n)},c),{},{stroke:"none",fill:l},u),{},{index:i,payload:n,x:h.x2,y:h.y2});return r.createElement(Bw,YF({className:vx("recharts-polar-angle-axis-tick",FP(a)),key:"tick-".concat(n.coordinate)},ew(e.props,n,i)),o&&r.createElement("line",YF({className:"recharts-polar-angle-axis-tick-line"},d,h)),a&&t.renderTickItem(a,f,s?s(n.value,i):n.value))}));return r.createElement(Bw,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.radius,i=e.axisLine;return n<=0||!t||!t.length?null:r.createElement(Bw,{className:vx("recharts-polar-angle-axis",this.props.className)},i&&this.renderAxisLine(),this.renderTicks())}}],a=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):$x()(e)?e(t):r.createElement(ET,YF({},t,{className:"recharts-polar-angle-axis-tick-value"}),n)}}],i&&ZF(n.prototype,i),a&&ZF(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);rU(sU,"displayName","PolarAngleAxis"),rU(sU,"axisType","angleAxis"),rU(sU,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var lU=n(2794),cU=n.n(lU),uU=n(9364),dU=n.n(uU),hU=["cx","cy","angle","ticks","axisLine"],fU=["ticks","tick","angle","tickFormatter","stroke"];function pU(e){return pU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pU(e)}function mU(){return mU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mU.apply(this,arguments)}function gU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gU(Object(n),!0).forEach((function(t){kU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function vU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bU(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EU(r.key),r)}}function xU(e,t,n){return t=jU(t),function(e,t){if(t&&("object"===pU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,wU()?Reflect.construct(t,n||[],jU(e).constructor):t.apply(e,n))}function wU(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(wU=function(){return!!e})()}function jU(e){return jU=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},jU(e)}function SU(e,t){return SU=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},SU(e,t)}function kU(e,t,n){return(t=EU(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EU(e){var t=function(e,t){if("object"!=pU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==pU(t)?t:t+""}var TU=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),xU(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&SU(e,t)}(t,e),n=t,i=[{key:"getTickValueCoord",value:function(e){var t=e.coordinate,n=this.props,r=n.angle,i=n.cx,a=n.cy;return IP(i,a,t,r)}},{key:"getTickTextAnchor",value:function(){var e;switch(this.props.orientation){case"left":e="end";break;case"right":e="start";break;default:e="middle"}return e}},{key:"getViewBox",value:function(){var e=this.props,t=e.cx,n=e.cy,r=e.angle,i=e.ticks,a=cU()(i,(function(e){return e.coordinate||0}));return{cx:t,cy:n,startAngle:r,endAngle:r,innerRadius:dU()(i,(function(e){return e.coordinate||0})).coordinate||0,outerRadius:a.coordinate||0}}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.cx,n=e.cy,i=e.angle,a=e.ticks,o=e.axisLine,s=vU(e,hU),l=a.reduce((function(e,t){return[Math.min(e[0],t.coordinate),Math.max(e[1],t.coordinate)]}),[1/0,-1/0]),c=IP(t,n,l[0],i),u=IP(t,n,l[1],i),d=yU(yU(yU({},mw(s,!1)),{},{fill:"none"},mw(o,!1)),{},{x1:c.x,y1:c.y,x2:u.x,y2:u.y});return r.createElement("line",mU({className:"recharts-polar-radius-axis-line"},d))}},{key:"renderTicks",value:function(){var e=this,n=this.props,i=n.ticks,a=n.tick,o=n.angle,s=n.tickFormatter,l=n.stroke,c=vU(n,fU),u=this.getTickTextAnchor(),d=mw(c,!1),h=mw(a,!1),f=i.map((function(n,i){var c=e.getTickValueCoord(n),f=yU(yU(yU(yU({textAnchor:u,transform:"rotate(".concat(90-o,", ").concat(c.x,", ").concat(c.y,")")},d),{},{stroke:"none",fill:l},h),{},{index:i},c),{},{payload:n});return r.createElement(Bw,mU({className:vx("recharts-polar-radius-axis-tick",FP(a)),key:"tick-".concat(n.coordinate)},ew(e.props,n,i)),t.renderTickItem(a,f,s?s(n.value,i):n.value))}));return r.createElement(Bw,{className:"recharts-polar-radius-axis-ticks"},f)}},{key:"render",value:function(){var e=this.props,t=e.ticks,n=e.axisLine,i=e.tick;return t&&t.length?r.createElement(Bw,{className:vx("recharts-polar-radius-axis",this.props.className)},n&&this.renderAxisLine(),i&&this.renderTicks(),YP.renderCallByParent(this.props,this.getViewBox())):null}}],a=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):$x()(e)?e(t):r.createElement(ET,mU({},t,{className:"recharts-polar-radius-axis-tick-value"}),n)}}],i&&bU(n.prototype,i),a&&bU(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);kU(TU,"displayName","PolarRadiusAxis"),kU(TU,"axisType","radiusAxis"),kU(TU,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});var CU=SF({chartName:"RadarChart",GraphicalChild:KF,axisComponents:[{axisType:"angleAxis",AxisComp:sU},{axisType:"radiusAxis",AxisComp:TU}],formatAxisMap:DP,defaultProps:{layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),OU=["cx","cy","innerRadius","outerRadius","gridType","radialLines"];function _U(e){return _U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_U(e)}function NU(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AU(){return AU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},AU.apply(this,arguments)}function IU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function PU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IU(Object(n),!0).forEach((function(t){DU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=_U(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==_U(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MU=function(e,t,n,r){var i="";return r.forEach((function(r,a){var o=IP(t,n,e,r);i+=a?"L ".concat(o.x,",").concat(o.y):"M ".concat(o.x,",").concat(o.y)})),i+="Z"},RU=function(e){var t=e.cx,n=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.polarAngles,s=e.radialLines;if(!o||!o.length||!s)return null;var l=PU({stroke:"#ccc"},mw(e,!1));return r.createElement("g",{className:"recharts-polar-grid-angle"},o.map((function(e){var o=IP(t,n,i,e),s=IP(t,n,a,e);return r.createElement("line",AU({},l,{key:"line-".concat(e),x1:o.x,y1:o.y,x2:s.x,y2:s.y}))})))},LU=function(e){var t=e.cx,n=e.cy,i=e.radius,a=e.index,o=PU(PU({stroke:"#ccc"},mw(e,!1)),{},{fill:"none"});return r.createElement("circle",AU({},o,{className:vx("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(a),cx:t,cy:n,r:i}))},FU=function(e){var t=e.radius,n=e.index,i=PU(PU({stroke:"#ccc"},mw(e,!1)),{},{fill:"none"});return r.createElement("path",AU({},i,{className:vx("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(n),d:MU(t,e.cx,e.cy,e.polarAngles)}))},UU=function(e){var t=e.polarRadius,n=e.gridType;return t&&t.length?r.createElement("g",{className:"recharts-polar-grid-concentric"},t.map((function(t,i){var a=i;return"circle"===n?r.createElement(LU,AU({key:a},e,{radius:t,index:i})):r.createElement(FU,AU({key:a},e,{radius:t,index:i}))}))):null},BU=function(e){var t=e.cx,n=void 0===t?0:t,i=e.cy,a=void 0===i?0:i,o=e.innerRadius,s=void 0===o?0:o,l=e.outerRadius,c=void 0===l?0:l,u=e.gridType,d=void 0===u?"polygon":u,h=e.radialLines,f=void 0===h||h,p=NU(e,OU);return c<=0?null:r.createElement("g",{className:"recharts-polar-grid"},r.createElement(RU,AU({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:f},p)),r.createElement(UU,AU({cx:n,cy:a,innerRadius:s,outerRadius:c,gridType:d,radialLines:f},p)))};function zU(e,t,n){if(t<1)return[];if(1===t&&void 0===n)return e;for(var r=[],i=0;i<e.length;i+=t){if(void 0!==n&&!0!==n(e[i]))return;r.push(e[i])}return r}function VU(e,t,n){return function(e){var t=e.width,n=e.height,r=function(e){return(e%180+180)%180}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0),i=r*Math.PI/180,a=Math.atan(n/t),o=i>a&&i<Math.PI-a?n/Math.sin(i):t/Math.cos(i);return Math.abs(o)}({width:e.width+t.width,height:e.height+t.height},n)}function $U(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function qU(e){return qU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qU(e)}function HU(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function WU(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?HU(Object(n),!0).forEach((function(t){KU(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HU(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function KU(e,t,n){return t=function(e){var t=function(e,t){if("object"!=qU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==qU(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GU(e,t,n){var r=e.tick,i=e.ticks,a=e.viewBox,o=e.minTickGap,s=e.orientation,l=e.interval,c=e.tickFormatter,u=e.unit,d=e.angle;if(!i||!i.length||!r)return[];if(Ax(l)||fj.isSsr)return function(e,t){return zU(e,t+1)}(i,"number"===typeof l&&Ax(l)?l:0);var h=[],f="top"===s||"bottom"===s?"width":"height",p=u&&"width"===f?QE(u,{fontSize:t,letterSpacing:n}):{width:0,height:0},m=function(e,r){var i=$x()(c)?c(e.value,r):e.value;return"width"===f?VU(QE(i,{fontSize:t,letterSpacing:n}),p,d):QE(i,{fontSize:t,letterSpacing:n})[f]},g=i.length>=2?_x(i[1].coordinate-i[0].coordinate):1,y=function(e,t,n){var r="width"===n,i=e.x,a=e.y,o=e.width,s=e.height;return 1===t?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}(a,g,f);return"equidistantPreserveStart"===l?function(e,t,n,r,i){for(var a,o=(r||[]).slice(),s=t.start,l=t.end,c=0,u=1,d=s,h=function(){var t=null===r||void 0===r?void 0:r[c];if(void 0===t)return{v:zU(r,u)};var a,o=c,h=function(){return void 0===a&&(a=n(t,o)),a},f=t.coordinate,p=0===c||$U(e,f,h,d,l);p||(c=0,d=s,u+=1),p&&(d=f+e*(h()/2+i),c+=u)};u<=o.length;)if(a=h())return a.v;return[]}(g,y,m,i,o):(h="preserveStart"===l||"preserveStartEnd"===l?function(e,t,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=t.start,c=t.end;if(a){var u=r[s-1],d=n(u,s-1),h=e*(u.coordinate+e*d/2-c);o[s-1]=u=WU(WU({},u),{},{tickCoord:h>0?u.coordinate-h*e:u.coordinate}),$U(e,u.tickCoord,(function(){return d}),l,c)&&(c=u.tickCoord-e*(d/2+i),o[s-1]=WU(WU({},u),{},{isShow:!0}))}for(var f=a?s-1:s,p=function(t){var r,a=o[t],s=function(){return void 0===r&&(r=n(a,t)),r};if(0===t){var u=e*(a.coordinate-e*s()/2-l);o[t]=a=WU(WU({},a),{},{tickCoord:u<0?a.coordinate-u*e:a.coordinate})}else o[t]=a=WU(WU({},a),{},{tickCoord:a.coordinate});$U(e,a.tickCoord,s,l,c)&&(l=a.tickCoord+e*(s()/2+i),o[t]=WU(WU({},a),{},{isShow:!0}))},m=0;m<f;m++)p(m);return o}(g,y,m,i,o,"preserveStartEnd"===l):function(e,t,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=t.start,l=t.end,c=function(t){var r,c=a[t],u=function(){return void 0===r&&(r=n(c,t)),r};if(t===o-1){var d=e*(c.coordinate+e*u()/2-l);a[t]=c=WU(WU({},c),{},{tickCoord:d>0?c.coordinate-d*e:c.coordinate})}else a[t]=c=WU(WU({},c),{},{tickCoord:c.coordinate});$U(e,c.tickCoord,u,s,l)&&(l=c.tickCoord-e*(u()/2+i),a[t]=WU(WU({},c),{},{isShow:!0}))},u=o-1;u>=0;u--)c(u);return a}(g,y,m,i,o),h.filter((function(e){return e.isShow})))}BU.displayName="PolarGrid";var YU=["viewBox"],QU=["viewBox"],XU=["ticks"];function ZU(e){return ZU="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZU(e)}function JU(){return JU=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JU.apply(this,arguments)}function eB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function tB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?eB(Object(n),!0).forEach((function(t){lB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function nB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function rB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cB(r.key),r)}}function iB(e,t,n){return t=oB(t),function(e,t){if(t&&("object"===ZU(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,aB()?Reflect.construct(t,n||[],oB(e).constructor):t.apply(e,n))}function aB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(aB=function(){return!!e})()}function oB(e){return oB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},oB(e)}function sB(e,t){return sB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sB(e,t)}function lB(e,t,n){return(t=cB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cB(e){var t=function(e,t){if("object"!=ZU(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ZU(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ZU(t)?t:t+""}var uB=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=iB(this,t,[e])).state={fontSize:"",letterSpacing:""},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sB(e,t)}(t,e),n=t,i=[{key:"shouldComponentUpdate",value:function(e,t){var n=e.viewBox,r=nB(e,YU),i=this.props,a=i.viewBox,o=nB(i,QU);return!Kx(n,a)||!Kx(r,o)||!Kx(t,this.state)}},{key:"componentDidMount",value:function(){var e=this.layerReference;if(e){var t=e.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];t&&this.setState({fontSize:window.getComputedStyle(t).fontSize,letterSpacing:window.getComputedStyle(t).letterSpacing})}}},{key:"getTickLineCoord",value:function(e){var t,n,r,i,a,o,s=this.props,l=s.x,c=s.y,u=s.width,d=s.height,h=s.orientation,f=s.tickSize,p=s.mirror,m=s.tickMargin,g=p?-1:1,y=e.tickSize||f,v=Ax(e.tickCoord)?e.tickCoord:e.coordinate;switch(h){case"top":t=n=e.coordinate,o=(r=(i=c+ +!p*d)-g*y)-g*m,a=v;break;case"left":r=i=e.coordinate,a=(t=(n=l+ +!p*u)-g*y)-g*m,o=v;break;case"right":r=i=e.coordinate,a=(t=(n=l+ +p*u)+g*y)+g*m,o=v;break;default:t=n=e.coordinate,o=(r=(i=c+ +p*d)+g*y)+g*m,a=v}return{line:{x1:t,y1:r,x2:n,y2:i},tick:{x:a,y:o}}}},{key:"getTickTextAnchor",value:function(){var e,t=this.props,n=t.orientation,r=t.mirror;switch(n){case"left":e=r?"start":"end";break;case"right":e=r?"end":"start";break;default:e="middle"}return e}},{key:"getTickVerticalAnchor",value:function(){var e=this.props,t=e.orientation,n=e.mirror,r="end";switch(t){case"left":case"right":r="middle";break;case"top":r=n?"start":"end";break;default:r=n?"end":"start"}return r}},{key:"renderAxisLine",value:function(){var e=this.props,t=e.x,n=e.y,i=e.width,a=e.height,o=e.orientation,s=e.mirror,l=e.axisLine,c=tB(tB(tB({},mw(this.props,!1)),mw(l,!1)),{},{fill:"none"});if("top"===o||"bottom"===o){var u=+("top"===o&&!s||"bottom"===o&&s);c=tB(tB({},c),{},{x1:t,y1:n+u*a,x2:t+i,y2:n+u*a})}else{var d=+("left"===o&&!s||"right"===o&&s);c=tB(tB({},c),{},{x1:t+d*i,y1:n,x2:t+d*i,y2:n+a})}return r.createElement("line",JU({},c,{className:vx("recharts-cartesian-axis-line",Tx()(l,"className"))}))}},{key:"renderTicks",value:function(e,n,i){var a=this,o=this.props,s=o.tickLine,l=o.stroke,c=o.tick,u=o.tickFormatter,d=o.unit,h=GU(tB(tB({},this.props),{},{ticks:e}),n,i),f=this.getTickTextAnchor(),p=this.getTickVerticalAnchor(),m=mw(this.props,!1),g=mw(c,!1),y=tB(tB({},m),{},{fill:"none"},mw(s,!1)),v=h.map((function(e,n){var i=a.getTickLineCoord(e),o=i.line,v=i.tick,b=tB(tB(tB(tB({textAnchor:f,verticalAnchor:p},m),{},{stroke:"none",fill:l},g),v),{},{index:n,payload:e,visibleTicksCount:h.length,tickFormatter:u});return r.createElement(Bw,JU({className:"recharts-cartesian-axis-tick",key:"tick-".concat(e.value,"-").concat(e.coordinate,"-").concat(e.tickCoord)},ew(a.props,e,n)),s&&r.createElement("line",JU({},y,o,{className:vx("recharts-cartesian-axis-tick-line",Tx()(s,"className"))})),c&&t.renderTickItem(c,b,"".concat($x()(u)?u(e.value,n):e.value).concat(d||"")))}));return r.createElement("g",{className:"recharts-cartesian-axis-ticks"},v)}},{key:"render",value:function(){var e=this,t=this.props,n=t.axisLine,i=t.width,a=t.height,o=t.ticksGenerator,s=t.className;if(t.hide)return null;var l=this.props,c=l.ticks,u=nB(l,XU),d=c;return $x()(o)&&(d=c&&c.length>0?o(this.props):o(u)),i<=0||a<=0||!d||!d.length?null:r.createElement(Bw,{className:vx("recharts-cartesian-axis",s),ref:function(t){e.layerReference=t}},n&&this.renderAxisLine(),this.renderTicks(d,this.state.fontSize,this.state.letterSpacing),YP.renderCallByParent(this.props))}}],a=[{key:"renderTickItem",value:function(e,t,n){return r.isValidElement(e)?r.cloneElement(e,t):$x()(e)?e(t):r.createElement(ET,JU({},t,{className:"recharts-cartesian-axis-tick-value"}),n)}}],i&&rB(n.prototype,i),a&&rB(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function dB(e){return dB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dB(e)}function hB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vB(r.key),r)}}function fB(e,t,n){return t=mB(t),function(e,t){if(t&&("object"===dB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,pB()?Reflect.construct(t,n||[],mB(e).constructor):t.apply(e,n))}function pB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(pB=function(){return!!e})()}function mB(e){return mB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},mB(e)}function gB(e,t){return gB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gB(e,t)}function yB(e,t,n){return(t=vB(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vB(e){var t=function(e,t){if("object"!=dB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==dB(t)?t:t+""}function bB(){return bB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bB.apply(this,arguments)}function xB(e){var t=e.xAxisId,n=uR(),i=dR(),a=lR(t);return null==a?null:r.createElement(uB,bB({},a,{className:vx("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return VI(e,!0)}}))}lB(uB,"displayName","CartesianAxis"),lB(uB,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var wB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),fB(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gB(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(xB,this.props)}}])&&hB(n.prototype,i),a&&hB(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);function jB(e){return jB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jB(e)}function SB(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_B(r.key),r)}}function kB(e,t,n){return t=TB(t),function(e,t){if(t&&("object"===jB(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,EB()?Reflect.construct(t,n||[],TB(e).constructor):t.apply(e,n))}function EB(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(EB=function(){return!!e})()}function TB(e){return TB=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},TB(e)}function CB(e,t){return CB=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},CB(e,t)}function OB(e,t,n){return(t=_B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _B(e){var t=function(e,t){if("object"!=jB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==jB(t)?t:t+""}function NB(){return NB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NB.apply(this,arguments)}yB(wB,"displayName","XAxis"),yB(wB,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});var AB=function(e){var t=e.yAxisId,n=uR(),i=dR(),a=cR(t);return null==a?null:r.createElement(uB,NB({},a,{className:vx("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:n,height:i},ticksGenerator:function(e){return VI(e,!0)}}))},IB=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),kB(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&CB(e,t)}(t,e),n=t,(i=[{key:"render",value:function(){return r.createElement(AB,this.props)}}])&&SB(n.prototype,i),a&&SB(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.Component);OB(IB,"displayName","YAxis"),OB(IB,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});var PB=SF({chartName:"BarChart",GraphicalChild:EM,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:wB},{axisType:"yAxis",AxisComp:IB}],formatAxisMap:IM}),DB=["x1","y1","x2","y2","key"],MB=["offset"];function RB(e){return RB="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},RB(e)}function LB(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function FB(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?LB(Object(n),!0).forEach((function(t){UB(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):LB(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function UB(e,t,n){return t=function(e){var t=function(e,t){if("object"!=RB(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=RB(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==RB(t)?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BB(){return BB=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BB.apply(this,arguments)}function zB(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var VB=function(e){var t=e.fill;if(!t||"none"===t)return null;var n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return r.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function $B(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if($x()(e))n=e(t);else{var i=t.x1,a=t.y1,o=t.x2,s=t.y2,l=t.key,c=zB(t,DB),u=mw(c,!1),d=(u.offset,zB(u,MB));n=r.createElement("line",BB({},d,{x1:i,y1:a,x2:o,y2:s,fill:"none",key:l}))}return n}function qB(e){var t=e.x,n=e.width,i=e.horizontal,a=void 0===i||i,o=e.horizontalPoints;if(!a||!o||!o.length)return null;var s=o.map((function(r,i){var o=FB(FB({},e),{},{x1:t,y1:r,x2:t+n,y2:r,key:"line-".concat(i),index:i});return $B(a,o)}));return r.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function HB(e){var t=e.y,n=e.height,i=e.vertical,a=void 0===i||i,o=e.verticalPoints;if(!a||!o||!o.length)return null;var s=o.map((function(r,i){var o=FB(FB({},e),{},{x1:r,y1:t,x2:r,y2:t+n,key:"line-".concat(i),index:i});return $B(a,o)}));return r.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function WB(e){var t=e.horizontalFill,n=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.horizontalPoints,c=e.horizontal;if(!(void 0===c||c)||!t||!t.length)return null;var u=l.map((function(e){return Math.round(e+a-a)})).sort((function(e,t){return e-t}));a!==u[0]&&u.unshift(0);var d=u.map((function(e,l){var c=!u[l+1]?a+s-e:u[l+1]-e;if(c<=0)return null;var d=l%t.length;return r.createElement("rect",{key:"react-".concat(l),y:e,x:i,height:c,width:o,stroke:"none",fill:t[d],fillOpacity:n,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function KB(e){var t=e.vertical,n=void 0===t||t,i=e.verticalFill,a=e.fillOpacity,o=e.x,s=e.y,l=e.width,c=e.height,u=e.verticalPoints;if(!n||!i||!i.length)return null;var d=u.map((function(e){return Math.round(e+o-o)})).sort((function(e,t){return e-t}));o!==d[0]&&d.unshift(0);var h=d.map((function(e,t){var n=!d[t+1]?o+l-e:d[t+1]-e;if(n<=0)return null;var u=t%i.length;return r.createElement("rect",{key:"react-".concat(t),x:e,y:s,width:n,height:c,stroke:"none",fill:i[u],fillOpacity:a,className:"recharts-cartesian-grid-bg"})}));return r.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var GB=function(e,t){var n=e.xAxis,r=e.width,i=e.height,a=e.offset;return zI(GU(FB(FB(FB({},uB.defaultProps),n),{},{ticks:VI(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},YB=function(e,t){var n=e.yAxis,r=e.width,i=e.height,a=e.offset;return zI(GU(FB(FB(FB({},uB.defaultProps),n),{},{ticks:VI(n,!0),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},QB={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function XB(e){var t,n,i,a,o,s,l=uR(),c=dR(),u=(0,r.useContext)(rR),d=FB(FB({},e),{},{stroke:null!==(t=e.stroke)&&void 0!==t?t:QB.stroke,fill:null!==(n=e.fill)&&void 0!==n?n:QB.fill,horizontal:null!==(i=e.horizontal)&&void 0!==i?i:QB.horizontal,horizontalFill:null!==(a=e.horizontalFill)&&void 0!==a?a:QB.horizontalFill,vertical:null!==(o=e.vertical)&&void 0!==o?o:QB.vertical,verticalFill:null!==(s=e.verticalFill)&&void 0!==s?s:QB.verticalFill,x:Ax(e.x)?e.x:u.left,y:Ax(e.y)?e.y:u.top,width:Ax(e.width)?e.width:u.width,height:Ax(e.height)?e.height:u.height}),h=d.x,f=d.y,p=d.width,m=d.height,g=d.syncWithTicks,y=d.horizontalValues,v=d.verticalValues,b=function(){var e=(0,r.useContext)(eR);return Rx(e)}(),x=function(){var e=(0,r.useContext)(tR);return XM()(e,(function(e){return tD()(e.domain,Number.isFinite)}))||Rx(e)}();if(!Ax(p)||p<=0||!Ax(m)||m<=0||!Ax(h)||h!==+h||!Ax(f)||f!==+f)return null;var w=d.verticalCoordinatesGenerator||GB,j=d.horizontalCoordinatesGenerator||YB,S=d.horizontalPoints,k=d.verticalPoints;if((!S||!S.length)&&$x()(j)){var E=y&&y.length,T=j({yAxis:x?FB(FB({},x),{},{ticks:E?y:x.ticks}):void 0,width:l,height:c,offset:u},!!E||g);Ux(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(RB(T),"]")),Array.isArray(T)&&(S=T)}if((!k||!k.length)&&$x()(w)){var C=v&&v.length,O=w({xAxis:b?FB(FB({},b),{},{ticks:C?v:b.ticks}):void 0,width:l,height:c,offset:u},!!C||g);Ux(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(RB(O),"]")),Array.isArray(O)&&(k=O)}return r.createElement("g",{className:"recharts-cartesian-grid"},r.createElement(VB,{fill:d.fill,fillOpacity:d.fillOpacity,x:d.x,y:d.y,width:d.width,height:d.height,ry:d.ry}),r.createElement(qB,BB({},d,{offset:u,horizontalPoints:S,xAxis:b,yAxis:x})),r.createElement(HB,BB({},d,{offset:u,verticalPoints:k,xAxis:b,yAxis:x})),r.createElement(WB,BB({},d,{horizontalPoints:S})),r.createElement(KB,BB({},d,{verticalPoints:k})))}XB.displayName="CartesianGrid";const ZB=()=>{const{stats:e,STATS:t,getPointsToNextLevel:n,getRank:i,taskHistory:a}=bb(),{theme:o}=De(),[s,l]=(0,r.useState)(null),c=t.map((t=>({stat:t.name,level:e[t.id].level,fullMark:100,icon:t.icon}))),u=(e=>{if(!e)return[];const t=a.filter((t=>t.statId===e)).sort(((e,t)=>new Date(e.completedAt)-new Date(t.completedAt))),n=t.reduce(((e,t)=>{const n=Mt(new Date(t.completedAt),"yyyy-MM-dd");return e[n]||(e[n]={date:n,points:0,tasks:[]}),e[n].points+=t.points,e[n].tasks.push(t),e}),{});return Object.values(n).sort(((e,t)=>new Date(t.date)-new Date(e.date))).slice(0,14).reverse()})(s);return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsx)("h2",{className:"text-2xl mb-md",children:"Stat Overview"}),(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("div",{style:{height:"400px"},children:(0,Ae.jsx)(Tw,{width:"100%",height:"100%",children:(0,Ae.jsxs)(CU,{cx:"50%",cy:"50%",outerRadius:"80%",data:c,margin:{top:20,right:30,left:20,bottom:20},children:[(0,Ae.jsx)(BU,{stroke:o.border,strokeOpacity:.3,strokeDasharray:"3 3"}),(0,Ae.jsx)(sU,{dataKey:"stat",tick:e=>{const{x:t,y:n,payload:r,cx:i,cy:a}=e,s=c.find((e=>e.stat===r.value)),l=s?s.icon:"";return(0,Ae.jsx)("g",{transform:`translate(${t},${n})`,children:(0,Ae.jsxs)("text",{x:0,y:0,dy:5,textAnchor:"middle",fill:o.text,fontSize:"14",fontWeight:"600",children:[l," ",r.value]})})}}),(0,Ae.jsx)(TU,{angle:90,domain:[0,100],axisLine:!1,tick:{fill:o.text,fontSize:12},tickCount:5,style:{opacity:.6}}),(0,Ae.jsx)(Oj,{content:e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0].payload,t=i(e.level);return(0,Ae.jsxs)("div",{style:{backgroundColor:o.card,border:`1px solid ${o.border}`,padding:"12px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,Ae.jsxs)("p",{style:{margin:0,fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:o.primary},children:[e.icon," ",e.stat]}),(0,Ae.jsxs)("p",{style:{margin:"4px 0",color:o.text},children:["Level: ",(0,Ae.jsx)("span",{style:{fontWeight:"bold"},children:e.level})]}),(0,Ae.jsxs)("p",{style:{margin:"4px 0",color:o.text},children:["Rank: ",(0,Ae.jsx)("span",{style:{fontWeight:"bold"},children:t})]})]})}return null}}),(0,Ae.jsx)(KF,{name:"Stats",dataKey:"level",stroke:o.primary,fill:o.primary,fillOpacity:.6,animationBegin:0,animationDuration:1e3,animationEasing:"ease-out"})]})})}),(0,Ae.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-md mt-lg",children:t.map((t=>{const n=e[t.id];return(0,Ae.jsxs)("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",cursor:"pointer",borderBottom:`3px solid ${o.primary}`,transition:"all var(--transition-fast)"},onClick:()=>l(t.id===s?null:t.id),className:"animate-fade-in",children:[(0,Ae.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:t.icon}),(0,Ae.jsx)("div",{style:{fontWeight:"bold"},children:t.name}),(0,Ae.jsxs)("div",{children:["Level ",n.level]})]},t.id)}))})]})]}),(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsx)("h2",{className:"text-2xl mb-md",children:"Your Stats"}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3",children:t.map((t=>{const r=e[t.id],a=i(r.level);return(0,Ae.jsxs)("div",{className:"card",style:{cursor:"pointer",borderLeft:s===t.id?`3px solid ${o.primary}`:"none"},onClick:()=>l(t.id===s?null:t.id),children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-md mb-md",children:[(0,Ae.jsx)("span",{style:{fontSize:"2rem"},children:t.icon}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{style:{margin:0},children:t.name}),(0,Ae.jsx)("div",{className:"text-sm",children:t.description})]})]}),(0,Ae.jsxs)("div",{style:{backgroundColor:"rgba(255, 255, 255, 0.05)",padding:"var(--spacing-md)",borderRadius:"var(--border-radius-md)",marginBottom:"var(--spacing-md)"},children:[(0,Ae.jsxs)("div",{className:"flex justify-between mb-sm",children:[(0,Ae.jsxs)("span",{className:"text-lg",children:["Level ",r.level]}),(0,Ae.jsx)("span",{children:a})]}),(0,Ae.jsx)("div",{className:"progress-bar",children:(0,Ae.jsx)("div",{className:"progress-bar-fill",style:{width:r.points/n(r.level)*100+"%",backgroundColor:o.primary}})}),(0,Ae.jsxs)("div",{className:"flex justify-between text-sm mt-sm",children:[(0,Ae.jsxs)("span",{children:[r.points," / ",n(r.level)]}),(0,Ae.jsxs)("span",{children:[Math.floor(r.points/n(r.level)*100),"%"]})]})]}),(0,Ae.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ae.jsxs)("span",{className:"text-sm",style:{color:o.text,opacity:.7},children:["Click to ",s===t.id?"hide":"view"," details"]}),(0,Ae.jsx)(Oe,{to:"/tasks",state:{statId:t.id},className:"btn btn-outline",style:{textDecoration:"none",padding:"4px 8px"},onClick:e=>e.stopPropagation(),children:"Add Task"})]})]},t.id)}))})]}),s&&(0,Ae.jsxs)("section",{className:"animate-slide-in",children:[(0,Ae.jsx)("div",{className:"flex items-center gap-md mb-md",children:(0,Ae.jsxs)("h2",{className:"text-2xl",style:{margin:0},children:[t.find((e=>e.id===s)).icon," ",t.find((e=>e.id===s)).name," History"]})}),(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("div",{style:{height:"300px"},children:u.length>0?(0,Ae.jsx)(Tw,{width:"100%",height:"100%",children:(0,Ae.jsxs)(PB,{data:u,margin:{top:20,right:30,left:20,bottom:5},children:[(0,Ae.jsx)(XB,{strokeDasharray:"3 3",stroke:o.border}),(0,Ae.jsx)(wB,{dataKey:"date",stroke:o.text,tickFormatter:e=>Mt(new Date(e),"MMM d")}),(0,Ae.jsx)(IB,{stroke:o.text}),(0,Ae.jsx)(Oj,{contentStyle:{backgroundColor:o.card,borderColor:o.border,color:o.text},formatter:e=>[`${e} points`,"Points"],labelFormatter:e=>Mt(new Date(e),"MMMM d, yyyy")}),(0,Ae.jsx)(EM,{dataKey:"points",name:"Points",fill:o.primary,radius:[4,4,0,0]})]})}):(0,Ae.jsxs)("div",{className:"flex flex-col items-center justify-center h-full",children:[(0,Ae.jsx)("p",{children:"No history available for this stat."}),(0,Ae.jsx)(Oe,{to:"/tasks",state:{statId:s},className:"btn btn-primary mt-md",style:{textDecoration:"none"},children:"Add Your First Task"})]})}),u.length>0&&(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-xl)"},children:[(0,Ae.jsx)("h3",{children:"Recent Activity"}),(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:"Date"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:"Task"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:"Points"})]})}),(0,Ae.jsx)("tbody",{children:u.flatMap((e=>e.tasks.map((e=>(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:Mt(new Date(e.completedAt),"MMM d, yyyy")}),(0,Ae.jsxs)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:[e.name," ",(0,Ae.jsxs)("span",{style:{opacity:.7,fontSize:"0.8rem"},children:["(",e.type,")"]})]}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${o.border}`},children:(0,Ae.jsxs)("div",{children:["+",e.points,e.bonusPoints>0&&(0,Ae.jsxs)("span",{style:{color:o.accent,fontSize:"0.75rem",marginLeft:"4px"},children:["(+",e.bonusPoints,")"]})]})})]},e.id)))))})]})]})]})]})]})},JB=()=>{const{playerName:e,dispatch:t}=bb(),{theme:n,themes:i,currentTheme:a,changeTheme:o}=De(),{logout:s}=ab(),[l,c]=(0,r.useState)(e),u=J();return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsx)("h2",{className:"text-2xl mb-md",children:"Settings"}),(0,Ae.jsxs)("div",{className:"card mb-lg",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Appearance"}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-md",children:Object.keys(i).map((e=>(0,Ae.jsxs)("div",{className:"card",style:{cursor:"pointer",borderColor:a===e?i[e].primary:n.border,borderWidth:a===e?"2px":"1px",borderStyle:"solid",backgroundColor:i[e].card,color:i[e].text},onClick:()=>o(e),children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between mb-md",children:[(0,Ae.jsxs)("h4",{style:{margin:0,color:i[e].text},children:[e.charAt(0).toUpperCase()+e.slice(1)," Theme"]}),a===e&&(0,Ae.jsx)("span",{style:{color:i[e].success},children:"\u2713 Active"})]}),(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-sm)"},children:[(0,Ae.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:i[e].primary}}),(0,Ae.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:i[e].secondary}}),(0,Ae.jsx)("div",{style:{width:"24px",height:"24px",borderRadius:"50%",backgroundColor:i[e].accent}})]}),(0,Ae.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-xs)"},children:[(0,Ae.jsx)("div",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",backgroundColor:i[e].background,color:i[e].text,borderRadius:"var(--border-radius-sm)",fontSize:"0.75rem"},children:"Background"}),(0,Ae.jsx)("div",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",backgroundColor:i[e].card,color:i[e].text,borderRadius:"var(--border-radius-sm)",fontSize:"0.75rem",border:`1px solid ${i[e].border}`},children:"Card"}),(0,Ae.jsx)("div",{style:{padding:"var(--spacing-xs) var(--spacing-sm)",backgroundColor:i[e].primary,color:"white",borderRadius:"var(--border-radius-sm)",fontSize:"0.75rem"},children:"Primary Button"})]})]},e)))})]}),(0,Ae.jsxs)("div",{className:"card mb-lg",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Profile"}),(0,Ae.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l.trim()&&t({type:"SET_PLAYER_NAME",payload:l.trim()})},children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"playerName",className:"form-label",children:"Your Name"}),(0,Ae.jsx)("input",{type:"text",id:"playerName",className:"form-input",value:l,onChange:e=>c(e.target.value),placeholder:"Enter your name"})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Update Name"})]})]}),(0,Ae.jsxs)("div",{className:"card mb-lg",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Data Management"}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-md",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"mb-sm",children:"Sign Out"}),(0,Ae.jsx)("p",{className:"text-sm mb-md",children:"Sign out of your account. Your data will remain saved for when you log back in."}),(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:async()=>{if(window.confirm("Are you sure you want to sign out?"))try{await s(),u("/login")}catch(e){console.error("Failed to log out",e)}},children:"Sign Out"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"mb-sm",children:"Export Your Data"}),(0,Ae.jsx)("p",{className:"text-sm mb-md",children:"Download a backup of your current progress and tasks. You can import this file later to restore your data."}),(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>{const e=localStorage.getItem("gameState"),t="data:text/json;charset=utf-8,"+encodeURIComponent(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","solo_leveling_irl_backup.json"),document.body.appendChild(n),n.click(),n.remove()},children:"Export Data"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{className:"mb-sm",children:"Import Data"}),(0,Ae.jsx)("p",{className:"text-sm mb-md",children:"Restore your progress from a previously exported file. This will replace your current data."}),(0,Ae.jsxs)("label",{className:"btn btn-outline",style:{position:"relative"},children:["Import Data",(0,Ae.jsx)("input",{type:"file",accept:".json",onChange:e=>{const n=e.target.files[0];if(!n)return;const r=new FileReader;r.onload=e=>{try{const n=JSON.parse(e.target.result);window.confirm("This will replace your current game data. Continue?")&&t({type:"IMPORT_GAME_STATE",payload:n})}catch(n){alert("Failed to import game data. The file may be corrupted."),console.error("Import error:",n)}},r.readAsText(n)},style:{position:"absolute",top:0,left:0,opacity:0,width:"100%",height:"100%",cursor:"pointer"}})]})]})]})]}),(0,Ae.jsxs)("div",{className:"card",style:{borderColor:n.danger,borderWidth:"1px",borderStyle:"solid"},children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",style:{color:n.danger},children:"Danger Zone"}),(0,Ae.jsx)("p",{className:"mb-md",children:"Reset all of your progress, tasks, and stats. This action cannot be undone."}),(0,Ae.jsx)("button",{className:"btn btn-danger",onClick:()=>{window.confirm("Are you sure you want to reset all game data? This cannot be undone!")&&t({type:"RESET_GAME"})},children:"Reset All Data"})]})]})},ez=()=>{const{unreadNotifications:e,markNotificationRead:t,clearNotification:n,achievements:i}=jb(),[a,o]=(0,r.useState)(null),[s,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)(null),{theme:d}=De();(0,r.useEffect)((()=>{if(a||0===e.length)return;const r=e[0],s=i.find((e=>e.id===r.achievementId));if(!s)return void n(r.id);o(r),u(s),t(r.id),l(!0);const c=setTimeout((()=>{l(!1)}),5e3);return()=>{clearTimeout(c)}}),[e,a,t,n]);return a&&c?(0,Ae.jsx)("div",{style:{position:"fixed",bottom:"var(--spacing-lg)",right:"var(--spacing-lg)",maxWidth:"300px",zIndex:1e3,opacity:s?1:0,transform:s?"translateY(0)":"translateY(20px)",transition:"all 0.3s ease-in-out"},onAnimationEnd:()=>{!s&&a&&(n(a.id),o(null),u(null))},children:(0,Ae.jsxs)("div",{style:{backgroundColor:d.card,color:d.text,padding:"var(--spacing-md)",borderRadius:"var(--border-radius-lg)",boxShadow:"var(--shadow-lg)",borderLeft:`3px solid ${d.success}`},children:[(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"flex-start",gap:"var(--spacing-md)"},children:[(0,Ae.jsx)("div",{style:{fontSize:"2rem",backgroundColor:"rgba(16, 185, 129, 0.1)",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:c.icon}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{style:{margin:0,marginBottom:"var(--spacing-xs)",color:d.success},children:"Achievement Unlocked!"}),(0,Ae.jsx)("h3",{style:{margin:0,marginBottom:"var(--spacing-xs)"},children:c.title}),(0,Ae.jsx)("p",{style:{margin:0,fontSize:"0.875rem"},children:c.description})]})]}),(0,Ae.jsx)("button",{style:{position:"absolute",top:"var(--spacing-xs)",right:"var(--spacing-xs)",background:"none",border:"none",color:d.text,opacity:.5,cursor:"pointer",fontSize:"0.75rem",padding:"2px 5px"},onClick:()=>l(!1),children:"\u2715"})]})}):null},tz=e=>{let{x:t,y:n,color:i,delay:a,size:o=10}=e;const[s,l]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{const e=setTimeout((()=>{l(!0)}),a);return()=>clearTimeout(e)}),[a]),s?(0,Ae.jsx)("div",{style:{position:"absolute",left:`${t}px`,top:`${n}px`,width:`${o}px`,height:`${o}px`,borderRadius:"50%",backgroundColor:i,opacity:0,pointerEvents:"none",animation:`particle 1s ease-out ${a}ms forwards`}}):null},nz=e=>{let{streak:t=0}=e;const{theme:n}=De(),[i,a]=(0,r.useState)(t),[o,s]=(0,r.useState)(!1),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)([]),h=(0,r.useRef)(null),f=(0,r.useRef)(null),p=(0,r.useRef)(null),m=()=>{if(!p.current)return;const e=p.current.getBoundingClientRect(),t=e.width/2,r=e.height/2,i=[],a=[n.accent,n.primary,"#FFD700","#FF6B35"];for(let n=0;n<12;n++){const e=t+(20*Math.random()-10),o=r-5*Math.random();i.push({id:Date.now()+n,x:e,y:o,color:a[Math.floor(Math.random()*a.length)],delay:200*Math.random(),size:5+7*Math.random()})}d(i),setTimeout((()=>{d([])}),2e3)};return(0,r.useEffect)((()=>{if(t>i){s(!0),c(!0),m(),f.current&&(f.current.style.transform="translateY(-10px) scale(1.5)",f.current.style.opacity="1"),h.current&&(h.current.style.transform="scale(1.3)",h.current.style.color=n.accent);const e=setTimeout((()=>{f.current&&(f.current.style.transform="translateY(0) scale(1)",f.current.style.opacity="0.9"),h.current&&(h.current.style.transform="scale(1)",h.current.style.color=t>=3?n.accent:n.text),s(!1)}),800);return a(t),()=>clearTimeout(e)}a(t)}),[t,i,n]),(0,Ae.jsxs)("div",{ref:p,onClick:()=>{s(!0),m(),f.current&&(f.current.style.transform="translateY(-15px) scale(1.8)",f.current.style.opacity="1"),h.current&&(h.current.style.transform="scale(1.5)",h.current.style.color=n.accent),setTimeout((()=>{f.current&&(f.current.style.transform="translateY(0) scale(1)",f.current.style.opacity="0.9"),h.current&&(h.current.style.transform="scale(1)",h.current.style.color=t>=3?n.accent:n.text),s(!1)}),800)},style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"var(--spacing-xs)",background:t>=3?"rgba(249, 115, 22, 0.2)":"rgba(0, 0, 0, 0.2)",padding:"4px 12px",borderRadius:"var(--border-radius-md)",position:"relative",overflow:"visible",cursor:"pointer",transition:"transform 0.2s ease"},onMouseOver:e=>{o||(e.currentTarget.style.transform="scale(1.05)")},onMouseOut:e=>{e.currentTarget.style.transform="scale(1)"},children:[(0,Ae.jsx)("div",{ref:f,className:"animate-flame",style:{fontSize:"1.25rem",transition:"transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.5s ease",opacity:.9,filter:t>=3?"none":"grayscale(40%)"},children:"\ud83d\udd25"}),(0,Ae.jsx)("span",{ref:h,style:{color:t>=3?n.accent:n.text,fontWeight:"bold",transition:"transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), color 0.3s ease"},children:t}),(0,Ae.jsxs)("span",{style:{color:t>=3?n.accent:n.text},children:["day",1!==t?"s":""]}),o&&(0,Ae.jsx)("div",{className:"animate-pulse",style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:`radial-gradient(circle, ${n.accent}20 0%, transparent 70%)`}}),u.map((e=>(0,Ae.jsx)(tz,{x:e.x,y:e.y,color:e.color,delay:e.delay,size:e.size},e.id)))]})},rz=e=>{let{src:t,alt:n,size:r="medium",className:i="",onClick:a,showBorder:o=!0}=e;const{playerName:s}=bb(),{theme:l}=De(),c=(()=>{switch(r){case"small":return{width:"36px",height:"36px",fontSize:"1rem"};case"large":return{width:"120px",height:"120px",fontSize:"3rem"};default:return{width:"64px",height:"64px",fontSize:"1.5rem"}}})();return(0,Ae.jsx)("div",{className:i,onClick:a,style:{...c,borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.1)",border:o?`2px solid ${l.primary}`:"none",overflow:"hidden",display:"flex",alignItems:"center",justifyContent:"center",color:l.text,fontWeight:"bold",cursor:a?"pointer":"default",transition:"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out",position:"relative"},children:t?(0,Ae.jsx)("img",{src:t,alt:n||`${s}'s profile picture`,style:{width:"100%",height:"100%",objectFit:"cover"}}):s?s.charAt(0).toUpperCase():"?"})};function iz(e,t){Le(2,arguments);var n=Fe(e),r=Fe(t),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function az(e){Le(1,arguments);var t=Fe(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function oz(e){Le(1,arguments);var t=Fe(e);return function(e){Le(1,arguments);var t=Fe(e);return t.setHours(23,59,59,999),t}(t).getTime()===az(t).getTime()}function sz(e,t){Le(2,arguments);var n,r=Fe(e),i=Fe(t),a=iz(r,i),o=Math.abs(function(e,t){Le(2,arguments);var n=Fe(e),r=Fe(t);return 12*(n.getFullYear()-r.getFullYear())+(n.getMonth()-r.getMonth())}(r,i));if(o<1)n=0;else{1===r.getMonth()&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-a*o);var s=iz(r,i)===-a;oz(Fe(e))&&1===o&&1===iz(e,i)&&(s=!1),n=a*(o-Number(s))}return 0===n?0:n}var lz={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function cz(e,t,n){Le(2,arguments);var r,i=function(e,t){return Le(2,arguments),Fe(e).getTime()-Fe(t).getTime()}(e,t)/1e3;return((r=null===n||void 0===n?void 0:n.roundingMethod)?lz[r]:lz.trunc)(i)}function uz(e,t){if(null==e)throw new TypeError("assign requires that input parameter not be null or undefined");for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}var dz=43200;function hz(e,t,n){var r,i;Le(2,arguments);var a=We(),o=null!==(r=null!==(i=null===n||void 0===n?void 0:n.locale)&&void 0!==i?i:a.locale)&&void 0!==r?r:_t;if(!o.formatDistance)throw new RangeError("locale must contain formatDistance property");var s=iz(e,t);if(isNaN(s))throw new RangeError("Invalid time value");var l,c,u=uz(function(e){return uz({},e)}(n),{addSuffix:Boolean(null===n||void 0===n?void 0:n.addSuffix),comparison:s});s>0?(l=Fe(t),c=Fe(e)):(l=Fe(e),c=Fe(t));var d,h=cz(c,l),f=(pt(c)-pt(l))/1e3,p=Math.round((h-f)/60);if(p<2)return null!==n&&void 0!==n&&n.includeSeconds?h<5?o.formatDistance("lessThanXSeconds",5,u):h<10?o.formatDistance("lessThanXSeconds",10,u):h<20?o.formatDistance("lessThanXSeconds",20,u):h<40?o.formatDistance("halfAMinute",0,u):h<60?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",1,u):0===p?o.formatDistance("lessThanXMinutes",1,u):o.formatDistance("xMinutes",p,u);if(p<45)return o.formatDistance("xMinutes",p,u);if(p<90)return o.formatDistance("aboutXHours",1,u);if(p<1440){var m=Math.round(p/60);return o.formatDistance("aboutXHours",m,u)}if(p<2520)return o.formatDistance("xDays",1,u);if(p<dz){var g=Math.round(p/1440);return o.formatDistance("xDays",g,u)}if(p<86400)return d=Math.round(p/dz),o.formatDistance("aboutXMonths",d,u);if((d=sz(c,l))<12){var y=Math.round(p/dz);return o.formatDistance("xMonths",y,u)}var v=d%12,b=Math.floor(d/12);return v<3?o.formatDistance("aboutXYears",b,u):v<9?o.formatDistance("overXYears",b,u):o.formatDistance("almostXYears",b+1,u)}const fz=()=>{const{notifications:e,unreadCount:t,markAsRead:n,markAllAsRead:i}=sx(),{pendingRequests:a,acceptFriendRequest:o,rejectFriendRequest:s}=ix(),{theme:l}=De(),c=J(),[u,d]=(0,r.useState)(!1),h=(0,r.useRef)(null);(0,r.useEffect)((()=>{const e=e=>{h.current&&!h.current.contains(e.target)&&d(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const f=e=>e?(e.toDate&&(e=e.toDate()),function(e,t){return Le(1,arguments),hz(e,Date.now(),t)}(new Date(e),{addSuffix:!0})):"Just now";return(0,Ae.jsxs)("div",{className:"notification-bell",ref:h,children:[(0,Ae.jsxs)("button",{className:"notification-bell__button "+(t>0?"has-notifications":""),onClick:()=>{d(!u)},"aria-label":"Notifications",style:{backgroundColor:u?"rgba(255, 255, 255, 0.1)":"transparent",color:l.text},children:[(0,Ae.jsx)("span",{className:"notification-bell__icon",children:"\ud83d\udd14"}),t>0&&(0,Ae.jsx)("span",{className:"notification-bell__badge",style:{backgroundColor:l.primary},children:t})]}),u&&(0,Ae.jsxs)("div",{className:"notification-dropdown",style:{backgroundColor:l.card,border:`1px solid ${l.border}`,color:l.text},children:[(0,Ae.jsxs)("div",{className:"notification-dropdown__header",children:[(0,Ae.jsx)("h3",{children:"Notifications"}),t>0&&(0,Ae.jsx)("button",{className:"notification-dropdown__mark-all",onClick:i,style:{color:l.primary},children:"Mark all as read"})]}),(0,Ae.jsxs)("div",{className:"notification-dropdown__content",children:[a&&a.length>0&&(0,Ae.jsxs)("div",{className:"notification-section",children:[(0,Ae.jsx)("h4",{children:"Friend Requests"}),a.map((e=>(0,Ae.jsxs)("div",{className:"notification-item notification-item--request",style:{backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[(0,Ae.jsxs)("div",{className:"notification-item__content",children:[(0,Ae.jsxs)("div",{className:"notification-item__title",children:[e.senderName||"Someone"," sent you a friend request"]}),(0,Ae.jsx)("div",{className:"notification-item__time",children:f(e.timestamp)})]}),(0,Ae.jsxs)("div",{className:"notification-item__actions",children:[(0,Ae.jsx)("button",{className:"btn btn-sm btn-primary",onClick:()=>(async e=>{await o(e)})(e.userId),children:"Accept"}),(0,Ae.jsx)("button",{className:"btn btn-sm btn-outline",onClick:()=>(async e=>{await s(e)})(e.userId),children:"Decline"})]})]},`request-${e.userId}`)))]}),e.length>0?(0,Ae.jsxs)("div",{className:"notification-section",children:[(0,Ae.jsx)("h4",{children:"Recent"}),e.map((e=>(0,Ae.jsxs)("div",{className:"notification-item "+(e.read?"":"notification-item--unread"),onClick:()=>(e=>{n(e.id),"challenge"===e.type?c("/social/challenges"):"friend_request"===e.type?c("/social"):"challenge_result"===e.type?c("/social/challenges"):c("/"),d(!1)})(e),style:{backgroundColor:e.read?"rgba(255, 255, 255, 0.05)":"rgba(99, 102, 241, 0.1)"},children:[(0,Ae.jsx)("div",{className:"notification-item__icon",children:"challenge"===e.type?"\ud83c\udfc6":"friend_request"===e.type?"\ud83d\udc65":"challenge_result"===e.type?"\ud83c\udfaf":"\ud83d\udce2"}),(0,Ae.jsxs)("div",{className:"notification-item__content",children:[(0,Ae.jsx)("div",{className:"notification-item__title",children:e.title}),(0,Ae.jsx)("div",{className:"notification-item__message",children:e.message}),(0,Ae.jsx)("div",{className:"notification-item__time",children:f(e.createdAt)})]})]},e.id)))]}):0===a.length?(0,Ae.jsx)("div",{className:"notification-empty",children:(0,Ae.jsx)("p",{children:"No notifications yet"})}):null]})]})]})},pz=e=>{var t;let{children:n}=e;const{currentUser:i}=ab(),{playerName:a,getOverallLevel:o,getOverallRank:s,streak:l,profilePicture:c}=bb(),{theme:u}=De(),d=X(),[h,f]=(0,r.useState)(!1),p=()=>{f(!1)},{unreadNotifications:m}=((null===i||void 0===i?void 0:i.displayName)||(null===i||void 0===i||null===(t=i.email)||void 0===t||t.split("@")[0]),jb()),g=[{path:"/",label:"Dashboard",icon:"\ud83d\udcca"},{path:"/profile",label:"Profile",icon:"\ud83d\udc64"},{path:"/stats",label:"Stats",icon:"\ud83d\udcc8"},{path:"/tasks",label:"Tasks",icon:"\u2705"},{path:"/calendar",label:"Calendar",icon:"\ud83d\udcc5"},{path:"/analytics",label:"Analytics",icon:"\ud83d\udd0d"},{path:"/social",label:"Social",icon:"\ud83d\udc65"},{path:"/achievements",label:"Achievements",icon:"\ud83c\udfc6",badge:m.length>0},{path:"/settings",label:"Settings",icon:"\u2699\ufe0f"}];return(0,Ae.jsxs)("div",{className:"app-container",children:[(0,Ae.jsxs)("header",{style:{backgroundColor:u.card,height:"var(--header-height)",position:"fixed",top:0,left:0,right:0,zIndex:100,boxShadow:"var(--shadow-md)",display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0 var(--spacing-lg)",borderBottom:`1px solid ${u.border}`},children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-md",children:[(0,Ae.jsx)("button",{className:"md:hidden btn btn-outline",onClick:()=>{f(!h)},"aria-label":"Toggle menu",children:h?"\u2715":"\u2630"}),(0,Ae.jsx)(Oe,{to:"/",style:{textDecoration:"none",color:u.text},children:(0,Ae.jsx)("h1",{style:{margin:0,fontSize:"1.25rem",cursor:"pointer"},children:"Solo Leveling IRL"})})]}),(0,Ae.jsxs)("div",{className:"flex items-center gap-md",children:[(0,Ae.jsx)(Oe,{to:"/profile",style:{textDecoration:"none"},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)",background:"rgba(0, 0, 0, 0.2)",padding:"4px 12px",borderRadius:"var(--border-radius-md)",cursor:"pointer",transition:"background-color var(--transition-fast)",color:u.text},children:[(0,Ae.jsxs)("span",{children:["Lv.",o()]}),(0,Ae.jsx)("div",{style:{width:"1px",height:"20px",background:"rgba(255, 255, 255, 0.2)"}}),(0,Ae.jsx)("span",{children:s()})]})}),(0,Ae.jsx)(nz,{streak:l.current}),(0,Ae.jsx)(fz,{}),(0,Ae.jsx)(Oe,{to:"/profile",style:{textDecoration:"none"},children:(0,Ae.jsx)(rz,{size:"small",src:c,onMouseOver:e=>{e.currentTarget.style.transform="scale(1.05)",e.currentTarget.style.boxShadow="0 0 8px rgba(99, 102, 241, 0.6)"},onMouseOut:e=>{e.currentTarget.style.transform="scale(1)",e.currentTarget.style.boxShadow="none"}})})]})]}),(0,Ae.jsx)("nav",{style:{backgroundColor:u.card,width:"var(--sidebar-width)",position:"fixed",top:"var(--header-height)",left:h?0:"-100%",bottom:0,zIndex:90,overflowY:"auto",transition:"left var(--transition-normal)",borderRight:`1px solid ${u.border}`,boxShadow:"var(--shadow-md)",padding:"var(--spacing-md) 0",display:"flex",flexDirection:"column"},className:"md:flex",children:(0,Ae.jsx)("div",{style:{flex:1},children:g.map((e=>(0,Ae.jsxs)(Oe,{to:e.path,onClick:p,style:{display:"flex",alignItems:"center",padding:"var(--spacing-md) var(--spacing-lg)",color:d.pathname===e.path?u.primary:u.text,borderLeft:`3px solid ${d.pathname===e.path?u.primary:"transparent"}`,background:d.pathname===e.path?"rgba(99, 102, 241, 0.1)":"transparent",transition:"all var(--transition-fast)"},children:[(0,Ae.jsx)("span",{style:{fontSize:"1.25rem",marginRight:"var(--spacing-md)"},children:e.icon}),e.label,e.badge&&(0,Ae.jsx)("div",{style:{marginLeft:"var(--spacing-sm)",backgroundColor:u.accent,color:"white",borderRadius:"50%",width:"18px",height:"18px",fontSize:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:m.length})]},e.path)))})}),h&&(0,Ae.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",zIndex:80,display:"block"},className:"md:hidden",onClick:p}),(0,Ae.jsx)("div",{className:"main-content",children:(0,Ae.jsx)("main",{className:"content-area",children:n})}),(0,Ae.jsx)(ez,{})]})},mz=e=>{let{achievement:t}=e;const{theme:n}=De();return(0,Ae.jsx)("div",{className:"card "+(t.unlocked?"animate-fade-in":""),style:{borderLeft:t.unlocked?`3px solid ${n.success}`:"3px solid rgba(255, 255, 255, 0.1)",opacity:t.unlocked?1:.7,transition:"all var(--transition-normal)"},children:(0,Ae.jsxs)("div",{className:"flex gap-md items-start",children:[(0,Ae.jsx)("div",{style:{fontSize:"2rem",backgroundColor:t.unlocked?"rgba(16, 185, 129, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"50%",width:"48px",height:"48px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:t.icon}),(0,Ae.jsxs)("div",{style:{flex:1},children:[(0,Ae.jsxs)("h3",{style:{margin:0,marginBottom:"var(--spacing-xs)",color:t.unlocked?n.success:n.text},children:[t.title,t.unlocked&&(0,Ae.jsx)("span",{style:{marginLeft:"var(--spacing-sm)",fontSize:"0.75rem",opacity:.7},children:"\u2022 Unlocked"})]}),(0,Ae.jsx)("p",{style:{margin:0,marginBottom:"var(--spacing-sm)",fontSize:"0.875rem"},children:t.description}),!t.unlocked&&t.progress&&(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-sm)"},children:[(0,Ae.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-xs)",fontSize:"0.75rem"},children:[(0,Ae.jsx)("span",{children:"Progress"}),(0,Ae.jsxs)("span",{children:[t.progress.current," / ",t.progress.target]})]}),(0,Ae.jsx)("div",{className:"progress-bar",children:(0,Ae.jsx)("div",{className:"progress-bar-fill",style:{width:t.progress.current/t.progress.target*100+"%",backgroundColor:n.primary}})})]}),t.unlocked&&t.unlockedAt&&(0,Ae.jsxs)("div",{style:{fontSize:"0.75rem",marginTop:"var(--spacing-sm)",color:n.text,opacity:.7},children:["Unlocked on ",Mt(new Date(t.unlockedAt),"MMM d, yyyy")]})]})]})})},gz=()=>{const{achievementsByCategory:e}=jb(),{theme:t}=De(),[n,i]=(0,r.useState)(null),a=Object.keys(e);a.length>0&&!n&&i(a[0]);const o=n?e[n]:[],s=Object.values(e).flat().filter((e=>e.unlocked)).length,l=Object.values(e).flat().length;return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Achievements"}),(0,Ae.jsxs)("div",{style:{padding:"4px 12px",borderRadius:"var(--border-radius-md)",backgroundColor:t.card},children:[s," / ",l," Unlocked"]})]}),(0,Ae.jsxs)("div",{className:"card mb-lg",children:[(0,Ae.jsx)("div",{style:{display:"flex",gap:"var(--spacing-md)",overflowX:"auto",paddingBottom:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:a.map((e=>(0,Ae.jsx)("button",{className:"btn "+(n===e?"btn-primary":"btn-outline"),onClick:()=>i(e),children:e},e)))}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-md",children:o.map((e=>(0,Ae.jsx)(mz,{achievement:e},e.id)))})]})]})};function yz(e,t){Le(2,arguments);var n=Fe(e),r=Be(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),a=new Date(n.getTime());return a.setMonth(n.getMonth()+r+1,0),i>=a.getDate()?a:(n.setFullYear(a.getFullYear(),a.getMonth(),i),n)}function vz(e){return Le(1,arguments),Ub(e,Date.now())}function bz(e,t){Le(2,arguments);var n=Fe(e),r=Fe(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}const xz=e=>{let{selectedDate:t,onClose:n}=e;const{theme:i}=De(),{STATS:a,TASK_TYPES:o}=bb(),{dispatch:s,templates:l,FREQUENCY_TYPES:c,DAYS_OF_WEEK:u}=qb(),[d,h]=(0,r.useState)(""),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)("regular"),[y,v]=(0,r.useState)(!1),[b,x]=(0,r.useState)(c.DAILY),[w,j]=(0,r.useState)((new Date).getDay()),[S,k]=(0,r.useState)([]),[E,T]=(0,r.useState)(!1),[C,O]=(0,r.useState)(null),_=e=>{if(e.preventDefault(),!d.trim()||!f||!m)return;const r={name:d.trim(),statId:f,type:m};if(y){const e={...r,frequency:b,frequencyConfig:b===c.WEEKLY?{dayOfWeek:w}:b===c.SPECIFIC_DAYS?{daysOfWeek:S}:{}};s({type:"ADD_RECURRING_TASK",payload:e})}else s({type:"ADD_SCHEDULED_TASK",payload:{...r,scheduledDate:t.toISOString()}});n()},N=f?l.filter((e=>e.statId===f)):l;return(0,Ae.jsx)("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.75)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"var(--spacing-md)"},children:(0,Ae.jsxs)("div",{style:{backgroundColor:i.card,borderRadius:"var(--border-radius-lg)",boxShadow:"var(--shadow-xl)",width:"100%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[(0,Ae.jsx)("button",{style:{position:"absolute",top:"var(--spacing-md)",right:"var(--spacing-md)",background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:i.text,opacity:.7},onClick:n,children:"\u2715"}),(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-lg)"},children:[(0,Ae.jsx)("h2",{style:{marginBottom:"var(--spacing-md)"},children:y?"Add Recurring Task":`Schedule Task for ${Mt(t,"MMMM d, yyyy")}`}),(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-md)",borderBottom:`1px solid ${i.border}`,marginBottom:"var(--spacing-lg)"},children:[(0,Ae.jsx)("button",{className:"btn "+(y?"btn-outline":"btn-primary"),onClick:()=>v(!1),children:"One-time Task"}),(0,Ae.jsx)("button",{className:"btn "+(y?"btn-primary":"btn-outline"),onClick:()=>v(!0),children:"Recurring Task"})]}),(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-md)",marginBottom:"var(--spacing-md)"},children:[(0,Ae.jsx)("button",{className:"btn "+(E?"btn-outline":"btn-primary"),onClick:()=>T(!1),children:"Custom Task"}),(0,Ae.jsx)("button",{className:"btn "+(E?"btn-primary":"btn-outline"),onClick:()=>T(!0),children:"Use Template"})]}),E?(0,Ae.jsxs)("div",{style:{marginBottom:"var(--spacing-lg)"},children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Filter by Stat"}),(0,Ae.jsxs)("select",{className:"form-select",value:f,onChange:e=>p(e.target.value),children:[(0,Ae.jsx)("option",{value:"",children:"All Stats"}),a.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))]})]}),(0,Ae.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"var(--spacing-sm)",marginTop:"var(--spacing-md)"},children:N.map((e=>{var t,n;return(0,Ae.jsx)("div",{style:{padding:"var(--spacing-sm)",borderRadius:"var(--border-radius-md)",backgroundColor:C&&C.id===e.id?"rgba(99, 102, 241, 0.1)":"rgba(255, 255, 255, 0.05)",border:C&&C.id===e.id?`1px solid ${i.primary}`:`1px solid ${i.border}`,cursor:"pointer"},onClick:()=>(e=>{O(e),h(e.name),p(e.statId),g(e.type)})(e),children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-sm)"},children:[(0,Ae.jsx)("div",{style:{fontSize:"1.25rem"},children:null===(t=a.find((t=>t.id===e.statId)))||void 0===t?void 0:t.icon}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{style:{fontWeight:"bold"},children:e.name}),(0,Ae.jsxs)("div",{style:{fontSize:"0.75rem",display:"flex",justifyContent:"space-between"},children:[(0,Ae.jsx)("span",{children:null===(n=a.find((t=>t.id===e.statId)))||void 0===n?void 0:n.name}),(0,Ae.jsxs)("span",{children:[e.type," task"]})]})]})]})},e.id)}))}),0===N.length&&(0,Ae.jsx)("div",{style:{textAlign:"center",padding:"var(--spacing-md)",opacity:.7},children:"No templates found. Try a different stat or create a custom task."})]}):(0,Ae.jsxs)("form",{onSubmit:_,children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"taskName",className:"form-label",children:"Task Name"}),(0,Ae.jsx)("input",{type:"text",id:"taskName",className:"form-input",value:d,onChange:e=>h(e.target.value),placeholder:"E.g., '30-minute jog' or 'Read for 15 minutes'",required:!0})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-md",children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"statId",className:"form-label",children:"Stat Category"}),(0,Ae.jsxs)("select",{id:"statId",className:"form-select",value:f,onChange:e=>p(e.target.value),required:!0,children:[(0,Ae.jsx)("option",{value:"",disabled:!0,children:"Select a stat"}),a.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))]})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"taskType",className:"form-label",children:"Task Difficulty"}),(0,Ae.jsx)("select",{id:"taskType",className:"form-select",value:m,onChange:e=>g(e.target.value),required:!0,children:Object.values(o).map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," (",e.points," pts | ",e.timeRequired,")"]},e.id)))})]})]})]}),y&&(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-md)"},children:[(0,Ae.jsx)("h3",{style:{marginBottom:"var(--spacing-sm)"},children:"Recurrence Pattern"}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Frequency"}),(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[(0,Ae.jsx)("button",{className:"btn "+(b===c.DAILY?"btn-primary":"btn-outline"),onClick:()=>x(c.DAILY),type:"button",children:"Daily"}),(0,Ae.jsx)("button",{className:"btn "+(b===c.WEEKLY?"btn-primary":"btn-outline"),onClick:()=>x(c.WEEKLY),type:"button",children:"Weekly"}),(0,Ae.jsx)("button",{className:"btn "+(b===c.SPECIFIC_DAYS?"btn-primary":"btn-outline"),onClick:()=>x(c.SPECIFIC_DAYS),type:"button",children:"Specific Days"})]})]}),b===c.WEEKLY&&(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Day of Week"}),(0,Ae.jsx)("select",{className:"form-select",value:w,onChange:e=>j(parseInt(e.target.value)),children:u.map((e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),b===c.SPECIFIC_DAYS&&(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Select Days"}),(0,Ae.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-sm)"},children:u.map((e=>(0,Ae.jsx)("button",{type:"button",className:"btn "+(S.includes(e.id)?"btn-primary":"btn-outline"),onClick:()=>{return t=e.id,void(S.includes(t)?k(S.filter((e=>e!==t))):k([...S,t]));var t},children:e.shortName},e.id)))}),0===S.length&&(0,Ae.jsx)("p",{style:{color:i.danger,fontSize:"0.875rem",marginTop:"var(--spacing-xs)"},children:"Please select at least one day"})]})]}),(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-lg)",display:"flex",justifyContent:"flex-end",gap:"var(--spacing-md)"},children:[(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:n,type:"button",children:"Cancel"}),(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:_,type:"button",disabled:!d.trim()||!f||!m||y&&b===c.SPECIFIC_DAYS&&0===S.length,children:y?"Add Recurring Task":"Schedule Task"})]})]})]})})},wz=()=>{const{theme:e}=De(),{STATS:t}=bb(),{getTasksForDate:n,scheduledTasks:i,recurringTasks:a}=qb(),[o,s]=(0,r.useState)(new Date),[l,c]=(0,r.useState)(new Date),[u,d]=(0,r.useState)(!1),h=()=>{const r=n(l),i=Mt(l,"EEEE, MMMM d, yyyy");return(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)"},children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h3",{className:"text-xl",children:i}),(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:()=>d(!0),children:"Add Task"})]}),r.length>0?(0,Ae.jsx)("div",{children:r.map(((n,r)=>{const i=void 0!==n.frequency,a=t.find((e=>e.id===n.statId));return(0,Ae.jsxs)("div",{className:"card",style:{marginBottom:"var(--spacing-sm)",borderLeft:i?`3px solid ${e.accent}`:`3px solid ${e.primary}`},children:[(0,Ae.jsxs)("div",{className:"flex gap-md",children:[(0,Ae.jsx)("div",{style:{fontSize:"1.5rem"},children:a.icon}),(0,Ae.jsxs)("div",{style:{flex:1},children:[(0,Ae.jsx)("h4",{style:{margin:0,marginBottom:"4px"},children:n.name}),(0,Ae.jsxs)("div",{style:{fontSize:"0.875rem",display:"flex",justifyContent:"space-between"},children:[(0,Ae.jsx)("span",{children:a.name}),(0,Ae.jsxs)("span",{children:[n.type," task"]})]})]})]}),i&&(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-sm)",fontSize:"0.75rem",padding:"4px 8px",backgroundColor:"rgba(249, 115, 22, 0.1)",color:e.accent,borderRadius:"var(--border-radius-sm)",display:"inline-block"},children:["\u21bb Recurring: ","daily"===n.frequency?"Daily":"weekly"===n.frequency?`Weekly (${Mt(Vb(Bb(new Date),n.frequencyConfig.dayOfWeek),"EEEE")})`:"Multiple days per week"]})]},r)}))}):(0,Ae.jsxs)("div",{style:{textAlign:"center",padding:"var(--spacing-lg)",opacity:.7},children:[(0,Ae.jsx)("p",{children:"No tasks scheduled for this day."}),(0,Ae.jsx)("button",{className:"btn btn-primary mt-md",onClick:()=>d(!0),children:"Schedule a Task"})]})]})};return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsx)("div",{className:"flex justify-between items-center mb-md",children:(0,Ae.jsx)("h2",{className:"text-2xl",children:"Calendar"})}),(0,Ae.jsxs)("div",{className:"card mb-lg",children:[(0,Ae.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"var(--spacing-md)",padding:"var(--spacing-sm)",borderBottom:`1px solid ${e.border}`},children:[(0,Ae.jsx)("h3",{style:{margin:0},children:Mt(o,"MMMM yyyy")}),(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>{s(function(e,t){return Le(2,arguments),yz(e,-Be(t))}(o,1))},style:{padding:"4px 12px"},children:"<"}),(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>{s(new Date),c(new Date)},style:{padding:"4px 12px"},children:"Today"}),(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>{s(yz(o,1))},style:{padding:"4px 12px"},children:">"})]})]}),(0,Ae.jsxs)("div",{style:{display:"flex",flexDirection:"column",md:"flex-row"},children:[(0,Ae.jsxs)("div",{style:{flex:2},children:[(()=>{const t=[],n=Bb(o);for(let r=0;r<7;r++)t.push((0,Ae.jsx)("div",{className:"calendar-day-header",style:{fontWeight:"bold",padding:"var(--spacing-sm)",textAlign:"center",borderBottom:`1px solid ${e.border}`},children:Mt(Vb(n,r),"EEE")},`header-${r}`));return(0,Ae.jsx)("div",{className:"calendar-days-header",style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)"},children:t})})(),(()=>{const r=function(e){Le(1,arguments);var t=Fe(e);return t.setDate(1),t.setHours(0,0,0,0),t}(o),i=az(r),a=Bb(r),s=zb(i),u=[];let d=[],h=a;for(;h<=s;){for(let i=0;i<7;i++){const i=Mt(h,"d"),a=n(h),o=Ub(h,l),s=vz(h),u=bz(h,r);d.push((0,Ae.jsxs)("div",{className:"calendar-day",style:{minHeight:"120px",padding:"var(--spacing-xs)",backgroundColor:o?"rgba(99, 102, 241, 0.1)":u?"transparent":"rgba(0, 0, 0, 0.05)",border:`1px solid ${e.border}`,cursor:"pointer",position:"relative",color:u?e.text:"rgba(255, 255, 255, 0.3)"},onClick:()=>{c(h)},children:[(0,Ae.jsx)("div",{style:{position:"absolute",top:"4px",right:"8px",height:"24px",width:"24px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",backgroundColor:s?e.primary:"transparent",color:s?"white":"inherit",fontWeight:s?"bold":"normal"},children:i}),(0,Ae.jsxs)("div",{style:{marginTop:"24px"},children:[a.slice(0,3).map(((e,n)=>{const r=void 0!==e.frequency,i=t.find((t=>t.id===e.statId));return(0,Ae.jsxs)("div",{style:{fontSize:"0.75rem",padding:"2px 4px",marginBottom:"2px",backgroundColor:r?"rgba(249, 115, 22, 0.1)":"rgba(99, 102, 241, 0.1)",borderRadius:"var(--border-radius-sm)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",opacity:u?1:.5},children:[(0,Ae.jsxs)("span",{children:[i.icon," "]}),(0,Ae.jsx)("span",{children:e.name})]},n)})),a.length>3&&(0,Ae.jsxs)("div",{style:{fontSize:"0.75rem",padding:"2px 4px",textAlign:"center",opacity:u?.7:.3},children:["+",a.length-3," more"]})]})]},h.toString())),h=Vb(h,1)}u.push((0,Ae.jsx)("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)"},children:d},h.toString())),d=[]}return(0,Ae.jsx)("div",{className:"calendar-body",children:u})})()]}),(0,Ae.jsx)("div",{style:{flex:1,borderLeft:`1px solid ${e.border}`,display:"none"},className:"md:block",children:h()})]})]}),(0,Ae.jsx)("div",{className:"card md:hidden",children:h()}),u&&(0,Ae.jsx)(xz,{selectedDate:l,onClose:()=>d(!1)})]})},jz=()=>{var e;const t=(null===(e=X().state)||void 0===e?void 0:e.statId)||null,{STATS:n,TASK_TYPES:i,tasks:a,completedTasks:o,dispatch:s,getTodaysTasks:l,getStreakBonus:c,streak:u}=bb(),{templates:d,recurringTasks:h,dispatch:f,getSuggestedTasks:p,TEMPLATE_CATEGORIES:m,FREQUENCY_TYPES:g,DAYS_OF_WEEK:y,saveAsTemplate:v}=qb(),{theme:b}=De(),[x,w]=(0,r.useState)("add"),[j,S]=(0,r.useState)(t),[k,E]=(0,r.useState)(""),[T,C]=(0,r.useState)("regular"),[O,_]=(0,r.useState)("all"),[N,A]=(0,r.useState)("all"),[I,P]=(0,r.useState)(!1),[D,M]=(0,r.useState)("personal"),[R,L]=(0,r.useState)(!1),[F,U]=(0,r.useState)(g.DAILY),[B,z]=(0,r.useState)((new Date).getDay()),[V,$]=(0,r.useState)([]),[q,H]=(0,r.useState)(!0),W=p(3);(0,r.useEffect)((()=>{t&&t!==j&&S(t)}),[t]);const K=e=>{s({type:"ADD_TASK",payload:{name:e.name,statId:e.statId,type:e.type}})},G=a.filter((e=>"all"===O||e.statId===O)),Y=d.filter((e=>("all"===N||e.category===N)&&("all"===O||e.statId===O))),Q=h.filter((e=>"all"===O||e.statId===O)),Z=l(),J=o.filter((e=>{const t=new Date(e.completedAt),n=new Date;return n.setDate(n.getDate()-7),t>=n})),ee=u.current>=3?100*c(u.current):0;return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Tasks"}),(0,Ae.jsx)(Oe,{to:"/calendar",className:"btn btn-outline",style:{textDecoration:"none"},children:"View Calendar"})]}),q&&W.length>0&&(0,Ae.jsxs)("div",{className:"card mb-lg",style:{borderLeft:`3px solid ${b.accent}`,backgroundColor:"rgba(124, 58, 237, 0.05)"},children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h3",{className:"text-xl",children:"Suggested Tasks"}),(0,Ae.jsx)("button",{className:"btn btn-outline",style:{padding:"4px 8px",fontSize:"0.75rem"},onClick:()=>H(!1),children:"Hide"})]}),(0,Ae.jsx)("p",{className:"mb-md",style:{fontSize:"0.875rem",opacity:.8},children:"These tasks are recommended based on your current stats and progress."}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-md",children:W.map(((e,t)=>{const r=n.find((t=>t.id===e.statId));return(0,Ae.jsxs)("div",{className:"card",style:{margin:0,cursor:"pointer",transition:"all var(--transition-fast)",borderLeft:`3px solid ${b.primary}`},onClick:()=>K(e),children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-md",children:[(0,Ae.jsx)("div",{style:{fontSize:"1.5rem"},children:r.icon}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{style:{margin:0,marginBottom:"4px"},children:e.name}),(0,Ae.jsxs)("div",{style:{fontSize:"0.875rem",display:"flex",justifyContent:"space-between"},children:[(0,Ae.jsx)("span",{children:r.name}),(0,Ae.jsxs)("span",{children:[e.type," task"]})]})]})]}),(0,Ae.jsx)("button",{className:"btn btn-primary mt-md",style:{width:"100%"},onClick:t=>{t.stopPropagation(),K(e)},children:"Add Task"})]},t)}))})]}),(0,Ae.jsxs)("div",{className:"card mb-lg",children:[(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-md)",flexWrap:"wrap",borderBottom:`1px solid ${b.border}`,marginBottom:"var(--spacing-lg)"},children:[(0,Ae.jsx)("button",{className:"btn "+("add"===x?"btn-primary":"btn-outline"),onClick:()=>w("add"),children:"Add Tasks"}),(0,Ae.jsx)("button",{className:"btn "+("current"===x?"btn-primary":"btn-outline"),onClick:()=>w("current"),children:"Current"}),(0,Ae.jsx)("button",{className:"btn "+("recurring"===x?"btn-primary":"btn-outline"),onClick:()=>w("recurring"),children:"Recurring"}),(0,Ae.jsx)("button",{className:"btn "+("templates"===x?"btn-primary":"btn-outline"),onClick:()=>w("templates"),children:"Templates"}),(0,Ae.jsx)("button",{className:"btn "+("completed"===x?"btn-primary":"btn-outline"),onClick:()=>w("completed"),children:"History"})]}),(0,Ae.jsxs)("div",{className:"form-group mb-lg",children:[(0,Ae.jsx)("label",{htmlFor:"filterStat",className:"form-label",children:"Filter by Stat"}),(0,Ae.jsxs)("select",{id:"filterStat",className:"form-select",value:O,onChange:e=>_(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"All Stats"}),n.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))]})]}),"add"===x&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-md)",marginBottom:"var(--spacing-md)"},children:[(0,Ae.jsx)("button",{className:"btn "+(I||R?"btn-outline":"btn-primary"),onClick:()=>{P(!1),L(!1)},children:"One-time Task"}),(0,Ae.jsx)("button",{className:"btn "+(R?"btn-primary":"btn-outline"),onClick:()=>{P(!1),L(!0)},children:"Recurring Task"}),(0,Ae.jsx)("button",{className:"btn "+(I?"btn-primary":"btn-outline"),onClick:()=>{P(!0),L(!1)},children:"Save as Template"})]}),(0,Ae.jsxs)("form",{onSubmit:e=>{e.preventDefault(),k.trim()&&j&&T&&(R?f({type:"ADD_RECURRING_TASK",payload:{name:k.trim(),statId:j,type:T,frequency:F,frequencyConfig:F===g.WEEKLY?{dayOfWeek:B}:F===g.SPECIFIC_DAYS?{daysOfWeek:V}:{}}}):I?f({type:"ADD_TEMPLATE",payload:{name:k.trim(),statId:j,type:T,category:D}}):s({type:"ADD_TASK",payload:{name:k.trim(),statId:j,type:T}}),E(""),C("regular"),P(!1),L(!1),U(g.DAILY),$([]))},children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"taskName",className:"form-label",children:"Task Name"}),(0,Ae.jsx)("input",{type:"text",id:"taskName",className:"form-input",value:k,onChange:e=>E(e.target.value),placeholder:"E.g., '30-minute jog' or 'Read for 15 minutes'",required:!0})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-md",children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"statId",className:"form-label",children:"Stat Category"}),(0,Ae.jsxs)("select",{id:"statId",className:"form-select",value:j||"",onChange:e=>S(e.target.value),required:!0,children:[(0,Ae.jsx)("option",{value:"",disabled:!0,children:"Select a stat"}),n.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))]})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"taskType",className:"form-label",children:"Task Difficulty"}),(0,Ae.jsx)("select",{id:"taskType",className:"form-select",value:T,onChange:e=>C(e.target.value),required:!0,children:Object.values(i).map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.name," (",e.points," pts | ",e.timeRequired,")"]},e.id)))})]})]}),I&&(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{htmlFor:"templateCategory",className:"form-label",children:"Template Category"}),(0,Ae.jsx)("select",{id:"templateCategory",className:"form-select",value:D,onChange:e=>M(e.target.value),required:!0,children:m.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))})]}),R&&(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-md)"},children:[(0,Ae.jsx)("h3",{style:{marginBottom:"var(--spacing-sm)"},children:"Recurrence Pattern"}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Frequency"}),(0,Ae.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-sm)"},children:[(0,Ae.jsx)("button",{type:"button",className:"btn "+(F===g.DAILY?"btn-primary":"btn-outline"),onClick:()=>U(g.DAILY),children:"Daily"}),(0,Ae.jsx)("button",{type:"button",className:"btn "+(F===g.WEEKLY?"btn-primary":"btn-outline"),onClick:()=>U(g.WEEKLY),children:"Weekly"}),(0,Ae.jsx)("button",{type:"button",className:"btn "+(F===g.SPECIFIC_DAYS?"btn-primary":"btn-outline"),onClick:()=>U(g.SPECIFIC_DAYS),children:"Specific Days"})]})]}),F===g.WEEKLY&&(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Day of Week"}),(0,Ae.jsx)("select",{className:"form-select",value:B,onChange:e=>z(parseInt(e.target.value)),children:y.map((e=>(0,Ae.jsx)("option",{value:e.id,children:e.name},e.id)))})]}),F===g.SPECIFIC_DAYS&&(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Select Days"}),(0,Ae.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"var(--spacing-sm)"},children:y.map((e=>(0,Ae.jsx)("button",{type:"button",className:"btn "+(V.includes(e.id)?"btn-primary":"btn-outline"),onClick:()=>{return t=e.id,void(V.includes(t)?$(V.filter((e=>e!==t))):$([...V,t]));var t},children:e.shortName},e.id)))}),0===V.length&&(0,Ae.jsx)("p",{style:{color:b.danger,fontSize:"0.875rem",marginTop:"var(--spacing-xs)"},children:"Please select at least one day"})]})]}),u.current>=3&&!I&&(0,Ae.jsx)("div",{style:{backgroundColor:"rgba(249, 115, 22, 0.1)",padding:"var(--spacing-md)",borderRadius:"var(--border-radius-md)",marginTop:"var(--spacing-md)",marginBottom:"var(--spacing-lg)",borderLeft:`3px solid ${b.accent}`},children:(0,Ae.jsxs)("p",{children:[(0,Ae.jsxs)("span",{style:{color:b.accent},children:["+",ee,"% Streak Bonus"]})," will be applied when you complete this task!"]})}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:!k.trim()||!j||!T||R&&F===g.SPECIFIC_DAYS&&0===V.length,children:I?"Save Template":R?"Add Recurring Task":"Add Task"})]})]}),"current"===x&&(0,Ae.jsx)(Ae.Fragment,{children:G.length>0?(0,Ae.jsx)("div",{children:(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Task"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Category"}),(0,Ae.jsx)("th",{style:{textAlign:"center",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Points"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:G.map((e=>{const t=i[e.type.toUpperCase()],r=n.find((t=>t.id===e.statId)),a=u.current>=3?c(u.current):0,o=Math.floor(t.points*a);t.points;return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:e.name}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,Ae.jsx)("span",{children:r.icon}),(0,Ae.jsx)("span",{children:r.name})]})}),(0,Ae.jsxs)("td",{style:{padding:"var(--spacing-sm)",textAlign:"center",borderBottom:`1px solid ${b.border}`},children:[t.points,o>0&&(0,Ae.jsxs)("span",{style:{color:b.accent,fontSize:"0.75rem",marginLeft:"4px"},children:["(+",o,")"]})]}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-sm)",justifyContent:"flex-end"},children:[(0,Ae.jsx)("button",{className:"btn btn-outline",style:{padding:"4px 8px"},onClick:()=>(e=>{v(e)})(e),children:"Save"}),(0,Ae.jsx)("button",{className:"btn btn-success",style:{padding:"4px 8px"},onClick:()=>{return t=e.id,void s({type:"COMPLETE_TASK",payload:{taskId:t}});var t},children:"Complete"}),(0,Ae.jsx)("button",{className:"btn btn-danger",style:{padding:"4px 8px"},onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this task?")&&s({type:"DELETE_TASK",payload:t}));var t},children:"Delete"})]})})]},e.id)}))})]})}):(0,Ae.jsxs)("div",{className:"text-center",style:{padding:"var(--spacing-lg)"},children:[(0,Ae.jsx)("p",{children:"No tasks available. Add a new task to get started!"}),(0,Ae.jsx)("button",{className:"btn btn-primary mt-md",onClick:()=>w("add"),children:"Add Task"})]})}),"recurring"===x&&(0,Ae.jsx)(Ae.Fragment,{children:Q.length>0?(0,Ae.jsx)("div",{children:(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Task"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Category"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Frequency"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Actions"})]})}),(0,Ae.jsx)("tbody",{children:Q.map((e=>{const t=n.find((t=>t.id===e.statId));let r="Daily";if(e.frequency===g.WEEKLY){var i;r=`Weekly on ${(null===(i=y.find((t=>t.id===e.frequencyConfig.dayOfWeek)))||void 0===i?void 0:i.name)||"Unknown"}`}else if(e.frequency===g.SPECIFIC_DAYS){r=`${e.frequencyConfig.daysOfWeek.map((e=>{var t;return(null===(t=y.find((t=>t.id===e)))||void 0===t?void 0:t.shortName)||"?"})).join(", ")}`}return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:e.name}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,Ae.jsx)("span",{children:t.icon}),(0,Ae.jsx)("span",{children:t.name})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsxs)("div",{style:{display:"inline-block",padding:"2px 8px",backgroundColor:"rgba(249, 115, 22, 0.1)",color:b.accent,borderRadius:"var(--border-radius-sm)",fontSize:"0.875rem"},children:["\u21bb ",r]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsx)("button",{className:"btn btn-danger",style:{padding:"4px 8px"},onClick:()=>{return t=e.id,void(window.confirm("Are you sure you want to delete this recurring task? This will not affect tasks already added to your list.")&&f({type:"DELETE_RECURRING_TASK",payload:t}));var t},children:"Delete"})})]},e.id)}))})]})}):(0,Ae.jsxs)("div",{className:"text-center",style:{padding:"var(--spacing-lg)"},children:[(0,Ae.jsx)("p",{children:"No recurring tasks set up. Create recurring tasks to build consistent habits!"}),(0,Ae.jsx)("button",{className:"btn btn-primary mt-md",onClick:()=>{w("add"),L(!0)},children:"Create Recurring Task"})]})}),"templates"===x&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:"form-group mb-md",children:[(0,Ae.jsx)("label",{htmlFor:"templateCategory",className:"form-label",children:"Filter by Category"}),(0,Ae.jsxs)("select",{id:"templateCategory",className:"form-select",value:N,onChange:e=>A(e.target.value),children:[(0,Ae.jsx)("option",{value:"all",children:"All Categories"}),m.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))]})]}),Y.length>0?(0,Ae.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-md",children:Y.map((e=>{const t=n.find((t=>t.id===e.statId)),r=m.find((t=>t.id===e.category));return(0,Ae.jsxs)("div",{className:"card",style:{margin:0,cursor:"pointer",transition:"all var(--transition-fast)",borderLeft:`3px solid ${b.primary}`},onClick:()=>K(e),children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-md",children:[(0,Ae.jsx)("div",{style:{fontSize:"1.5rem"},children:t.icon}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h4",{style:{margin:0,marginBottom:"4px"},children:e.name}),(0,Ae.jsxs)("div",{style:{fontSize:"0.875rem",display:"flex",justifyContent:"space-between"},children:[(0,Ae.jsx)("span",{children:t.name}),(0,Ae.jsxs)("span",{children:[e.type," task"]})]})]})]}),(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-sm)",padding:"4px 8px",borderRadius:"var(--border-radius-sm)",backgroundColor:"rgba(255, 255, 255, 0.05)",display:"inline-block",fontSize:"0.75rem"},children:[r.icon," ",r.name]}),(0,Ae.jsxs)("div",{className:"flex gap-sm mt-md",children:[(0,Ae.jsx)("button",{className:"btn btn-primary",style:{flex:1},onClick:t=>{t.stopPropagation(),K(e)},children:"Use"}),"personal"===e.category&&(0,Ae.jsx)("button",{className:"btn btn-danger",onClick:t=>{var n;t.stopPropagation(),n=e.id,window.confirm("Are you sure you want to delete this template?")&&f({type:"DELETE_TEMPLATE",payload:n})},style:{padding:"4px 8px"},children:"Delete"})]})]},e.id)}))}):(0,Ae.jsxs)("div",{className:"text-center",style:{padding:"var(--spacing-lg)"},children:[(0,Ae.jsx)("p",{children:"No templates found in this category."}),(0,Ae.jsx)("button",{className:"btn btn-primary mt-md",onClick:()=>{w("add"),P(!0)},children:"Create Template"})]})]}),"completed"===x&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:"mb-lg",children:[(0,Ae.jsx)("h3",{className:"mb-md",children:"Today's Completed Tasks"}),Z.length>0?(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Task"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Category"}),(0,Ae.jsx)("th",{style:{textAlign:"center",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Difficulty"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Points"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Time"})]})}),(0,Ae.jsx)("tbody",{children:Z.map((e=>{const t=n.find((t=>t.id===e.statId));return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:e.name}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,Ae.jsx)("span",{children:t.icon}),(0,Ae.jsx)("span",{children:t.name})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"center",borderBottom:`1px solid ${b.border}`},children:e.type}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsxs)("div",{children:["+",e.points,e.bonusPoints>0&&(0,Ae.jsxs)("span",{style:{color:b.accent,fontSize:"0.75rem",marginLeft:"4px"},children:["(+",e.bonusPoints,")"]})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${b.border}`},children:Mt(new Date(e.completedAt),"h:mm a")})]},e.id)}))})]}):(0,Ae.jsx)("p",{className:"text-center",children:"No tasks completed today."})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h3",{className:"mb-md",children:"Last 7 Days"}),J.length>0?(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Date"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Task"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Category"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:"Points"})]})}),(0,Ae.jsx)("tbody",{children:J.map((e=>{const t=n.find((t=>t.id===e.statId));return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:Mt(new Date(e.completedAt),"MMM d, yyyy")}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:e.name}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,Ae.jsx)("span",{children:t.icon}),(0,Ae.jsx)("span",{children:t.name})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${b.border}`},children:(0,Ae.jsxs)("div",{children:["+",e.points,e.bonusPoints>0&&(0,Ae.jsxs)("span",{style:{color:b.accent,fontSize:"0.75rem",marginLeft:"4px"},children:["(+",e.bonusPoints,")"]})]})})]},e.id)}))})]}):(0,Ae.jsx)("p",{className:"text-center",children:"No tasks completed in the last 7 days."})]})]})]})]})};var Sz=["type","layout","connectNulls","ref"],kz=["key"];function Ez(e){return Ez="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ez(e)}function Tz(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cz(){return Cz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cz.apply(this,arguments)}function Oz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oz(Object(n),!0).forEach((function(t){Lz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nz(e){return function(e){if(Array.isArray(e))return Az(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Az(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Az(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Az(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Iz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fz(r.key),r)}}function Pz(e,t,n){return t=Mz(t),function(e,t){if(t&&("object"===Ez(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Dz()?Reflect.construct(t,n||[],Mz(e).constructor):t.apply(e,n))}function Dz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Dz=function(){return!!e})()}function Mz(e){return Mz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Mz(e)}function Rz(e,t){return Rz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Rz(e,t)}function Lz(e,t,n){return(t=Fz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fz(e){var t=function(e,t){if("object"!=Ez(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ez(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Ez(t)?t:t+""}var Uz=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return Lz(e=Pz(this,t,[].concat(r)),"state",{isAnimationFinished:!0,totalLength:0}),Lz(e,"generateSimpleStrokeDasharray",(function(e,t){return"".concat(t,"px ").concat(e-t,"px")})),Lz(e,"getStrokeDasharray",(function(n,r,i){var a=i.reduce((function(e,t){return e+t}));if(!a)return e.generateSimpleStrokeDasharray(r,n);for(var o=Math.floor(n/a),s=n%a,l=r-n,c=[],u=0,d=0;u<i.length;d+=i[u],++u)if(d+i[u]>s){c=[].concat(Nz(i.slice(0,u)),[s-d]);break}var h=c.length%2===0?[0,l]:[l];return[].concat(Nz(t.repeat(i,o)),Nz(c),h).map((function(e){return"".concat(e,"px")})).join(", ")})),Lz(e,"id",Dx("recharts-line-")),Lz(e,"pathRef",(function(t){e.mainCurve=t})),Lz(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()})),Lz(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()})),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Rz(e,t)}(t,e),n=t,i=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(t){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.points,a=n.xAxis,o=n.yAxis,s=n.layout,l=uw(n.children,SI);if(!l)return null;var c=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:MI(e.payload,t)}},u={clipPath:e?"url(#clipPath-".concat(t,")"):null};return r.createElement(Bw,u,l.map((function(e){return r.cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:i,xAxis:a,yAxis:o,layout:s,dataPointFormatter:c})})))}},{key:"renderDots",value:function(e,n,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.dot,s=a.points,l=a.dataKey,c=mw(this.props,!1),u=mw(o,!0),d=s.map((function(e,n){var r=_z(_z(_z({key:"dot-".concat(n),r:3},c),u),{},{value:e.value,dataKey:l,cx:e.x,cy:e.y,index:n,payload:e.payload});return t.renderDotItem(o,r)})),h={clipPath:e?"url(#clipPath-".concat(n?"":"dots-").concat(i,")"):null};return r.createElement(Bw,Cz({className:"recharts-line-dots",key:"dots"},h),d)}},{key:"renderCurveStatically",value:function(e,t,n,i){var a=this.props,o=a.type,s=a.layout,l=a.connectNulls,c=(a.ref,Tz(a,Sz)),u=_z(_z(_z({},mw(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(n,")"):null,points:e},i),{},{type:o,layout:s,connectNulls:l});return r.createElement(_L,Cz({},u,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var n=this,i=this.props,a=i.points,o=i.strokeDasharray,s=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,h=i.animateNewValues,f=i.width,p=i.height,m=this.state,g=m.prevPoints,y=m.totalLength;return r.createElement(bE,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"line-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(r){var i=r.t;if(g){var s=g.length/a.length,l=a.map((function(e,t){var n=Math.floor(t*s);if(g[n]){var r=g[n],a=Lx(r.x,e.x),o=Lx(r.y,e.y);return _z(_z({},e),{},{x:a(i),y:o(i)})}if(h){var l=Lx(2*f,e.x),c=Lx(p/2,e.y);return _z(_z({},e),{},{x:l(i),y:c(i)})}return _z(_z({},e),{},{x:e.x,y:e.y})}));return n.renderCurveStatically(l,e,t)}var c,u=Lx(0,y)(i);if(o){var d="".concat(o).split(/[,\s]+/gim).map((function(e){return parseFloat(e)}));c=n.getStrokeDasharray(u,y,d)}else c=n.generateSimpleStrokeDasharray(y,u);return n.renderCurveStatically(a,e,t,{strokeDasharray:c})}))}},{key:"renderCurve",value:function(e,t){var n=this.props,r=n.points,i=n.isAnimationActive,a=this.state,o=a.prevPoints,s=a.totalLength;return i&&r&&r.length&&(!o&&s>0||!DA()(o,r))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(r,e,t)}},{key:"render",value:function(){var e,t=this.props,n=t.hide,i=t.dot,a=t.points,o=t.className,s=t.xAxis,l=t.yAxis,c=t.top,u=t.left,d=t.width,h=t.height,f=t.isAnimationActive,p=t.id;if(n||!a||!a.length)return null;var m=this.state.isAnimationFinished,g=1===a.length,y=vx("recharts-line",o),v=s&&s.allowDataOverflow,b=l&&l.allowDataOverflow,x=v||b,w=zx()(p)?this.id:p,j=null!==(e=mw(i,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=j.r,k=void 0===S?3:S,E=j.strokeWidth,T=void 0===E?2:E,C=(function(e){return e&&"object"===iw(e)&&"clipDot"in e}(i)?i:{}).clipDot,O=void 0===C||C,_=2*k+T;return r.createElement(Bw,{className:y},v||b?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(w)},r.createElement("rect",{x:v?u:u-d/2,y:b?c:c-h/2,width:v?d:2*d,height:b?h:2*h})),!O&&r.createElement("clipPath",{id:"clipPath-dots-".concat(w)},r.createElement("rect",{x:u-_/2,y:c-_/2,width:d+_,height:h+_}))):null,!g&&this.renderCurve(x,w),this.renderErrorBar(x,w),(g||i)&&this.renderDots(x,O,w),(!f||m)&&gD.renderCallByParent(this.props,a))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var n=e.length%2!==0?[].concat(Nz(e),[0]):e,r=[],i=0;i<t;++i)r=[].concat(Nz(r),Nz(n));return r}},{key:"renderDotItem",value:function(e,t){var n;if(r.isValidElement(e))n=r.cloneElement(e,t);else if($x()(e))n=e(t);else{var i=t.key,a=Tz(t,kz),o=vx("recharts-line-dot","boolean"!==typeof e?e.className:"");n=r.createElement(qS,Cz({key:i},a,{className:o}))}return n}}],i&&Iz(n.prototype,i),a&&Iz(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);Lz(Uz,"displayName","Line"),Lz(Uz,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!fj.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),Lz(Uz,"getComposedData",(function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,a=e.yAxisTicks,o=e.dataKey,s=e.bandSize,l=e.displayedData,c=e.offset,u=t.layout,d=l.map((function(e,t){var l=MI(e,o);return"horizontal"===u?{x:XI({axis:n,ticks:i,bandSize:s,entry:e,index:t}),y:zx()(l)?null:r.scale(l),value:l,payload:e}:{x:zx()(l)?null:n.scale(l),y:XI({axis:r,ticks:a,bandSize:s,entry:e,index:t}),value:l,payload:e}}));return _z({points:d,layout:u},c)}));var Bz,zz=SF({chartName:"LineChart",GraphicalChild:Uz,axisComponents:[{axisType:"xAxis",AxisComp:wB},{axisType:"yAxis",AxisComp:IB}],formatAxisMap:IM});function Vz(e){return Vz="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vz(e)}function $z(){return $z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$z.apply(this,arguments)}function qz(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Hz(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qz(Object(n),!0).forEach((function(t){Xz(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qz(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wz(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zz(r.key),r)}}function Kz(e,t,n){return t=Yz(t),function(e,t){if(t&&("object"===Vz(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,Gz()?Reflect.construct(t,n||[],Yz(e).constructor):t.apply(e,n))}function Gz(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gz=function(){return!!e})()}function Yz(e){return Yz=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Yz(e)}function Qz(e,t){return Qz=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qz(e,t)}function Xz(e,t,n){return(t=Zz(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zz(e){var t=function(e,t){if("object"!=Vz(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vz(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Vz(t)?t:t+""}var Jz=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),Xz(n=Kz(this,t,[e]),"pieRef",null),Xz(n,"sectorRefs",[]),Xz(n,"id",Dx("recharts-pie-")),Xz(n,"handleAnimationEnd",(function(){var e=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),$x()(e)&&e()})),Xz(n,"handleAnimationStart",(function(){var e=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),$x()(e)&&e()})),n.state={isAnimationFinished:!e.isAnimationActive,prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,sectorToFocus:0},n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qz(e,t)}(t,e),n=t,a=[{key:"getDerivedStateFromProps",value:function(e,t){return t.prevIsAnimationActive!==e.isAnimationActive?{prevIsAnimationActive:e.isAnimationActive,prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:[],isAnimationFinished:!0}:e.isAnimationActive&&e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curSectors:e.sectors,prevSectors:t.curSectors,isAnimationFinished:!0}:e.sectors!==t.curSectors?{curSectors:e.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(e,t){return e>t?"start":e<t?"end":"middle"}},{key:"renderLabelLineItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);if($x()(e))return e(t);var i=vx("recharts-pie-label-line","boolean"!==typeof e?e.className:"");return r.createElement(_L,$z({},t,{key:n,type:"linear",className:i}))}},{key:"renderLabelItem",value:function(e,t,n){if(r.isValidElement(e))return r.cloneElement(e,t);var i=n;if($x()(e)&&(i=e(t),r.isValidElement(i)))return i;var a=vx("recharts-pie-label-text","boolean"===typeof e||$x()(e)?"":e.className);return r.createElement(ET,$z({},t,{alignmentBaseline:"middle",className:a}),i)}}],(i=[{key:"isActiveIndex",value:function(e){var t=this.props.activeIndex;return Array.isArray(t)?-1!==t.indexOf(e):e===t}},{key:"hasActiveIndex",value:function(){var e=this.props.activeIndex;return Array.isArray(e)?0!==e.length:e||0===e}},{key:"renderLabels",value:function(e){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var n=this.props,i=n.label,a=n.labelLine,o=n.dataKey,s=n.valueKey,l=mw(this.props,!1),c=mw(i,!1),u=mw(a,!1),d=i&&i.offsetRadius||20,h=e.map((function(e,n){var h=(e.startAngle+e.endAngle)/2,f=IP(e.cx,e.cy,e.outerRadius+d,h),p=Hz(Hz(Hz(Hz({},l),e),{},{stroke:"none"},c),{},{index:n,textAnchor:t.getTextAnchor(f.x,e.cx)},f),m=Hz(Hz(Hz(Hz({},l),e),{},{fill:"none",stroke:e.fill},u),{},{index:n,points:[IP(e.cx,e.cy,e.outerRadius,h),f]}),g=o;return zx()(o)&&zx()(s)?g="value":zx()(o)&&(g=s),r.createElement(Bw,{key:"label-".concat(e.startAngle,"-").concat(e.endAngle,"-").concat(e.midAngle,"-").concat(n)},a&&t.renderLabelLineItem(a,m,"line"),t.renderLabelItem(i,p,MI(e,g)))}));return r.createElement(Bw,{className:"recharts-pie-labels"},h)}},{key:"renderSectorsStatically",value:function(e){var t=this,n=this.props,i=n.activeShape,a=n.blendStroke,o=n.inactiveShape;return e.map((function(n,s){if(0===(null===n||void 0===n?void 0:n.startAngle)&&0===(null===n||void 0===n?void 0:n.endAngle)&&1!==e.length)return null;var l=t.isActiveIndex(s),c=o&&t.hasActiveIndex()?o:null,u=l?i:c,d=Hz(Hz({},n),{},{stroke:a?n.fill:n.stroke,tabIndex:-1});return r.createElement(Bw,$z({ref:function(e){e&&!t.sectorRefs.includes(e)&&t.sectorRefs.push(e)},tabIndex:-1,className:"recharts-pie-sector"},ew(t.props,n,s),{key:"sector-".concat(null===n||void 0===n?void 0:n.startAngle,"-").concat(null===n||void 0===n?void 0:n.endAngle,"-").concat(n.midAngle,"-").concat(s)}),r.createElement(GD,$z({option:u,isActive:l,shapeType:"sector"},d)))}))}},{key:"renderSectorsWithAnimation",value:function(){var e=this,t=this.props,n=t.sectors,i=t.isAnimationActive,a=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state,u=c.prevSectors,d=c.prevIsAnimationActive;return r.createElement(bE,{begin:a,duration:o,isActive:i,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l,"-").concat(d),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},(function(t){var i=t.t,a=[],o=(n&&n[0]).startAngle;return n.forEach((function(e,t){var n=u&&u[t],r=t>0?Tx()(e,"paddingAngle",0):0;if(n){var s=Lx(n.endAngle-n.startAngle,e.endAngle-e.startAngle),l=Hz(Hz({},e),{},{startAngle:o+r,endAngle:o+s(i)+r});a.push(l),o=l.endAngle}else{var c=e.endAngle,d=e.startAngle,h=Lx(0,c-d)(i),f=Hz(Hz({},e),{},{startAngle:o+r,endAngle:o+h+r});a.push(f),o=f.endAngle}})),r.createElement(Bw,null,e.renderSectorsStatically(a))}))}},{key:"attachKeyboardHandlers",value:function(e){var t=this;e.onkeydown=function(e){if(!e.altKey)switch(e.key){case"ArrowLeft":var n=++t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[n].focus(),t.setState({sectorToFocus:n});break;case"ArrowRight":var r=--t.state.sectorToFocus<0?t.sectorRefs.length-1:t.state.sectorToFocus%t.sectorRefs.length;t.sectorRefs[r].focus(),t.setState({sectorToFocus:r});break;case"Escape":t.sectorRefs[t.state.sectorToFocus].blur(),t.setState({sectorToFocus:0})}}}},{key:"renderSectors",value:function(){var e=this.props,t=e.sectors,n=e.isAnimationActive,r=this.state.prevSectors;return!(n&&t&&t.length)||r&&DA()(r,t)?this.renderSectorsStatically(t):this.renderSectorsWithAnimation()}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var e=this,t=this.props,n=t.hide,i=t.sectors,a=t.className,o=t.label,s=t.cx,l=t.cy,c=t.innerRadius,u=t.outerRadius,d=t.isAnimationActive,h=this.state.isAnimationFinished;if(n||!i||!i.length||!Ax(s)||!Ax(l)||!Ax(c)||!Ax(u))return null;var f=vx("recharts-pie",a);return r.createElement(Bw,{tabIndex:this.props.rootTabIndex,className:f,ref:function(t){e.pieRef=t}},this.renderSectors(),o&&this.renderLabels(i),YP.renderCallByParent(this.props,null,!1),(!d||h)&&gD.renderCallByParent(this.props,i,!1))}}])&&Wz(n.prototype,i),a&&Wz(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);Bz=Jz,Xz(Jz,"displayName","Pie"),Xz(Jz,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!fj.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0}),Xz(Jz,"parseDeltaAngle",(function(e,t){return _x(t-e)*Math.min(Math.abs(t-e),360)})),Xz(Jz,"getRealPieData",(function(e){var t=e.data,n=e.children,r=mw(e,!1),i=uw(n,nD);return t&&t.length?t.map((function(e,t){return Hz(Hz(Hz({payload:e},r),e),i&&i[t]&&i[t].props)})):i&&i.length?i.map((function(e){return Hz(Hz({},r),e.props)})):[]})),Xz(Jz,"parseCoordinateOfPie",(function(e,t){var n=t.top,r=t.left,i=t.width,a=t.height,o=PP(i,a);return{cx:r+Mx(e.cx,i,i/2),cy:n+Mx(e.cy,a,a/2),innerRadius:Mx(e.innerRadius,o,0),outerRadius:Mx(e.outerRadius,o,.8*o),maxRadius:e.maxRadius||Math.sqrt(i*i+a*a)/2}})),Xz(Jz,"getComposedData",(function(e){var t=e.item,n=e.offset,r=void 0!==t.type.defaultProps?Hz(Hz({},t.type.defaultProps),t.props):t.props,i=Bz.getRealPieData(r);if(!i||!i.length)return null;var a=r.cornerRadius,o=r.startAngle,s=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,h=r.tooltipType,f=Math.abs(r.minAngle),p=Bz.parseCoordinateOfPie(r,n),m=Bz.parseDeltaAngle(o,s),g=Math.abs(m),y=c;zx()(c)&&zx()(d)?(Ux(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y="value"):zx()(c)&&(Ux(!1,'Use "dataKey" to specify the value of pie,\n      the props "valueKey" will be deprecated in 1.1.0'),y=d);var v,b,x=i.filter((function(e){return 0!==MI(e,y,0)})).length,w=g-x*f-(g>=360?x:x-1)*l,j=i.reduce((function(e,t){var n=MI(t,y,0);return e+(Ax(n)?n:0)}),0);j>0&&(v=i.map((function(e,t){var n,r=MI(e,y,0),i=MI(e,u,t),s=(Ax(r)?r:0)/j,c=(n=t?b.endAngle+_x(m)*l*(0!==r?1:0):o)+_x(m)*((0!==r?f:0)+s*w),d=(n+c)/2,g=(p.innerRadius+p.outerRadius)/2,v=[{name:i,value:r,payload:e,dataKey:y,type:h}],x=IP(p.cx,p.cy,g,d);return b=Hz(Hz(Hz({percent:s,cornerRadius:a,name:i,tooltipPayload:v,midAngle:d,middleRadius:g,tooltipPosition:x},e),p),{},{value:MI(e,y),startAngle:n,endAngle:c,payload:e,paddingAngle:_x(m)*l})})));return Hz(Hz({},p),{},{sectors:v,data:i})}));var eV=SF({chartName:"PieChart",GraphicalChild:Jz,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:sU},{axisType:"radiusAxis",AxisComp:TU}],formatAxisMap:DP,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),tV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},nV=r.createContext&&r.createContext(tV),rV=function(){return rV=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},rV.apply(this,arguments)},iV=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function aV(e){return e&&e.map((function(e,t){return r.createElement(e.tag,rV({key:t},e.attr),aV(e.child))}))}function oV(e){return function(t){return r.createElement(sV,rV({attr:rV({},e.attr)},t),aV(e.child))}}function sV(e){var t=function(t){var n,i=e.attr,a=e.size,o=e.title,s=iV(e,["attr","size","title"]),l=a||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),r.createElement("svg",rV({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,i,s,{className:n,style:rV(rV({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&r.createElement("title",null,o),e.children)};return void 0!==nV?r.createElement(nV.Consumer,null,(function(e){return t(e)})):t(tV)}function lV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM13 12H16L12 16L8 12H11V8H13V12Z"}}]})(e)}function cV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.9999 16.1716L18.3638 10.8076L19.778 12.2218L11.9999 20L4.22168 12.2218L5.63589 10.8076L10.9999 16.1716V4H12.9999V16.1716Z"}}]})(e)}function uV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.82843 10.9999H20V12.9999H7.82843L13.1924 18.3638L11.7782 19.778L4 11.9999L11.7782 4.22168L13.1924 5.63589L7.82843 10.9999Z"}}]})(e)}function dV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.1716 10.9999L10.8076 5.63589L12.2218 4.22168L20 11.9999L12.2218 19.778L10.8076 18.3638L16.1716 12.9999H4V10.9999H16.1716Z"}}]})(e)}function hV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M16.0037 9.41421L7.39712 18.0208L5.98291 16.6066L14.5895 8H7.00373V6H18.0037V17H16.0037V9.41421Z"}}]})(e)}function fV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C17.52 2 22 6.48 22 12C22 17.52 17.52 22 12 22C6.48 22 2 17.52 2 12C2 6.48 6.48 2 12 2ZM12 20C16.42 20 20 16.42 20 12C20 7.58 16.42 4 12 4C7.58 4 4 7.58 4 12C4 16.42 7.58 20 12 20ZM13 12V16H11V12H8L12 8L16 12H13Z"}}]})(e)}function pV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.9999 7.82843V20H10.9999V7.82843L5.63589 13.1924L4.22168 11.7782L11.9999 4L19.778 11.7782L18.3638 13.1924L12.9999 7.82843Z"}}]})(e)}function mV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M3 12H5V21H3V12ZM19 8H21V21H19V8ZM11 2H13V21H11V2Z"}}]})(e)}function gV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9 1V3H15V1H17V3H21C21.5523 3 22 3.44772 22 4V20C22 20.5523 21.5523 21 21 21H3C2.44772 21 2 20.5523 2 20V4C2 3.44772 2.44772 3 3 3H7V1H9ZM20 11H4V19H20V11ZM7 5H4V9H20V5H17V7H15V5H9V7H7V5Z"}}]})(e)}function yV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M21.1384 3C21.4146 3 21.6385 3.22386 21.6385 3.5C21.6385 3.58701 21.6157 3.67252 21.5725 3.74807L18 10L21.5725 16.2519C21.7095 16.4917 21.6262 16.7971 21.3865 16.9341C21.3109 16.9773 21.2254 17 21.1384 17H4V22H2V3H21.1384ZM18.5536 5H4V15H18.5536L15.6965 10L18.5536 5Z"}}]})(e)}function vV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 3V19H21V21H3V3H5ZM20.2929 6.29289L21.7071 7.70711L16 13.4142L13 10.415L8.70711 14.7071L7.29289 13.2929L13 7.58579L16 10.585L20.2929 6.29289Z"}}]})(e)}function bV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M5 8H19V5H5V8ZM14 19V10H5V19H14ZM16 19H19V10H16V19ZM4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3Z"}}]})(e)}function xV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 2C17.5222 2 22 5.97778 22 10.8889C22 13.9556 19.5111 16.4444 16.4444 16.4444H14.4778C13.5556 16.4444 12.8111 17.1889 12.8111 18.1111C12.8111 18.5333 12.9778 18.9222 13.2333 19.2111C13.5 19.5111 13.6667 19.9 13.6667 20.3333C13.6667 21.2556 12.9 22 12 22C6.47778 22 2 17.5222 2 12C2 6.47778 6.47778 2 12 2ZM10.8111 18.1111C10.8111 16.0843 12.451 14.4444 14.4778 14.4444H16.4444C18.4065 14.4444 20 12.851 20 10.8889C20 7.1392 16.4677 4 12 4C7.58235 4 4 7.58235 4 12C4 16.19 7.2226 19.6285 11.324 19.9718C10.9948 19.4168 10.8111 18.7761 10.8111 18.1111ZM7.5 12C6.67157 12 6 11.3284 6 10.5C6 9.67157 6.67157 9 7.5 9C8.32843 9 9 9.67157 9 10.5C9 11.3284 8.32843 12 7.5 12ZM16.5 12C15.6716 12 15 11.3284 15 10.5C15 9.67157 15.6716 9 16.5 9C17.3284 9 18 9.67157 18 10.5C18 11.3284 17.3284 12 16.5 12ZM12 9C11.1716 9 10.5 8.32843 10.5 7.5C10.5 6.67157 11.1716 6 12 6C12.8284 6 13.5 6.67157 13.5 7.5C13.5 8.32843 12.8284 9 12 9Z"}}]})(e)}function wV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M15.7279 9.57629L14.3137 8.16207L5 17.4758V18.89H6.41421L15.7279 9.57629ZM17.1421 8.16207L18.5563 6.74786L17.1421 5.33365L15.7279 6.74786L17.1421 8.16207ZM7.24264 20.89H3V16.6474L16.435 3.21233C16.8256 2.8218 17.4587 2.8218 17.8492 3.21233L20.6777 6.04075C21.0682 6.43128 21.0682 7.06444 20.6777 7.45497L7.24264 20.89Z"}}]})(e)}function jV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7.10508 8.78991C7.45179 10.0635 8.61653 11 10 11H14C16.4703 11 18.5222 12.7915 18.9274 15.1461C20.1303 15.5367 21 16.6668 21 18C21 19.6569 19.6569 21 18 21C16.3431 21 15 19.6569 15 18C15 16.7334 15.7849 15.6501 16.8949 15.2101C16.5482 13.9365 15.3835 13 14 13H10C8.87439 13 7.83566 12.6281 7 12.0004V15.1707C8.16519 15.5825 9 16.6938 9 18C9 19.6569 7.65685 21 6 21C4.34315 21 3 19.6569 3 18C3 16.6938 3.83481 15.5825 5 15.1707V8.82929C3.83481 8.41746 3 7.30622 3 6C3 4.34315 4.34315 3 6 3C7.65685 3 9 4.34315 9 6C9 7.26661 8.21506 8.34988 7.10508 8.78991ZM6 7C6.55228 7 7 6.55228 7 6C7 5.44772 6.55228 5 6 5C5.44772 5 5 5.44772 5 6C5 6.55228 5.44772 7 6 7ZM6 19C6.55228 19 7 18.5523 7 18C7 17.4477 6.55228 17 6 17C5.44772 17 5 17.4477 5 18C5 18.5523 5.44772 19 6 19ZM18 19C18.5523 19 19 18.5523 19 18C19 17.4477 18.5523 17 18 17C17.4477 17 17 17.4477 17 18C17 18.5523 17.4477 19 18 19Z"}}]})(e)}function SV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.5065 3.62344L11.4835 5.39519C8.57378 4.51647 5.96968 4.9455 5.07207 6.50019C3.89477 8.53934 5.86239 12.1526 9.75027 14.3973C13.6382 16.642 17.7512 16.5393 18.9285 14.5002C19.8261 12.9455 18.8956 10.4758 16.6797 8.39519L17.7026 6.62344C20.7847 9.33215 22.1654 12.8936 20.6605 15.5002C18.8003 18.7223 13.4717 18.8552 8.75027 16.1294C4.0289 13.4035 1.47976 8.72227 3.34002 5.50019C4.84492 2.89362 8.61964 2.30867 12.5065 3.62344ZM15.8842 1.77295L17.6163 2.77295L12.6163 11.4332L10.8842 10.4332L15.8842 1.77295ZM6.73233 20.0002H17.0003V22.0002H5.01761C4.94008 22.0016 4.86194 21.994 4.78481 21.977C4.77025 21.9737 4.7558 21.9702 4.74147 21.9664C4.6589 21.9442 4.57784 21.911 4.50028 21.8662C4.47106 21.8493 4.44301 21.8312 4.41616 21.812C4.30161 21.7294 4.20524 21.6232 4.1342 21.5004C4.06328 21.3774 4.01939 21.2406 4.00518 21.0999C4.00446 21.0926 4.00381 21.0852 4.00325 21.0779C3.98786 20.8832 4.02924 20.6821 4.13425 20.5002L6.38425 16.6031L8.1163 17.6031L6.73233 20.0002Z"}}]})(e)}function kV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M7 19V13H17V19H19V7.82843L16.1716 5H5V19H7ZM4 3H17L21 7V20C21 20.5523 20.5523 21 20 21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3ZM9 15V19H15V15H9Z"}}]})(e)}function EV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M22.001 10.6906C22.001 12.4773 21.3143 14.0898 19.8776 15.6639C17.7776 18.0781 13.0901 21.0273 12.0143 21.4764C10.9401 21.9273 11.1026 21.1898 11.1401 20.9389L11.2768 20.0889C11.311 19.8273 11.3451 19.4398 11.2451 19.1889C11.1326 18.9123 10.6893 18.7656 10.3635 18.6973C5.55931 18.0589 2.00098 14.6998 2.00098 10.6906C2.00098 6.21477 6.48848 2.57227 12.001 2.57227C17.5135 2.57227 22.001 6.21477 22.001 10.6906ZM18.4004 14.3157C19.514 13.0955 20.001 11.9542 20.001 10.6906C20.001 7.42219 16.4903 4.57227 12.001 4.57227C7.51164 4.57227 4.00098 7.42219 4.00098 10.6906C4.00098 13.5955 6.7293 16.1968 10.6269 16.7147L10.774 16.7398C11.8525 16.966 12.6581 17.3541 13.1029 18.4483C13.1158 18.4804 13.1279 18.5124 13.1395 18.5441C14.9449 17.3678 17.313 15.5652 18.4004 14.3157ZM18.1385 10.3148C18.4293 10.3148 18.6635 10.5523 18.6635 10.8406C18.6635 11.1281 18.4293 11.3656 18.1385 11.3656H16.676V12.3031H18.1385C18.4293 12.3031 18.6635 12.5389 18.6635 12.8281C18.6635 13.1148 18.4293 13.3523 18.1385 13.3523H16.1501C15.8626 13.3523 15.6276 13.1148 15.6276 12.8281V8.85227C15.6276 8.56477 15.8626 8.32727 16.1526 8.32727H18.141C18.4293 8.32727 18.6635 8.56477 18.6635 8.85227C18.6635 9.1431 18.4293 9.37727 18.1385 9.37727H16.676V10.3148H18.1385ZM14.926 12.8281C14.926 13.0531 14.781 13.2531 14.566 13.3248C14.5126 13.3423 14.4551 13.3506 14.4001 13.3506C14.2243 13.3506 14.0743 13.2756 13.9751 13.1423L11.9393 10.3781V12.8281C11.9393 13.1148 11.7068 13.3523 11.4135 13.3523C11.1251 13.3523 10.8918 13.1148 10.8918 12.8281V8.85227C10.8918 8.62727 11.036 8.42727 11.2501 8.35643C11.3001 8.33727 11.3635 8.32893 11.4118 8.32893C11.5743 8.32893 11.7243 8.4156 11.8243 8.5406L13.876 11.3156V8.85227C13.876 8.56477 14.111 8.32727 14.401 8.32727C14.6885 8.32727 14.926 8.56477 14.926 8.85227V12.8281ZM10.1418 12.8281C10.1418 13.1148 9.90681 13.3523 9.61598 13.3523C9.32848 13.3523 9.09348 13.1148 9.09348 12.8281V8.85227C9.09348 8.56477 9.32848 8.32727 9.61848 8.32727C9.90681 8.32727 10.1418 8.56477 10.1418 8.85227V12.8281ZM8.08681 13.3523H6.09848C5.81098 13.3523 5.57348 13.1148 5.57348 12.8281V8.85227C5.57348 8.56477 5.81098 8.32727 6.09848 8.32727C6.38848 8.32727 6.62348 8.56477 6.62348 8.85227V12.3031H8.08681C8.37681 12.3031 8.61098 12.5389 8.61098 12.8281C8.61098 13.1148 8.37598 13.3523 8.08681 13.3523Z"}}]})(e)}function TV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M9.97308 18H11V13H13V18H14.0269C14.1589 16.7984 14.7721 15.8065 15.7676 14.7226C15.8797 14.6006 16.5988 13.8564 16.6841 13.7501C17.5318 12.6931 18 11.385 18 10C18 6.68629 15.3137 4 12 4C8.68629 4 6 6.68629 6 10C6 11.3843 6.46774 12.6917 7.31462 13.7484C7.40004 13.855 8.12081 14.6012 8.23154 14.7218C9.22766 15.8064 9.84103 16.7984 9.97308 18ZM10 20V21H14V20H10ZM5.75395 14.9992C4.65645 13.6297 4 11.8915 4 10C4 5.58172 7.58172 2 12 2C16.4183 2 20 5.58172 20 10C20 11.8925 19.3428 13.6315 18.2443 15.0014C17.624 15.7748 16 17 16 18.5V21C16 22.1046 15.1046 23 14 23H10C8.89543 23 8 22.1046 8 21V18.5C8 17 6.37458 15.7736 5.75395 14.9992Z"}}]})(e)}function CV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 11V7H13V11H17V13H13V17H11V13H7V11H11ZM12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"}}]})(e)}function OV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M11 11V5H13V11H19V13H13V19H11V13H5V11H11Z"}}]})(e)}function _V(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.865 3.00017L22.3912 19.5002C22.6674 19.9785 22.5035 20.5901 22.0252 20.8662C21.8732 20.954 21.7008 21.0002 21.5252 21.0002H2.47266C1.92037 21.0002 1.47266 20.5525 1.47266 20.0002C1.47266 19.8246 1.51886 19.6522 1.60663 19.5002L11.1329 3.00017C11.4091 2.52187 12.0206 2.358 12.4989 2.63414C12.651 2.72191 12.7772 2.84815 12.865 3.00017ZM4.20471 19.0002H19.7932L11.9989 5.50017L4.20471 19.0002ZM10.9989 16.0002H12.9989V18.0002H10.9989V16.0002ZM10.9989 9.00017H12.9989V14.0002H10.9989V9.00017Z"}}]})(e)}function NV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11.0026 16L6.75999 11.7574L8.17421 10.3431L11.0026 13.1716L16.6595 7.51472L18.0737 8.92893L11.0026 16Z"}}]})(e)}function AV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12.0007 10.5865L16.9504 5.63672L18.3646 7.05093L13.4149 12.0007L18.3646 16.9504L16.9504 18.3646L12.0007 13.4149L7.05093 18.3646L5.63672 16.9504L10.5865 12.0007L5.63672 7.05093L7.05093 5.63672L12.0007 10.5865Z"}}]})(e)}function IV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 7H13V9H11V7ZM11 11H13V17H11V11Z"}}]})(e)}function PV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM11 15H13V17H11V15ZM13 13.3551V14H11V12.5C11 11.9477 11.4477 11.5 12 11.5C12.8284 11.5 13.5 10.8284 13.5 10C13.5 9.17157 12.8284 8.5 12 8.5C11.2723 8.5 10.6656 9.01823 10.5288 9.70577L8.56731 9.31346C8.88637 7.70919 10.302 6.5 12 6.5C13.933 6.5 15.5 8.067 15.5 10C15.5 11.5855 14.4457 12.9248 13 13.3551Z"}}]})(e)}function DV(e){return oV({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM13 12H17V14H11V7H13V12Z"}}]})(e)}const MV={primary:"#4f46e5",secondary:"#7c3aed",success:"#059669",warning:"#d97706",danger:"#dc2626",info:"#0284c7",statColors:{strength:"#ef4444",intelligence:"#3b82f6",charisma:"#8b5cf6",vitality:"#10b981",agility:"#f59e0b",wisdom:"#6366f1"},chart:{background:"#ffffff",gridLines:"#e5e7eb",tooltip:"#f3f4f6",positive:"#059669",negative:"#dc2626",neutral:"#9ca3af",scale:["#dbeafe","#93c5fd","#60a5fa","#3b82f6","#2563eb","#1d4ed8"]}},RV=e=>{let{showTitle:t=!1}=e;const{activityPatterns:n}=Zb(),[i,a]=(0,r.useState)("day"),o={primary:MV.primary,secondary:MV.secondary,tertiary:MV.info,accent:MV.warning},s={animationBegin:0,animationDuration:1e3,animationEasing:"ease-in-out"},l=e=>["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][e],c=e=>0===e?"12 AM":12===e?"12 PM":e>12?e-12+" PM":`${e} AM`,u=()=>{switch(i){case"day":return n&&n.byDay?Object.entries(n.byDay).map((e=>{let[t,n]=e;return{name:l(t),tasks:n,dayNum:parseInt(t)}})).sort(((e,t)=>e.dayNum-t.dayNum)):[];case"hour":return n&&n.byHour?Object.entries(n.byHour).map((e=>{let[t,n]=e;return{name:c(t),tasks:n,hourNum:parseInt(t)}})).sort(((e,t)=>e.hourNum-t.hourNum)):[];case"week":return n&&n.byWeek?Object.entries(n.byWeek).map((e=>{let[t,n]=e;return{name:t,tasks:n}})).sort(((e,t)=>t.name.localeCompare(e.name))).slice(0,8):[];case"month":return n&&n.byMonth?Object.entries(n.byMonth).map((e=>{let[t,n]=e;const[r,i]=t.split("-");return{name:`${i}/${r.substring(2)}`,fullName:new Date(r,i-1,1).toLocaleDateString("en-US",{month:"short",year:"numeric"}),tasks:n,timestamp:new Date(r,i-1,1).getTime()}})).sort(((e,t)=>t.timestamp-e.timestamp)).slice(0,6):[];default:return[]}},d=e=>{let{active:t,payload:n,label:r}=e;return t&&n&&n.length?(0,Ae.jsxs)("div",{className:"bg-white p-3 shadow-lg rounded-lg border border-gray-200",children:[(0,Ae.jsx)("p",{className:"font-medium",children:r}),(0,Ae.jsxs)("p",{className:"text-sm mt-1",children:[(0,Ae.jsx)("span",{className:"font-medium",children:"Tasks Completed:"})," ",n[0].value]})]}):null},h=e=>{let{viewName:t,label:n,icon:r,active:i}=e;return(0,Ae.jsxs)("button",{className:"px-3 py-1 rounded text-sm flex items-center transition-all duration-200 "+(i?`bg-${MV.primary} text-white shadow-sm`:"bg-gray-200 hover:bg-gray-300"),onClick:()=>a(t),"aria-pressed":i,children:[(0,Ae.jsx)(r,{className:"mr-1 h-4 w-4"}),n]})};return(0,Ae.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6 border border-gray-100 transition-all duration-300 hover:shadow-md",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ae.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,Ae.jsx)(mV,{className:"mr-2 h-6 w-6 text-gray-700"}),"Activity Patterns",!t&&(0,Ae.jsx)("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"When you're most productive"})]}),(0,Ae.jsxs)("div",{className:"flex space-x-2",children:[(0,Ae.jsx)(h,{viewName:"day",label:"Day",icon:gV,active:"day"===i}),(0,Ae.jsx)(h,{viewName:"hour",label:"Time",icon:DV,active:"hour"===i}),(0,Ae.jsx)(h,{viewName:"week",label:"Weekly",icon:vV,active:"week"===i}),(0,Ae.jsx)(h,{viewName:"month",label:"Monthly",icon:mV,active:"month"===i})]})]}),(()=>{const e=u();return e&&0!==e.length?"day"===i||"hour"===i?(0,Ae.jsx)(Tw,{width:"100%",height:300,children:(0,Ae.jsxs)(PB,{data:e,margin:{top:20,right:30,left:0,bottom:5},...s,children:[(0,Ae.jsx)(XB,{strokeDasharray:"3 3",stroke:MV.chart.gridLines}),(0,Ae.jsx)(wB,{dataKey:"name",tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"}}),(0,Ae.jsx)(IB,{tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"},allowDecimals:!1}),(0,Ae.jsx)(Oj,{content:(0,Ae.jsx)(d,{})}),(0,Ae.jsx)(EM,{dataKey:"tasks",name:"Completed Tasks",fill:o.primary,radius:[4,4,0,0],barSize:"hour"===i?15:30})]})}):(0,Ae.jsx)(Tw,{width:"100%",height:300,children:(0,Ae.jsxs)(zz,{data:e,margin:{top:20,right:30,left:0,bottom:5},...s,children:[(0,Ae.jsx)(XB,{strokeDasharray:"3 3",stroke:MV.chart.gridLines}),(0,Ae.jsx)(wB,{dataKey:"name",tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"}}),(0,Ae.jsx)(IB,{tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"},allowDecimals:!1}),(0,Ae.jsx)(Oj,{labelFormatter:t=>{var n;return"month"===i?null===(n=e.find((e=>e.name===t)))||void 0===n?void 0:n.fullName:t},content:(0,Ae.jsx)(d,{})}),(0,Ae.jsx)(Uz,{type:"monotone",dataKey:"tasks",name:"Completed Tasks",stroke:o.tertiary,strokeWidth:3,dot:{r:6,fill:o.tertiary,strokeWidth:1,stroke:"#fff"},activeDot:{r:8,fill:o.tertiary,strokeWidth:2,stroke:"#fff"}})]})}):(0,Ae.jsxs)("div",{className:"p-10 text-center text-gray-500",children:[(0,Ae.jsx)(IV,{className:"mx-auto mb-2 h-10 w-10"}),(0,Ae.jsx)("p",{children:"Not enough activity data available yet."}),(0,Ae.jsx)("p",{className:"text-sm mt-2",children:"Complete more tasks to see your patterns!"})]})})(),(()=>{const e=(()=>{if(!n)return[];const e=[];if(n.byDay){const t=Object.entries(n.byDay).sort(((e,t)=>t[1]-e[1]))[0];t&&e.push({name:"Day",value:t[1],label:l(t[0])})}if(n.byHour){const t=Object.entries(n.byHour).sort(((e,t)=>t[1]-e[1]))[0];t&&e.push({name:"Time",value:t[1],label:c(t[0])})}return e})();if(!e||0===e.length)return null;const t=[o.primary,o.tertiary];return(0,Ae.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-4 mt-4 transition-all duration-300 hover:shadow-md",children:[(0,Ae.jsxs)("h3",{className:"text-lg font-semibold mb-2 flex items-center",children:[(0,Ae.jsx)(mV,{className:"mr-2 h-5 w-5 text-gray-600"}),"Most Active"]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-1/2",children:(0,Ae.jsx)(Tw,{width:"100%",height:180,children:(0,Ae.jsxs)(eV,{children:[(0,Ae.jsx)(Jz,{data:e,cx:"50%",cy:"50%",labelLine:!1,outerRadius:70,innerRadius:30,fill:"#8884d8",dataKey:"value",animationBegin:0,animationDuration:1500,animationEasing:"ease-out",children:e.map(((e,n)=>(0,Ae.jsx)(nD,{fill:t[n%t.length],stroke:"#ffffff",strokeWidth:2},`cell-${n}`)))}),(0,Ae.jsx)(Oj,{formatter:(e,t,n)=>[e,`Most Active ${n.payload.name}`],itemStyle:{color:"#4b5563"},contentStyle:{backgroundColor:"white",borderRadius:"0.375rem",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",border:"1px solid #e5e7eb"}})]})})}),(0,Ae.jsx)("div",{className:"w-1/2 pl-4",children:(0,Ae.jsx)("div",{className:"space-y-4",children:e.map(((e,n)=>(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:t[n%t.length]}}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"font-medium flex items-center",children:[0===n?(0,Ae.jsx)(gV,{className:"mr-1 h-4 w-4"}):(0,Ae.jsx)(DV,{className:"mr-1 h-4 w-4"}),"Most Active ",e.name,":"]}),(0,Ae.jsx)("div",{className:"ml-5 text-lg font-bold",children:e.label}),(0,Ae.jsxs)("div",{className:"ml-5 text-sm text-gray-600",children:[e.value," tasks completed"]})]})]},n)))})})]})]})})(),(0,Ae.jsx)("div",{className:"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100",children:(0,Ae.jsxs)("div",{className:"flex items-start",children:[(0,Ae.jsx)(IV,{className:"h-5 w-5 mr-2 text-blue-500 mt-0.5"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{children:"This chart shows when you're most active based on your completed tasks."}),(0,Ae.jsx)("p",{className:"mt-1",children:"Use these insights to schedule tasks during your naturally productive times."})]})]})})]})};function LV(e){return LV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},LV(e)}function FV(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qV(r.key),r)}}function UV(e,t,n){return t=zV(t),function(e,t){if(t&&("object"===LV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,BV()?Reflect.construct(t,n||[],zV(e).constructor):t.apply(e,n))}function BV(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(BV=function(){return!!e})()}function zV(e){return zV=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zV(e)}function VV(e,t){return VV=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},VV(e,t)}function $V(e,t,n){return(t=qV(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qV(e){var t=function(e,t){if("object"!=LV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=LV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==LV(t)?t:t+""}var HV=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),UV(this,t,arguments)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&VV(e,t)}(t,e),n=t,(r=[{key:"render",value:function(){return null}}])&&FV(n.prototype,r),i&&FV(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(r.Component);$V(HV,"displayName","ZAxis"),$V(HV,"defaultProps",{zAxisId:0,range:[64,64],scale:"auto",type:"number"});var WV=["option","isActive"];function KV(){return KV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},KV.apply(this,arguments)}function GV(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function YV(e){var t=e.option,n=e.isActive,i=GV(e,WV);return"string"===typeof t?r.createElement(GD,KV({option:r.createElement(gS,KV({type:t},i)),isActive:n,shapeType:"symbols"},i)):r.createElement(GD,KV({option:t,isActive:n,shapeType:"symbols"},i))}function QV(e){return QV="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},QV(e)}function XV(){return XV=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},XV.apply(this,arguments)}function ZV(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JV(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ZV(Object(n),!0).forEach((function(t){a$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZV(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function e$(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o$(r.key),r)}}function t$(e,t,n){return t=r$(t),function(e,t){if(t&&("object"===QV(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,n$()?Reflect.construct(t,n||[],r$(e).constructor):t.apply(e,n))}function n$(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(n$=function(){return!!e})()}function r$(e){return r$=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r$(e)}function i$(e,t){return i$=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i$(e,t)}function a$(e,t,n){return(t=o$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o$(e){var t=function(e,t){if("object"!=QV(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=QV(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==QV(t)?t:t+""}var s$=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return a$(e=t$(this,t,[].concat(r)),"state",{isAnimationFinished:!1}),a$(e,"handleAnimationEnd",(function(){e.setState({isAnimationFinished:!0})})),a$(e,"handleAnimationStart",(function(){e.setState({isAnimationFinished:!1})})),a$(e,"id",Dx("recharts-scatter-")),e}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i$(e,t)}(t,e),n=t,i=[{key:"renderSymbolsStatically",value:function(e){var t=this,n=this.props,i=n.shape,a=n.activeShape,o=n.activeIndex,s=mw(this.props,!1);return e.map((function(e,n){var l=o===n,c=l?a:i,u=JV(JV({},s),e);return r.createElement(Bw,XV({className:"recharts-scatter-symbol",key:"symbol-".concat(null===e||void 0===e?void 0:e.cx,"-").concat(null===e||void 0===e?void 0:e.cy,"-").concat(null===e||void 0===e?void 0:e.size,"-").concat(n)},ew(t.props,e,n),{role:"img"}),r.createElement(YV,XV({option:c,isActive:l,key:"symbol-".concat(n)},u)))}))}},{key:"renderSymbolsWithAnimation",value:function(){var e=this,t=this.props,n=t.points,i=t.isAnimationActive,a=t.animationBegin,o=t.animationDuration,s=t.animationEasing,l=t.animationId,c=this.state.prevPoints;return r.createElement(bE,{begin:a,duration:o,isActive:i,easing:s,from:{t:0},to:{t:1},key:"pie-".concat(l),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},(function(t){var i=t.t,a=n.map((function(e,t){var n=c&&c[t];if(n){var r=Lx(n.cx,e.cx),a=Lx(n.cy,e.cy),o=Lx(n.size,e.size);return JV(JV({},e),{},{cx:r(i),cy:a(i),size:o(i)})}var s=Lx(0,e.size);return JV(JV({},e),{},{size:s(i)})}));return r.createElement(Bw,null,e.renderSymbolsStatically(a))}))}},{key:"renderSymbols",value:function(){var e=this.props,t=e.points,n=e.isAnimationActive,r=this.state.prevPoints;return!(n&&t&&t.length)||r&&DA()(r,t)?this.renderSymbolsStatically(t):this.renderSymbolsWithAnimation()}},{key:"renderErrorBar",value:function(){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var e=this.props,t=e.points,n=e.xAxis,i=e.yAxis,a=uw(e.children,SI);return a?a.map((function(e,a){var o=e.props,s=o.direction,l=o.dataKey;return r.cloneElement(e,{key:"".concat(s,"-").concat(l,"-").concat(t[a]),data:t,xAxis:n,yAxis:i,layout:"x"===s?"vertical":"horizontal",dataPointFormatter:function(e,t){return{x:e.cx,y:e.cy,value:"x"===s?+e.node.x:+e.node.y,errorVal:MI(e,t)}}})})):null}},{key:"renderLine",value:function(){var e,t,n=this.props,i=n.points,a=n.line,o=n.lineType,s=n.lineJointType,l=mw(this.props,!1),c=mw(a,!1);if("joint"===o)e=i.map((function(e){return{x:e.cx,y:e.cy}}));else if("fitting"===o){var u=function(e){if(!e||!e.length)return null;for(var t=e.length,n=0,r=0,i=0,a=0,o=1/0,s=-1/0,l=0,c=0,u=0;u<t;u++)n+=l=e[u].cx||0,r+=c=e[u].cy||0,i+=l*c,a+=l*l,o=Math.min(o,l),s=Math.max(s,l);var d=t*a!==n*n?(t*i-n*r)/(t*a-n*n):0;return{xmin:o,xmax:s,a:d,b:(r-d*n)/t}}(i),d=u.xmin,h=u.xmax,f=u.a,p=u.b,m=function(e){return f*e+p};e=[{x:d,y:m(d)},{x:h,y:m(h)}]}var g=JV(JV(JV({},l),{},{fill:"none",stroke:l&&l.fill},c),{},{points:e});return t=r.isValidElement(a)?r.cloneElement(a,g):$x()(a)?a(g):r.createElement(_L,XV({},g,{type:s})),r.createElement(Bw,{className:"recharts-scatter-line",key:"recharts-scatter-line"},t)}},{key:"render",value:function(){var e=this.props,t=e.hide,n=e.points,i=e.line,a=e.className,o=e.xAxis,s=e.yAxis,l=e.left,c=e.top,u=e.width,d=e.height,h=e.id,f=e.isAnimationActive;if(t||!n||!n.length)return null;var p=this.state.isAnimationFinished,m=vx("recharts-scatter",a),g=o&&o.allowDataOverflow,y=s&&s.allowDataOverflow,v=g||y,b=zx()(h)?this.id:h;return r.createElement(Bw,{className:m,clipPath:v?"url(#clipPath-".concat(b,")"):null},g||y?r.createElement("defs",null,r.createElement("clipPath",{id:"clipPath-".concat(b)},r.createElement("rect",{x:g?l:l-u/2,y:y?c:c-d/2,width:g?u:2*u,height:y?d:2*d}))):null,i&&this.renderLine(),this.renderErrorBar(),r.createElement(Bw,{key:"recharts-scatter-symbols"},this.renderSymbols()),(!f||p)&&gD.renderCallByParent(this.props,n))}}],a=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}}],i&&e$(n.prototype,i),a&&e$(n,a),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i,a}(r.PureComponent);a$(s$,"displayName","Scatter"),a$(s$,"defaultProps",{xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!fj.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"}),a$(s$,"getComposedData",(function(e){var t=e.xAxis,n=e.yAxis,r=e.zAxis,i=e.item,a=e.displayedData,o=e.xAxisTicks,s=e.yAxisTicks,l=e.offset,c=i.props.tooltipType,u=uw(i.props.children,nD),d=zx()(t.dataKey)?i.props.dataKey:t.dataKey,h=zx()(n.dataKey)?i.props.dataKey:n.dataKey,f=r&&r.dataKey,p=r?r.range:HV.defaultProps.range,m=p&&p[0],g=t.scale.bandwidth?t.scale.bandwidth():0,y=n.scale.bandwidth?n.scale.bandwidth():0,v=a.map((function(e,a){var l=MI(e,d),p=MI(e,h),v=!zx()(f)&&MI(e,f)||"-",b=[{name:zx()(t.dataKey)?i.props.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:e,dataKey:d,type:c},{name:zx()(n.dataKey)?i.props.name:n.name||n.dataKey,unit:n.unit||"",value:p,payload:e,dataKey:h,type:c}];"-"!==v&&b.push({name:r.name||r.dataKey,unit:r.unit||"",value:v,payload:e,dataKey:f,type:c});var x=XI({axis:t,ticks:o,bandSize:g,entry:e,index:a,dataKey:d}),w=XI({axis:n,ticks:s,bandSize:y,entry:e,index:a,dataKey:h}),j="-"!==v?r.scale(v):m,S=Math.sqrt(Math.max(j,0)/Math.PI);return JV(JV({},e),{},{cx:x,cy:w,x:x-S,y:w-S,xAxis:t,yAxis:n,zAxis:r,width:2*S,height:2*S,size:j,node:{x:l,y:p,z:v},tooltipPayload:b,tooltipPosition:{x:x,y:w},payload:e},u&&u[a]&&u[a].props)}));return JV({points:v},l)}));var l$=SF({chartName:"ScatterChart",GraphicalChild:s$,defaultTooltipEventType:"item",validateTooltipEventTypes:["item"],axisComponents:[{axisType:"xAxis",AxisComp:wB},{axisType:"yAxis",AxisComp:IB},{axisType:"zAxis",AxisComp:HV}],formatAxisMap:IM});const c$=e=>{let{showTitle:t=!1}=e;const{statCorrelations:n,rawStats:i}=Zb(),{stats:a}=bb(),[o,s]=(0,r.useState)(null),l={animationBegin:0,animationDuration:1e3,animationEasing:"ease-in-out"},c={veryStrong:"#4338ca",strong:"#6366f1",moderate:"#0ea5e9",weak:"#10b981",veryWeak:"#d1d5db",positive:MV.chart.positive,negative:MV.chart.negative},u=e=>{const t=Math.abs(e);return t>=.8?c.veryStrong:t>=.6?c.strong:t>=.4?c.moderate:t>=.2?c.weak:c.veryWeak},d=()=>{if(!n||0===n.length)return[];const e=Object.keys(i),t=[];for(let r=0;r<e.length;r++)for(let i=0;i<e.length;i++){if(r===i)continue;const a=e[r],o=e[i],s=n.find((e=>e.statA===a&&e.statB===o||e.statA===o&&e.statB===a));s?t.push({x:a,y:o,z:s.correlation,strength:s.strength,dataPoints:s.dataPoints,color:u(s.correlation),direction:s.correlation>0?"positive":"negative"}):t.push({x:a,y:o,z:0,strength:"insufficient data",dataPoints:0,color:c.veryWeak,direction:"neutral"})}return t},h=()=>{if(!o)return[];const e=n.find((e=>e.statA===o.x&&e.statB===o.y||e.statA===o.y&&e.statB===o.x));if(!e)return[];const t=[],r=e.correlation,i=e.statA===o.x?e.statA:e.statB,a=e.statA===o.x?e.statB:e.statA;for(let n=0;n<20;n++){const e=10*Math.random(),n=5*Math.random()*(1-Math.abs(r)),o=r>0?e+n:10-e+n;t.push({x:e,y:o,statX:i,statY:a})}return t},f=e=>{let{active:t,payload:n}=e;if(!t||!n||!n.length)return null;const r=n[0].payload,i=(a=r.z)>.6?(0,Ae.jsx)(pV,{className:"text-green-600"}):a<-.6?(0,Ae.jsx)(cV,{className:"text-red-600"}):a>0?(0,Ae.jsx)(pV,{className:"text-gray-400"}):a<0?(0,Ae.jsx)(cV,{className:"text-gray-400"}):(0,Ae.jsx)(PV,{className:"text-gray-400"});var a;return(0,Ae.jsxs)("div",{className:"bg-white p-4 shadow-lg rounded-lg border border-gray-200",children:[(0,Ae.jsxs)("p",{className:"font-semibold text-gray-800 mb-2 flex items-center",children:[r.x," & ",r.y," Relationship"]}),(0,Ae.jsxs)("div",{className:"space-y-2",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"text-sm w-24",children:"Correlation:"}),(0,Ae.jsxs)("span",{className:"font-medium "+(r.z>0?"text-green-600":r.z<0?"text-red-600":"text-gray-600"),children:[r.z.toFixed(2)," ",i]})]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"text-sm w-24",children:"Strength:"}),(0,Ae.jsx)("span",{className:"font-medium capitalize",children:r.strength})]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"text-sm w-24",children:"Direction:"}),(0,Ae.jsx)("span",{className:"font-medium capitalize",children:r.direction})]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"text-sm w-24",children:"Data points:"}),(0,Ae.jsx)("span",{className:"font-medium",children:r.dataPoints})]})]})]})},p=e=>{let{active:t,payload:n}=e;if(!t||!n||!n.length)return null;const r=n[0].payload;return(0,Ae.jsxs)("div",{className:"bg-white p-3 shadow-lg rounded-lg border border-gray-200",children:[(0,Ae.jsxs)("p",{className:"font-medium",children:[o.x," vs ",o.y]}),(0,Ae.jsxs)("p",{className:"text-sm mt-1",children:[o.x,": ",(0,Ae.jsx)("span",{className:"font-medium",children:r.x.toFixed(1)})]}),(0,Ae.jsxs)("p",{className:"text-sm",children:[o.y,": ",(0,Ae.jsx)("span",{className:"font-medium",children:r.y.toFixed(1)})]})]})},m=n&&n.length>0;return(0,Ae.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6 border border-gray-100 transition-all duration-300 hover:shadow-md",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,Ae.jsx)(jV,{className:"mr-2 h-6 w-6 text-gray-700"}),"Stat Correlations",!t&&(0,Ae.jsx)("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"How stats influence each other"})]}),(0,Ae.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Using raw stat points for more granular analysis"})]}),m?(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsxs)("div",{className:"transition-all duration-300",children:[(0,Ae.jsxs)("h3",{className:"text-lg font-medium mb-2 flex items-center",children:[(0,Ae.jsx)(jV,{className:"mr-2 h-5 w-5 text-gray-600"}),"Correlation Matrix"]}),(0,Ae.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"This chart shows how your different stats relate to each other. Bigger and darker bubbles indicate stronger relationships."}),(0,Ae.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,Ae.jsx)(Tw,{width:"100%",height:400,children:(0,Ae.jsxs)(l$,{margin:{top:20,right:20,bottom:20,left:20},...l,children:[(0,Ae.jsx)(XB,{strokeDasharray:"3 3",stroke:MV.chart.gridLines}),(0,Ae.jsx)(wB,{dataKey:"x",type:"category",name:"Stat A",allowDuplicatedCategory:!1,tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"},axisLine:{stroke:"#9ca3af"}}),(0,Ae.jsx)(IB,{dataKey:"y",type:"category",name:"Stat B",allowDuplicatedCategory:!1,tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"},axisLine:{stroke:"#9ca3af"}}),(0,Ae.jsx)(HV,{dataKey:"z",range:[20,500],name:"Correlation"}),(0,Ae.jsx)(Oj,{content:(0,Ae.jsx)(f,{})}),(0,Ae.jsx)(s$,{name:"Stat Correlations",data:d(),onClick:e=>s(e),cursor:"pointer",children:d().map(((e,t)=>(0,Ae.jsx)(nD,{fill:"positive"===e.direction?c.positive:"negative"===e.direction?c.negative:c.veryWeak,fillOpacity:.8*Math.abs(e.z)+.2},`cell-${t}`)))})]})})}),(0,Ae.jsxs)("div",{className:"flex justify-center mt-3 space-x-8",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:c.positive}}),(0,Ae.jsxs)("span",{className:"text-sm flex items-center",children:[(0,Ae.jsx)(pV,{className:"mr-1 h-4 w-4"}),"Positive Correlation"]})]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:c.negative}}),(0,Ae.jsxs)("span",{className:"text-sm flex items-center",children:[(0,Ae.jsx)(cV,{className:"mr-1 h-4 w-4"}),"Negative Correlation"]})]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-1",style:{backgroundColor:c.veryWeak}}),(0,Ae.jsxs)("span",{className:"text-sm flex items-center",children:[(0,Ae.jsx)(PV,{className:"mr-1 h-4 w-4"}),"Weak/No Correlation"]})]})]})]}),o&&(0,Ae.jsxs)("div",{className:"transition-all duration-500 animate-fadeIn",children:[(0,Ae.jsxs)("h3",{className:"text-lg font-medium mb-2 flex items-center",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[o.x,(0,Ae.jsx)(dV,{className:"mx-2 h-4 w-4"}),o.y]}),(0,Ae.jsx)("span",{className:"ml-2 text-sm font-normal text-gray-500",children:"Relationship"})]}),(0,Ae.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,Ae.jsx)(Tw,{width:"100%",height:300,children:(0,Ae.jsxs)(l$,{margin:{top:20,right:20,bottom:20,left:20},...l,children:[(0,Ae.jsx)(XB,{strokeDasharray:"3 3",stroke:MV.chart.gridLines}),(0,Ae.jsx)(wB,{type:"number",dataKey:"x",name:o.statX,unit:" pts",tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"}}),(0,Ae.jsx)(IB,{type:"number",dataKey:"y",name:o.statY,unit:" pts",tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"}}),(0,Ae.jsx)(Oj,{content:(0,Ae.jsx)(p,{})}),(0,Ae.jsx)(s$,{name:`${o.x} vs ${o.y}`,data:h(),fill:c.strong,children:h().map(((e,t)=>(0,Ae.jsx)(nD,{fill:o.z>0?c.positive:c.negative},`point-${t}`)))})]})}),(0,Ae.jsxs)("div",{className:"mt-3 text-sm text-gray-700 bg-white p-3 rounded border border-gray-200",children:[(0,Ae.jsx)("p",{className:"font-medium mb-1",children:"What does this mean?"}),o.z>.6&&(0,Ae.jsx)("p",{children:"There's a strong positive relationship between these stats. When you improve one, the other tends to improve too!"}),o.z<-.6&&(0,Ae.jsx)("p",{children:"There's a strong negative relationship between these stats. When you improve one, the other tends to decrease."}),o.z>.3&&o.z<=.6&&(0,Ae.jsx)("p",{children:"There's a moderate positive relationship between these stats. They often improve together, but not always."}),o.z<-.3&&o.z>=-.6&&(0,Ae.jsx)("p",{children:"There's a moderate negative relationship between these stats. Improvements in one sometimes come at the expense of the other."}),Math.abs(o.z)<=.3&&(0,Ae.jsx)("p",{children:"There's little to no relationship between these stats. They tend to develop independently of each other."})]})]}),(0,Ae.jsxs)("button",{className:"mt-3 text-indigo-600 text-sm hover:underline flex items-center",onClick:()=>s(null),children:[(0,Ae.jsx)(uV,{className:"mr-1 h-4 w-4"}),"Back to correlation matrix"]})]}),(0,Ae.jsx)("div",{className:"text-sm text-gray-600 mt-4 bg-blue-50 p-3 rounded-lg border border-blue-100",children:(0,Ae.jsxs)("div",{className:"flex items-start",children:[(0,Ae.jsx)(IV,{className:"h-5 w-5 mr-2 text-blue-500 mt-0.5"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"What are correlations?"})," Correlations show how your different stat areas relate to each other."]}),(0,Ae.jsxs)("p",{className:"mt-1",children:[(0,Ae.jsx)("strong",{children:"How to use this:"})," Identify synergies between stats to optimize your growth. If two stats have a strong positive correlation, tasks that improve one will likely boost the other too!"]})]})]})})]}):(0,Ae.jsxs)("div",{className:"p-10 text-center text-gray-500",children:[(0,Ae.jsx)(IV,{className:"mx-auto mb-2 h-10 w-10"}),(0,Ae.jsx)("p",{children:"Not enough data to analyze stat correlations yet."}),(0,Ae.jsx)("p",{className:"text-sm mt-2",children:"Complete more tasks that develop multiple stats to see correlations!"})]})]})},u$=e=>{let{showTitle:t=!1}=e;const{weeklyProgress:n,monthlyProgress:i,formatWeekKey:a,formatMonthKey:o,rawStats:s}=Zb(),{stats:l}=bb(),[c,u]=(0,r.useState)("weekly"),[d,h]=(0,r.useState)("tasks"),f={animationBegin:0,animationDuration:1e3,animationEasing:"ease-in-out"},p=()=>{const e="weekly"===c?n:i;return e?Object.entries(e).map((e=>{let[t,n]=e;return{key:t,name:"weekly"===c?a(t):o(t),tasks:n.tasks.completed,achievements:n.achievements,...n.stats}})).sort(((e,t)=>t.key.localeCompare(e.key))):[]},m=e=>{let{active:t,payload:n,label:r}=e;return t&&n&&n.length?(0,Ae.jsxs)("div",{className:"bg-white p-4 shadow-lg rounded-lg border border-gray-200",children:[(0,Ae.jsx)("p",{className:"font-semibold text-gray-800 mb-2",children:r}),(0,Ae.jsx)("div",{className:"space-y-1",children:n.map(((e,t)=>(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color}}),(0,Ae.jsxs)("span",{className:"text-sm",children:[e.name,": "]}),(0,Ae.jsx)("span",{className:"text-sm font-medium ml-1",children:e.value})]},t)))})]}):null},g=e=>{let{active:t,payload:n}=e;if(!t||!n||!n.length)return null;const r=n[0].payload,i=r.current-r.previous,a=r.previous?Math.round(i/r.previous*100):0;return(0,Ae.jsxs)("div",{className:"bg-white p-4 shadow-lg rounded-lg border border-gray-200",children:[(0,Ae.jsx)("p",{className:"font-semibold text-gray-800 mb-2",children:r.subject}),(0,Ae.jsxs)("div",{className:"space-y-2",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 bg-indigo-500"}),(0,Ae.jsx)("span",{className:"text-sm",children:"Current: "}),(0,Ae.jsxs)("span",{className:"text-sm font-medium ml-1",children:[r.current," points"]})]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 bg-purple-300"}),(0,Ae.jsx)("span",{className:"text-sm",children:"Previous: "}),(0,Ae.jsxs)("span",{className:"text-sm font-medium ml-1",children:[r.previous," points"]})]}),r.previous>0&&(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-2 "+(i>=0?"bg-green-500":"bg-red-500")}),(0,Ae.jsx)("span",{className:"text-sm",children:"Change: "}),(0,Ae.jsxs)("span",{className:"text-sm font-medium ml-1 "+(i>=0?"text-green-600":"text-red-600"),children:[i>=0?"+":"",i," (",a>=0?"+":"",a,"%)"]})]})]})]})},y=e=>{let{value:t,label:n,icon:r,active:i}=e;return(0,Ae.jsxs)("button",{className:"px-3 py-1 rounded text-sm flex items-center transition-all duration-200 "+(i?"bg-indigo-600 text-white shadow-sm":"bg-gray-200 hover:bg-gray-300"),onClick:()=>u(t),"aria-pressed":i,children:[(0,Ae.jsx)(r,{className:"mr-1 h-4 w-4"}),n]})},v=e=>{let{value:t,label:n,icon:r,active:i}=e;return(0,Ae.jsxs)("button",{className:"px-3 py-1 rounded text-sm flex items-center transition-all duration-200 "+(i?"bg-indigo-600 text-white shadow-sm":"bg-gray-200 hover:bg-gray-300"),onClick:()=>h(t),"aria-pressed":i,children:[(0,Ae.jsx)(r,{className:"mr-1 h-4 w-4"}),n]})};return(0,Ae.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6 border border-gray-100 transition-all duration-300 hover:shadow-md",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h2",{className:"text-xl font-semibold flex items-center",children:[(0,Ae.jsx)(vV,{className:"mr-2 h-6 w-6 text-gray-700"}),"Progress Reports",!t&&(0,Ae.jsx)("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"Track your development over time"})]}),(0,Ae.jsx)("p",{className:"text-xs text-gray-500",children:"Showing raw stat points for more detailed tracking"})]}),(0,Ae.jsxs)("div",{className:"flex space-x-2",children:[(0,Ae.jsx)(y,{value:"weekly",label:"Weekly",icon:gV,active:"weekly"===c}),(0,Ae.jsx)(y,{value:"monthly",label:"Monthly",icon:gV,active:"monthly"===c})]})]}),(0,Ae.jsxs)("div",{className:"mb-4 flex space-x-2",children:[(0,Ae.jsx)(v,{value:"tasks",label:"Tasks",icon:mV,active:"tasks"===d}),(0,Ae.jsx)(v,{value:"stats",label:"Stats",icon:vV,active:"stats"===d}),(0,Ae.jsx)(v,{value:"radar",label:"Compare",icon:SV,active:"radar"===d})]}),(()=>{const e=p();if(!e||0===e.length)return(0,Ae.jsxs)("div",{className:"p-10 text-center text-gray-500",children:[(0,Ae.jsx)(IV,{className:"mx-auto mb-2 h-10 w-10"}),(0,Ae.jsx)("p",{children:"Not enough progress data available yet."}),(0,Ae.jsx)("p",{className:"text-sm mt-2",children:"Complete more tasks to see your progress over time!"})]});if("tasks"===d)return(0,Ae.jsx)(Tw,{width:"100%",height:300,children:(0,Ae.jsxs)(PB,{data:e,margin:{top:20,right:30,left:0,bottom:5},...f,children:[(0,Ae.jsx)(XB,{strokeDasharray:"3 3",stroke:MV.chart.gridLines}),(0,Ae.jsx)(wB,{dataKey:"name",tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"}}),(0,Ae.jsx)(IB,{tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"},allowDecimals:!1}),(0,Ae.jsx)(Oj,{content:(0,Ae.jsx)(m,{})}),(0,Ae.jsx)(VS,{}),(0,Ae.jsx)(EM,{dataKey:"tasks",name:"Completed Tasks",fill:MV.primary,radius:[4,4,0,0],animationBegin:0,animationDuration:1200}),(0,Ae.jsx)(EM,{dataKey:"achievements",name:"Achievements",fill:MV.secondary,radius:[4,4,0,0],animationBegin:300,animationDuration:1200})]})});if("stats"===d){const t=Object.keys(s),n=(()=>{const e=Object.keys(s),t={};return e.forEach((e=>{t[e]=MV.statColors[e.toLowerCase()]||MV.primary})),t})();return(0,Ae.jsx)(Tw,{width:"100%",height:300,children:(0,Ae.jsxs)(zz,{data:e,margin:{top:20,right:30,left:0,bottom:5},...f,children:[(0,Ae.jsx)(XB,{strokeDasharray:"3 3",stroke:MV.chart.gridLines}),(0,Ae.jsx)(wB,{dataKey:"name",tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"}}),(0,Ae.jsx)(IB,{tick:{fill:"#4b5563"},tickLine:{stroke:"#6b7280"},allowDecimals:!1}),(0,Ae.jsx)(Oj,{content:(0,Ae.jsx)(m,{})}),(0,Ae.jsx)(VS,{}),t.map(((e,t)=>(0,Ae.jsx)(Uz,{type:"monotone",dataKey:e,name:e,stroke:n[e],strokeWidth:2,activeDot:{r:8},animationBegin:100*t,animationDuration:1500},e)))]})})}if("radar"===d){const e=(()=>{const e=p();if(0===e.length)return[];const t=e[0];return Object.keys(s).map((n=>({subject:n,current:t[n]||0,previous:e.length>1&&e[1][n]||0})))})();return(0,Ae.jsx)(Tw,{width:"100%",height:350,children:(0,Ae.jsxs)(CU,{cx:"50%",cy:"50%",outerRadius:"80%",data:e,...f,children:[(0,Ae.jsx)(BU,{stroke:MV.chart.gridLines}),(0,Ae.jsx)(sU,{dataKey:"subject",tick:{fill:"#4b5563"}}),(0,Ae.jsx)(TU,{tick:{fill:"#4b5563"}}),(0,Ae.jsx)(KF,{name:"Current Period",dataKey:"current",stroke:MV.primary,fill:MV.primary,fillOpacity:.6}),(0,Ae.jsx)(KF,{name:"Previous Period",dataKey:"previous",stroke:MV.secondary,fill:MV.secondary,fillOpacity:.3}),(0,Ae.jsx)(VS,{}),(0,Ae.jsx)(Oj,{content:(0,Ae.jsx)(g,{})})]})})}})(),(()=>{const e=p();if(e.length<2)return null;const t=e[0],n=e[1],r=t.tasks-n.tasks,i=n.tasks?Math.round(r/n.tasks*100):0;let a=0,o={name:"",growth:0};return Object.keys(s).forEach((e=>{const r=(t[e]||0)-(n[e]||0);a+=r,r>o.growth&&(o={name:e,growth:r})})),(0,Ae.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mt-4 border border-gray-200 transition-all duration-300 hover:shadow-sm",children:[(0,Ae.jsxs)("h3",{className:"font-medium mb-3 flex items-center",children:[(0,Ae.jsx)(hV,{className:"mr-2 h-5 w-5 text-gray-600"}),"weekly"===c?"This Week vs. Last Week":"This Month vs. Last Month"," Summary"]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ae.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 transition-all duration-300 hover:shadow",children:[(0,Ae.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,Ae.jsx)(mV,{className:"mr-1 h-4 w-4"}),"Tasks Completed"]}),(0,Ae.jsx)("div",{className:"text-xl font-semibold mt-1",children:t.tasks}),(0,Ae.jsxs)("div",{className:"text-sm flex items-center "+(r>=0?"text-green-600":"text-red-600"),children:[r>=0?(0,Ae.jsx)(pV,{className:"mr-1 h-4 w-4"}):(0,Ae.jsx)(cV,{className:"mr-1 h-4 w-4"}),r>=0?"+":"",r," (",i>=0?"+":"",i,"%)"]})]}),(0,Ae.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 transition-all duration-300 hover:shadow",children:[(0,Ae.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,Ae.jsx)(vV,{className:"mr-1 h-4 w-4"}),"Total Stat Growth"]}),(0,Ae.jsx)("div",{className:"text-xl font-semibold mt-1",children:a}),(0,Ae.jsx)("div",{className:"text-sm text-gray-600",children:"Points across all stats"})]}),(0,Ae.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-sm border border-gray-100 transition-all duration-300 hover:shadow",children:[(0,Ae.jsxs)("div",{className:"text-sm text-gray-500 flex items-center",children:[(0,Ae.jsx)(pV,{className:"mr-1 h-4 w-4"}),"Fastest Growing Stat"]}),(0,Ae.jsx)("div",{className:"text-xl font-semibold mt-1",children:o.name||"None"}),(0,Ae.jsxs)("div",{className:"text-sm text-green-600 flex items-center",children:[(0,Ae.jsx)(pV,{className:"mr-1 h-4 w-4"}),"+",o.growth," points"]})]})]})]})})(),(0,Ae.jsx)("div",{className:"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100",children:(0,Ae.jsxs)("div",{className:"flex items-start",children:[(0,Ae.jsx)(IV,{className:"h-5 w-5 mr-2 text-blue-500 mt-0.5"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("p",{children:["These reports show your progress over time at a ","weekly"===c?"weekly":"monthly"," level."]}),(0,Ae.jsx)("p",{className:"mt-1",children:"Use this to track your development and identify trends in your growth journey."})]})]})})]})},d$=()=>{const{insights:e}=Zb(),t=e.reduce(((e,t)=>(e[t.type]||(e[t.type]=[]),e[t.type].push(t),e)),{}),n={productivity:{title:"Productivity Patterns",icon:mV,description:"Insights about when and how you work best",color:"blue"},correlation:{title:"Stat Relationships",icon:jV,description:"Connections between different stat areas",color:"purple"},trend:{title:"Recent Trends",icon:vV,description:"Changes in your progress over time",color:"green"},stat:{title:"Stat Development",icon:fV,description:"Progress in specific stat areas",color:"amber"},recommendation:{title:"Recommendations",icon:TV,description:"Suggested actions based on your data",color:"indigo"}},r=e=>{switch(e){case"productivity":return{bg:"bg-blue-50",border:"border-blue-200",text:"text-blue-800",iconBg:"bg-blue-100",iconText:"text-blue-600",hoverBg:"hover:bg-blue-100"};case"correlation":return{bg:"bg-purple-50",border:"border-purple-200",text:"text-purple-800",iconBg:"bg-purple-100",iconText:"text-purple-600",hoverBg:"hover:bg-purple-100"};case"trend":return{bg:"bg-green-50",border:"border-green-200",text:"text-green-800",iconBg:"bg-green-100",iconText:"text-green-600",hoverBg:"hover:bg-green-100"};case"stat":return{bg:"bg-amber-50",border:"border-amber-200",text:"text-amber-800",iconBg:"bg-amber-100",iconText:"text-amber-600",hoverBg:"hover:bg-amber-100"};case"recommendation":return{bg:"bg-indigo-50",border:"border-indigo-200",text:"text-indigo-800",iconBg:"bg-indigo-100",iconText:"text-indigo-600",hoverBg:"hover:bg-indigo-100"};default:return{bg:"bg-gray-50",border:"border-gray-200",text:"text-gray-800",iconBg:"bg-gray-100",iconText:"text-gray-600",hoverBg:"hover:bg-gray-100"}}},i=e=>{const t=r(e.type),n=(e=>{switch(e){case"bar-chart":return mV;case"git-merge":return jV;case"trending-up":case"trending-down":return vV;case"activity":case"arrow-up-circle":return fV;case"lightbulb":return TV;case"calendar":return gV;case"clock":return DV;case"arrow-down-circle":return lV;default:return IV}})(e.icon);return(0,Ae.jsxs)("div",{className:`border rounded-lg p-4 mb-3 transition-all duration-300 ${t.bg} ${t.border} ${t.hoverBg}`,children:[(0,Ae.jsxs)("div",{className:"flex items-center mb-2",children:[(0,Ae.jsx)("div",{className:`p-2 rounded-full ${t.iconBg} ${t.iconText} mr-3`,children:(0,Ae.jsx)(n,{className:"h-5 w-5"})}),(0,Ae.jsx)("h3",{className:"font-semibold",children:e.title})]}),(0,Ae.jsx)("p",{className:t.text,children:e.description}),"correlation"===e.type&&e.correlation&&(0,Ae.jsx)("div",{className:`mt-3 p-2 rounded ${t.iconBg} ${t.text} text-sm`,children:(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"font-medium mr-1",children:"Strength: "}),(0,Ae.jsx)("span",{children:e.correlation.strength}),(0,Ae.jsx)("span",{className:"mx-1",children:"\u2022"}),(0,Ae.jsx)("span",{className:"font-medium mr-1",children:"Type: "}),(0,Ae.jsx)("span",{className:"flex items-center",children:e.correlation.correlation>0?(0,Ae.jsxs)(Ae.Fragment,{children:["positive ",(0,Ae.jsx)(pV,{className:"ml-1 h-4 w-4"})]}):(0,Ae.jsxs)(Ae.Fragment,{children:["negative ",(0,Ae.jsx)(cV,{className:"ml-1 h-4 w-4"})]})})]})}),"trend"===e.type&&e.data&&(0,Ae.jsxs)("div",{className:`mt-3 p-2 rounded ${t.iconBg} ${t.text} text-sm flex justify-between`,children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium",children:"Current: "}),(0,Ae.jsx)("span",{children:e.data.current})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium",children:"Previous: "}),(0,Ae.jsx)("span",{children:e.data.previous})]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"font-medium mr-1",children:"Change: "}),(0,Ae.jsxs)("span",{children:[e.data.current>e.data.previous?"+":"",e.data.current-e.data.previous]}),e.data.current>e.data.previous?(0,Ae.jsx)(pV,{className:"ml-1 h-4 w-4 text-green-600"}):(0,Ae.jsx)(cV,{className:"ml-1 h-4 w-4 text-red-600"})]})]}),"stat"===e.type&&e.data&&(0,Ae.jsx)("div",{className:`mt-3 p-2 rounded ${t.iconBg} ${t.text} text-sm`,children:(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("span",{className:"font-medium",children:"Stat: "}),(0,Ae.jsx)("span",{children:e.stat})]}),(0,Ae.jsxs)("div",{className:e.data.current>e.data.previous?"text-green-600":"text-red-600",children:[(0,Ae.jsx)("span",{className:"font-medium",children:"Change: "}),(0,Ae.jsxs)("span",{className:"flex items-center",children:[e.data.current>e.data.previous?"+":"",e.data.current-e.data.previous," points",e.data.current>e.data.previous?(0,Ae.jsx)(pV,{className:"ml-1 h-4 w-4"}):(0,Ae.jsx)(cV,{className:"ml-1 h-4 w-4"})]})]})]})})]},`${e.type}-${e.title}`)},a="transition-all duration-500 animate-fadeIn";return(0,Ae.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6 border border-gray-100 transition-all duration-300 hover:shadow-md",children:[(0,Ae.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,Ae.jsx)(TV,{className:"mr-2 h-6 w-6 text-yellow-500"}),"Insights & Recommendations"]}),0===Object.keys(t).length?(0,Ae.jsxs)("div",{className:a,children:[(0,Ae.jsxs)("div",{className:"p-4 mb-4 bg-gray-50 rounded-lg text-center text-gray-600 border border-gray-200",children:[(0,Ae.jsx)(IV,{className:"mx-auto mb-2 h-8 w-8 text-gray-400"}),(0,Ae.jsx)("p",{className:"mb-2",children:"Not enough data to generate personalized insights yet."}),(0,Ae.jsx)("p",{className:"text-sm",children:"Complete more tasks and check back later for custom recommendations!"})]}),(0,Ae.jsxs)("div",{className:"mt-6",children:[(0,Ae.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[(0,Ae.jsx)(TV,{className:"mr-2 h-5 w-5 text-indigo-500"}),"Getting Started Recommendations"]}),(0,Ae.jsx)("div",{className:"space-y-3",children:[{type:"recommendation",title:"Start Tracking Consistently",description:"Complete tasks regularly to build up your data for personalized insights.",icon:"calendar"},{type:"recommendation",title:"Balance Your Stats",description:"Try to balance development across all stat categories for well-rounded growth.",icon:"activity"},{type:"recommendation",title:"Create a Routine",description:"Establish a consistent time each day for completing your tasks.",icon:"clock"}].map(i)})]})]}):(0,Ae.jsx)("div",{className:a,children:Object.keys(n).map((e=>(e=>{const a=t[e];if(!a||0===a.length)return null;const o=n[e],s=o.icon,l=r(e);return(0,Ae.jsxs)("div",{className:"mb-6",children:[(0,Ae.jsxs)("div",{className:`flex items-center mb-3 p-2 rounded-lg ${l.bg} ${l.border}`,children:[(0,Ae.jsx)("div",{className:`p-2 rounded-full ${l.iconBg} ${l.iconText} mr-2`,children:(0,Ae.jsx)(s,{className:"h-5 w-5"})}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("h2",{className:"text-lg font-semibold",children:o.title}),(0,Ae.jsx)("p",{className:"text-sm text-gray-600",children:o.description})]})]}),(0,Ae.jsx)("div",{className:"space-y-3",children:a.map(i)})]},e)})(e)))}),(0,Ae.jsx)("div",{className:"mt-4 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100",children:(0,Ae.jsxs)("div",{className:"flex items-start",children:[(0,Ae.jsx)(IV,{className:"h-5 w-5 mr-2 text-blue-500 mt-0.5"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{children:"Insights are automatically generated based on your activity patterns and progress."}),(0,Ae.jsx)("p",{className:"mt-1",children:"Check back regularly for updated recommendations as you collect more data!"})]})]})})]})},h$=e=>{let{showTitle:t=!1}=e;const{stats:n,taskHistory:i}=bb(),{rawStats:a}=Zb(),[o,s]=(0,r.useState)((()=>{const e=localStorage.getItem("soloLevelingGoals");return e?JSON.parse(e):[]})),[l,c]=(0,r.useState)({title:"",description:"",targetType:"stat",targetStat:Object.keys(a).length>0?Object.keys(a)[0]:"",targetValue:0,dueDate:"",milestones:[],color:MV.primary}),[u,d]=(0,r.useState)({description:"",targetValue:0}),[h,f]=(0,r.useState)(!1),p="transition-all duration-300";(0,r.useEffect)((()=>{localStorage.setItem("soloLevelingGoals",JSON.stringify(o))}),[o]);const m=e=>{if("stat"===e.targetType){const t=a[e.targetStat]||0;return{current:t,target:e.targetValue,percentage:Math.min(100,Math.round(t/e.targetValue*100))}}if("task"===e.targetType){const t=i.length;return{current:t,target:e.targetValue,percentage:Math.min(100,Math.round(t/e.targetValue*100))}}return{current:0,target:e.targetValue,percentage:0}},g=e=>{const t=m(e);return t.current>=t.target},y=e=>{if(!e.dueDate)return!1;const t=new Date(e.dueDate)-new Date,n=Math.ceil(t/864e5);return n>=0&&n<=3},v=e=>{if(!e)return"No due date";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})},b=e=>{e.preventDefault();const t={...l,id:Date.now().toString(),createdAt:(new Date).toISOString(),milestones:[...l.milestones]};s([...o,t]),c({title:"",description:"",targetType:"stat",targetStat:Object.keys(a).length>0?Object.keys(a)[0]:"",targetValue:0,dueDate:"",milestones:[],color:MV.primary}),f(!1)},x=()=>{!u.description||u.targetValue<=0||(c({...l,milestones:[...l.milestones,{...u,id:Date.now().toString(),completed:!1}]}),d({description:"",targetValue:0}))},w=e=>{const t=m(e);return(0,Ae.jsxs)("div",{className:"mt-2",children:[(0,Ae.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,Ae.jsxs)("span",{children:[t.current," / ",t.target]}),(0,Ae.jsxs)("span",{children:[t.percentage,"%"]})]}),(0,Ae.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 overflow-hidden",children:(0,Ae.jsx)("div",{className:`h-2.5 rounded-full ${p}`,style:{width:`${t.percentage}%`,backgroundColor:e.color||"#6366f1"}})})]})},j=e=>e.milestones&&0!==e.milestones.length?(0,Ae.jsxs)("div",{className:"mt-3",children:[(0,Ae.jsxs)("h4",{className:"text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(yV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Milestones"]}),(0,Ae.jsx)("ul",{className:"text-sm space-y-2",children:e.milestones.map((t=>(0,Ae.jsxs)("li",{className:"flex items-start",children:[(0,Ae.jsx)("div",{className:"mt-0.5 mr-2",children:(0,Ae.jsx)("input",{type:"checkbox",id:`milestone-${t.id}`,checked:t.completed,onChange:()=>{return n=e.id,r=t.id,void s(o.map((e=>e.id!==n?e:{...e,milestones:e.milestones.map((e=>e.id!==r?e:{...e,completed:!e.completed}))})));var n,r},className:"w-4 h-4 rounded text-indigo-600 focus:ring-indigo-500"})}),(0,Ae.jsx)("label",{htmlFor:`milestone-${t.id}`,className:(t.completed?"line-through text-gray-500":"")+" cursor-pointer",children:(0,Ae.jsxs)("div",{children:[t.description,t.targetValue?` (${t.targetValue})`:""]})})]},t.id)))})]}):null,S=e=>{const t=g(e),n=y(e),r=t?"bg-green-50 border-green-200 hover:bg-green-100":n?"bg-amber-50 border-amber-200 hover:bg-amber-100":"bg-white border-gray-200 hover:bg-gray-50";return(0,Ae.jsxs)("div",{className:`border rounded-lg p-4 ${r} ${p}`,children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ae.jsxs)("h3",{className:"font-semibold text-lg flex items-center",children:[(0,Ae.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:e.color||"#6366f1"}}),e.title]}),(0,Ae.jsx)("button",{onClick:()=>{return t=e.id,void s(o.filter((e=>e.id!==t)));var t},className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-100","aria-label":"Delete goal",children:(0,Ae.jsx)(AV,{className:"h-5 w-5"})})]}),e.description&&(0,Ae.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),(0,Ae.jsxs)("div",{className:"mt-2 text-sm",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsxs)("span",{className:"font-medium mr-1 flex items-center",children:[(0,Ae.jsx)(EV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Type:"]}),(0,Ae.jsx)("span",{className:"capitalize",children:e.targetType}),"stat"===e.targetType&&(0,Ae.jsxs)("span",{className:"ml-1",children:["(",e.targetStat,")"]})]}),e.dueDate&&(0,Ae.jsxs)("div",{className:"flex items-center mt-1",children:[(0,Ae.jsxs)("span",{className:"font-medium mr-1 flex items-center",children:[(0,Ae.jsx)(gV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Due:"]}),(0,Ae.jsx)("span",{className:n&&!t?"text-amber-600 font-medium":"",children:v(e.dueDate)})]})]}),w(e),j(e),t&&(0,Ae.jsxs)("div",{className:"mt-3 text-green-600 text-sm font-medium flex items-center bg-green-50 p-2 rounded",children:[(0,Ae.jsx)(NV,{className:"h-4 w-4 mr-1"}),"Goal Completed!"]})]},e.id)},k=o.reduce(((e,t)=>(g(t)?e.completed.push(t):y(t)?e.dueSoon.push(t):e.active.push(t),e)),{active:[],dueSoon:[],completed:[]});return(0,Ae.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6 border border-gray-100 transition-all duration-300 hover:shadow-md",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h2",{className:"text-xl font-semibold mb-1 flex items-center",children:[(0,Ae.jsx)(EV,{className:"mr-2 h-6 w-6 text-gray-700"}),"Goals & Milestones",!t&&(0,Ae.jsx)("span",{className:"ml-2 text-xs text-gray-500 font-normal",children:"Track your progress towards specific targets"})]}),(0,Ae.jsx)("p",{className:"text-xs text-gray-500 mb-3",children:"Goals track raw stat points for precise progress measurement"})]}),h?(0,Ae.jsxs)("div",{className:`border rounded-lg p-4 bg-gray-50 ${p}`,children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Ae.jsxs)("h3",{className:"font-semibold text-lg flex items-center",children:[(0,Ae.jsx)(EV,{className:"mr-2 h-5 w-5 text-indigo-500"}),"Create New Goal"]}),(0,Ae.jsx)("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 p-1 rounded-full hover:bg-gray-200","aria-label":"Close form",children:(0,Ae.jsx)(AV,{className:"h-5 w-5"})})]}),(0,Ae.jsx)("form",{onSubmit:b,children:(0,Ae.jsxs)("div",{className:"space-y-4",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("label",{className:"block text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(wV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Title"]}),(0,Ae.jsx)("input",{type:"text",value:l.title,onChange:e=>c({...l,title:e.target.value}),className:"w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("label",{className:"block text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(IV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Description (Optional)"]}),(0,Ae.jsx)("textarea",{value:l.description,onChange:e=>c({...l,description:e.target.value}),className:"w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",rows:"2"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("label",{className:"block text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(EV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Goal Type"]}),(0,Ae.jsxs)("select",{value:l.targetType,onChange:e=>c({...l,targetType:e.target.value}),className:"w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:[(0,Ae.jsx)("option",{value:"stat",children:"Stat Level"}),(0,Ae.jsx)("option",{value:"task",children:"Task Count"})]})]}),"stat"===l.targetType&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("label",{className:"block text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(mV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Target Stat"]}),(0,Ae.jsx)("select",{value:l.targetStat,onChange:e=>c({...l,targetStat:e.target.value}),className:"w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",children:Object.keys(a).map((e=>(0,Ae.jsx)("option",{value:e,children:e},e)))})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("label",{className:"block text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(EV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Target Value"]}),(0,Ae.jsx)("input",{type:"number",min:"1",value:l.targetValue,onChange:e=>c({...l,targetValue:parseInt(e.target.value)}),className:"w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("label",{className:"block text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(gV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Due Date (Optional)"]}),(0,Ae.jsx)("input",{type:"date",value:l.dueDate,onChange:e=>c({...l,dueDate:e.target.value}),className:"w-full px-3 py-2 border rounded-md focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("label",{className:"block text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(xV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Goal Color"]}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("input",{type:"color",value:l.color,onChange:e=>c({...l,color:e.target.value}),className:"mr-2 h-10 w-10 border-0 rounded cursor-pointer"}),(0,Ae.jsx)("input",{type:"text",value:l.color,onChange:e=>c({...l,color:e.target.value}),className:"px-3 py-2 border rounded-md w-32 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("label",{className:"block text-sm font-medium mb-1 flex items-center",children:[(0,Ae.jsx)(yV,{className:"mr-1 h-4 w-4 text-gray-500"}),"Milestones (Optional)"]}),l.milestones.length>0&&(0,Ae.jsx)("ul",{className:"mb-3 text-sm space-y-1",children:l.milestones.map((e=>(0,Ae.jsxs)("li",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[(0,Ae.jsxs)("div",{children:[e.description,e.targetValue?` (${e.targetValue})`:""]}),(0,Ae.jsx)("button",{type:"button",onClick:()=>{return t=e.id,void c({...l,milestones:l.milestones.filter((e=>e.id!==t))});var t},className:"text-red-500 hover:text-red-700 p-1 rounded-full hover:bg-red-50","aria-label":"Remove milestone",children:(0,Ae.jsx)(AV,{className:"h-4 w-4"})})]},e.id)))}),(0,Ae.jsxs)("div",{className:"flex space-x-2",children:[(0,Ae.jsx)("div",{className:"flex-grow",children:(0,Ae.jsx)("input",{type:"text",placeholder:"Milestone description",value:u.description,onChange:e=>d({...u,description:e.target.value}),className:"w-full px-3 py-2 border rounded-md text-sm focus:ring-indigo-500 focus:border-indigo-500"})}),(0,Ae.jsx)("div",{className:"w-20",children:(0,Ae.jsx)("input",{type:"number",placeholder:"Value",min:"1",value:u.targetValue||"",onChange:e=>d({...u,targetValue:parseInt(e.target.value)||0}),className:"w-full px-3 py-2 border rounded-md text-sm focus:ring-indigo-500 focus:border-indigo-500"})}),(0,Ae.jsxs)("button",{type:"button",onClick:x,className:"px-3 py-2 bg-gray-200 rounded-md text-sm hover:bg-gray-300 flex items-center",disabled:!u.description||!u.targetValue,children:[(0,Ae.jsx)(CV,{className:"mr-1 h-4 w-4"}),"Add"]})]})]}),(0,Ae.jsxs)("div",{className:"flex justify-end space-x-3 pt-2",children:[(0,Ae.jsxs)("button",{type:"button",onClick:()=>f(!1),className:"px-4 py-2 border rounded-md text-sm hover:bg-gray-50 flex items-center",children:[(0,Ae.jsx)(AV,{className:"mr-1 h-4 w-4"}),"Cancel"]}),(0,Ae.jsxs)("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-md text-sm hover:bg-indigo-700 flex items-center",children:[(0,Ae.jsx)(kV,{className:"mr-1 h-4 w-4"}),"Create Goal"]})]})]})})]}):(0,Ae.jsx)("button",{onClick:()=>f(!0),className:`w-full p-3 border border-dashed border-gray-300 rounded-lg text-center hover:bg-gray-50 ${p}`,children:(0,Ae.jsxs)("div",{className:"flex items-center justify-center text-gray-600",children:[(0,Ae.jsx)(OV,{className:"h-5 w-5 mr-1"}),"Add New Goal"]})}),0!==o.length||h?(0,Ae.jsxs)("div",{className:"mt-6 space-y-6",children:[k.dueSoon.length>0&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h3",{className:"font-medium text-amber-600 mb-3 flex items-center bg-amber-50 p-2 rounded",children:[(0,Ae.jsx)(_V,{className:"h-5 w-5 mr-1"}),"Due Soon (",k.dueSoon.length,")"]}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.dueSoon.map(S)})]}),k.active.length>0&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h3",{className:"font-medium text-blue-600 mb-3 flex items-center bg-blue-50 p-2 rounded",children:[(0,Ae.jsx)(mV,{className:"h-5 w-5 mr-1"}),"In Progress (",k.active.length,")"]}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.active.map(S)})]}),k.completed.length>0&&(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("h3",{className:"font-medium text-green-600 mb-3 flex items-center bg-green-50 p-2 rounded",children:[(0,Ae.jsx)(NV,{className:"h-5 w-5 mr-1"}),"Completed (",k.completed.length,")"]}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:k.completed.map(S)})]})]}):(0,Ae.jsxs)("div",{className:"mt-4 p-6 text-center text-gray-500 bg-gray-50 rounded-lg border border-gray-200",children:[(0,Ae.jsx)(EV,{className:"mx-auto mb-2 h-10 w-10 text-gray-400"}),(0,Ae.jsx)("p",{className:"mb-2",children:"You haven't set any goals yet."}),(0,Ae.jsx)("p",{className:"text-sm",children:"Create your first goal to track progress towards important milestones!"})]}),(0,Ae.jsx)("div",{className:"mt-6 text-sm text-gray-600 bg-blue-50 p-3 rounded-lg border border-blue-100",children:(0,Ae.jsxs)("div",{className:"flex items-start",children:[(0,Ae.jsx)(IV,{className:"h-5 w-5 mr-2 text-blue-500 mt-0.5"}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("p",{children:"Set meaningful goals and track your progress with milestones to stay motivated."}),(0,Ae.jsx)("p",{className:"mt-1",children:"Goals automatically update as you complete tasks and improve your stats!"})]})]})})]})},f$=()=>{const{taskHistory:e,STATS:t}=bb(),{rawStats:n}=Zb(),[i,a]=(0,r.useState)({}),[o,s]=(0,r.useState)(null),[l,c]=(0,r.useState)({hasTaskHistory:!1,taskCount:0,recentTasks:[],processedDates:{}});(0,r.useEffect)((()=>{if(console.log("Raw task history:",e),!e||!Array.isArray(e)||0===e.length)return console.log("No task history found or empty array"),void c({hasTaskHistory:!1,taskCount:0,recentTasks:[],processedDates:{}});console.log("Task history length:",e.length);const t={},n=[],r=new Set;console.log("Sample task:",e[0]),e.forEach(((e,i)=>{if(i<5&&console.log(`Task ${i}:`,e),!e.completedAt)return void console.log(`Task ${i} has no completedAt date`);const a=new Date(e.completedAt).toISOString().split("T")[0];console.log(`Processing task ${i} from date ${a}`),r.add(a),n.length<5&&n.push({id:e.id||`task_${i}`,name:e.name,completedAt:e.completedAt,dateKey:a,statId:e.statId,points:e.points||0}),t[a]||(t[a]={}),e.statId&&(e.points||0===e.points)&&(t[a][e.statId]||(t[a][e.statId]=0),t[a][e.statId]+=e.points,console.log(`Added ${e.points} points to ${e.statId} on ${a}`))})),console.log("Processed activity data:",t),console.log("Processed dates:",[...r]),a(t),c({hasTaskHistory:!0,taskCount:e.length,recentTasks:n,processedDates:[...r]})}),[e]);const u=e=>e.toLocaleDateString("en-US",{month:"short",day:"numeric"}),d=e=>{if(!e||0===e)return{backgroundColor:"#374151",border:"1px solid #4B5563",width:"20px",height:"20px"};const t="#60A5FA";let n;return n=e<=2?.2:e<=4?.4:e<=8?.6:e<=12?.8:1,{backgroundColor:t,opacity:n,border:`1px solid ${t}`,width:"20px",height:"20px",cursor:"pointer"}},h=(()=>{const e=[],t=new Date;for(let n=29;n>=0;n--){const r=new Date;r.setDate(t.getDate()-n),r.setHours(0,0,0,0),e.push(r)}return e})(),f=t?t.map((e=>e.id)):Object.keys(n);return 0===f.length?(0,Ae.jsx)("div",{style:{fontFamily:"system-ui, sans-serif",color:"#E5E7EB",padding:"16px"},children:(0,Ae.jsx)("p",{children:"No stats data available yet."})}):(0,Ae.jsxs)("div",{style:{fontFamily:"system-ui, sans-serif",color:"#E5E7EB"},children:[(0,Ae.jsx)("h3",{style:{fontSize:"1.125rem",fontWeight:"500",marginBottom:"1rem"},children:"Stat Activity Grid (Points Earned Daily)"}),(0,Ae.jsx)("div",{style:{overflowX:"auto"},children:(0,Ae.jsxs)("table",{style:{borderCollapse:"separate",borderSpacing:"3px",width:"100%"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{width:"120px",textAlign:"right",padding:"0 8px"}}),h.map(((e,t)=>(0,Ae.jsx)("th",{style:{padding:"4px 0",fontSize:"0.75rem",fontWeight:"normal",color:"#9CA3AF",width:"20px",textAlign:"center"},children:t%5===0?(0,Ae.jsxs)("div",{style:{whiteSpace:"nowrap"},children:[(0,Ae.jsx)("div",{children:e.toLocaleDateString("en-US",{month:"short"})}),(0,Ae.jsx)("div",{children:e.getDate()})]}):""},t)))]})}),(0,Ae.jsx)("tbody",{children:f.map((e=>{const n=t.find((t=>t.id===e)),r=n?n.name:e;return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsxs)("td",{style:{padding:"4px 8px",textAlign:"right",fontWeight:"500",fontSize:"0.875rem"},children:[n&&n.icon?(0,Ae.jsx)("span",{style:{marginRight:"4px"},children:n.icon}):null,r]}),h.map(((t,n)=>{var a;const o=t.toISOString().split("T")[0],l=(null===(a=i[o])||void 0===a?void 0:a[e])||0;return(0,Ae.jsx)("td",{onClick:()=>s(o),title:`${r}: ${l} points on ${u(t)}`,style:{padding:0},children:(0,Ae.jsx)("div",{style:d(l)})},n)}))]},e)}))})]})}),(0,Ae.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center",margin:"12px 0"},children:[(0,Ae.jsx)("span",{style:{fontSize:"0.75rem",color:"#9CA3AF"},children:"Fewer"}),(0,Ae.jsx)("div",{style:{display:"flex",margin:"0 8px"},children:[.2,.4,.6,.8,1].map(((e,t)=>(0,Ae.jsx)("div",{style:{width:"14px",height:"14px",backgroundColor:"#60A5FA",opacity:e,marginLeft:t>0?"4px":0,border:"1px solid #4B5563",borderRadius:"2px"}},t)))}),(0,Ae.jsx)("span",{style:{fontSize:"0.75rem",color:"#9CA3AF"},children:"More"})]}),(()=>{if(!o||!i[o])return null;const e=i[o],n=Object.entries(e).filter((e=>{let[t,n]=e;return n>0}));if(0===n.length)return null;const r=n.reduce(((e,t)=>{let[n,r]=t;return e+r}),0);return(0,Ae.jsxs)("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#1F2937",borderRadius:"8px",border:"1px solid #374151"},children:[(0,Ae.jsx)("h4",{style:{fontWeight:"bold",marginBottom:"12px",color:"#E5E7EB"},children:new Date(o).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),(0,Ae.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,Ae.jsx)("div",{style:{fontSize:"0.875rem",color:"#9CA3AF"},children:"Total Points"}),(0,Ae.jsx)("div",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#E5E7EB"},children:r})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{style:{fontSize:"0.875rem",color:"#9CA3AF",marginBottom:"8px"},children:"Stats Breakdown"}),(0,Ae.jsx)("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:n.map((e=>{let[n,r]=e;const i=t.find((e=>e.id===n)),a=i?i.name:n;return(0,Ae.jsxs)("div",{style:{backgroundColor:"#60A5FA",color:"white",padding:"4px 8px",borderRadius:"9999px",fontSize:"0.875rem"},children:[a,": +",r]},n)}))})]})]})})(),(0,Ae.jsxs)("div",{style:{marginTop:"20px",padding:"16px",backgroundColor:"#1F2937",borderRadius:"8px",border:"1px solid #374151",fontSize:"0.875rem",color:"#E5E7EB"},children:[(0,Ae.jsx)("h4",{style:{fontWeight:"bold",marginBottom:"12px"},children:"Debug Information"}),(0,Ae.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,Ae.jsx)("div",{style:{color:"#9CA3AF"},children:"Task History Available:"}),(0,Ae.jsx)("div",{children:l.hasTaskHistory?"Yes":"No"})]}),(0,Ae.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,Ae.jsx)("div",{style:{color:"#9CA3AF"},children:"Number of Tasks:"}),(0,Ae.jsx)("div",{children:l.taskCount})]}),(0,Ae.jsxs)("div",{style:{marginBottom:"8px"},children:[(0,Ae.jsx)("div",{style:{color:"#9CA3AF"},children:"Processed Dates:"}),(0,Ae.jsx)("div",{children:Array.isArray(l.processedDates)?JSON.stringify(l.processedDates):"None"})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{style:{color:"#9CA3AF",marginBottom:"4px"},children:"Recent Tasks:"}),(0,Ae.jsx)("pre",{style:{maxHeight:"200px",overflow:"auto",fontSize:"0.75rem",backgroundColor:"#111827",padding:"8px",borderRadius:"4px"},children:JSON.stringify(l.recentTasks,null,2)})]}),(0,Ae.jsxs)("div",{style:{marginTop:"16px",color:"#9CA3AF"},children:[(0,Ae.jsx)("p",{children:"This grid shows points earned from completed tasks for each stat category."}),(0,Ae.jsx)("p",{children:"Each cell represents a day, and the color intensity shows how many points you earned that day for the corresponding stat."}),(0,Ae.jsx)("p",{children:"If you're not seeing any data, it may be because:"}),(0,Ae.jsxs)("ul",{style:{listStyleType:"disc",paddingLeft:"20px",marginTop:"8px"},children:[(0,Ae.jsx)("li",{children:"You haven't completed any tasks yet"}),(0,Ae.jsx)("li",{children:"Your task history isn't being loaded correctly"}),(0,Ae.jsx)("li",{children:"The tasks were completed outside the 30-day window shown"})]})]})]}),(0,Ae.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:"rgba(37, 99, 235, 0.1)",borderRadius:"8px",border:"1px solid rgba(37, 99, 235, 0.3)",fontSize:"0.875rem",color:"#93C5FD"},children:[(0,Ae.jsx)("p",{children:"This grid shows your daily activity for each stat category over the past 30 days."}),(0,Ae.jsx)("p",{style:{marginTop:"4px"},children:"Darker colors indicate more points earned on that day. Click on any cell to see details."})]})]})},p$=()=>{const[e,t]=(0,r.useState)("dashboard"),n=[{id:"dashboard",label:"Dashboard",icon:bV},{id:"activity",label:"Activity Patterns",icon:mV},{id:"correlations",label:"Stat Correlations",icon:jV},{id:"progress",label:"Progress Reports",icon:vV},{id:"goals",label:"Goals & Milestones",icon:EV}];return(0,Ae.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,Ae.jsx)("h1",{className:"text-3xl font-bold mb-6 dark:text-white",children:"Analytics & Insights"}),(0,Ae.jsx)("div",{className:"mb-6 border-b dark:border-gray-700",children:(0,Ae.jsx)("nav",{className:"flex space-x-1 md:space-x-4 overflow-x-auto pb-2",children:n.map((n=>{const r=n.icon;return(0,Ae.jsxs)("button",{onClick:()=>t(n.id),className:"flex items-center px-3 py-2 text-sm font-medium rounded-t-lg transition-all duration-200 "+(e===n.id?"bg-indigo-600 text-white":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-800"),"aria-selected":e===n.id,role:"tab",children:[(0,Ae.jsx)(r,{className:"mr-2 h-5 w-5"}),(0,Ae.jsx)("span",{children:n.label})]},n.id)}))})}),(0,Ae.jsx)("div",{className:"transition-all duration-300 ease-in-out",children:(()=>{switch(e){case"dashboard":return(0,Ae.jsxs)("div",{className:"space-y-6",children:[(0,Ae.jsx)(d$,{}),(0,Ae.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ae.jsx)(RV,{}),(0,Ae.jsx)(u$,{})]}),(0,Ae.jsx)("div",{className:"bg-white dark:bg-gray-900 rounded-lg shadow p-4 mb-6 border border-gray-100 dark:border-gray-800",children:(0,Ae.jsx)(f$,{})}),(0,Ae.jsx)(h$,{})]});case"activity":return(0,Ae.jsx)(RV,{showTitle:!0});case"correlations":return(0,Ae.jsx)(c$,{showTitle:!0});case"progress":return(0,Ae.jsx)(u$,{showTitle:!0});case"goals":return(0,Ae.jsx)(h$,{showTitle:!0});default:return null}})()})]})};function m$(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function g$(e,t){Le(2,arguments);var n=Fe(e),r=Fe(t),i=m$(n,r),a=Math.abs(function(e,t){Le(2,arguments);var n=Fb(e),r=Fb(t),i=n.getTime()-pt(n),a=r.getTime()-pt(r);return Math.round((i-a)/864e5)}(n,r));n.setDate(n.getDate()-i*a);var o=i*(a-Number(m$(n,r)===-i));return 0===o?0:o}const y$="stat_based",v$="achievement",b$="challenge",x$="special",w$={COMMON:{name:"Common",color:"#BDBDBD"},UNCOMMON:{name:"Uncommon",color:"#4CAF50"},RARE:{name:"Rare",color:"#2196F3"},EPIC:{name:"Epic",color:"#9C27B0"},LEGENDARY:{name:"Legendary",color:"#FF9800"},MYTHIC:{name:"Mythic",color:"#F44336"}},j$=[{id:"disciplined",name:"The Disciplined",description:"Reached level 25 in Discipline",category:y$,rarity:w$.UNCOMMON,requirements:{stat:"discipline",level:25},icon:"\ud83d\udccb"},{id:"master_linguist",name:"Master Linguist",description:"Reached level 25 in Linguist",category:y$,rarity:w$.UNCOMMON,requirements:{stat:"linguist",level:25},icon:"\ud83d\udde3\ufe0f"},{id:"endurance_runner",name:"Endurance Runner",description:"Reached level 25 in Stamina",category:y$,rarity:w$.UNCOMMON,requirements:{stat:"stamina",level:25},icon:"\ud83c\udfc3"},{id:"mighty",name:"The Mighty",description:"Reached level 25 in Strength",category:y$,rarity:w$.UNCOMMON,requirements:{stat:"strength",level:25},icon:"\ud83d\udcaa"},{id:"nimble",name:"The Nimble",description:"Reached level 25 in Agility",category:y$,rarity:w$.UNCOMMON,requirements:{stat:"agility",level:25},icon:"\ud83e\udd38"},{id:"genius",name:"The Genius",description:"Reached level 25 in Intelligence",category:y$,rarity:w$.UNCOMMON,requirements:{stat:"intelligence",level:25},icon:"\ud83e\udde0"},{id:"zen_master",name:"Zen Master",description:"Reached level 25 in Concentration",category:y$,rarity:w$.UNCOMMON,requirements:{stat:"concentration",level:25},icon:"\ud83e\uddd8"},{id:"paragon_of_discipline",name:"Paragon of Discipline",description:"Reached level 50 in Discipline",category:y$,rarity:w$.RARE,requirements:{stat:"discipline",level:50},icon:"\ud83d\udccb"},{id:"polyglot",name:"Polyglot",description:"Reached level 50 in Linguist",category:y$,rarity:w$.RARE,requirements:{stat:"linguist",level:50},icon:"\ud83d\udde3\ufe0f"},{id:"marathon_champion",name:"Marathon Champion",description:"Reached level 50 in Stamina",category:y$,rarity:w$.RARE,requirements:{stat:"stamina",level:50},icon:"\ud83c\udfc3"},{id:"titan",name:"Titan",description:"Reached level 50 in Strength",category:y$,rarity:w$.RARE,requirements:{stat:"strength",level:50},icon:"\ud83d\udcaa"},{id:"acrobat",name:"Master Acrobat",description:"Reached level 50 in Agility",category:y$,rarity:w$.RARE,requirements:{stat:"agility",level:50},icon:"\ud83e\udd38"},{id:"archmage",name:"Archmage",description:"Reached level 50 in Intelligence",category:y$,rarity:w$.RARE,requirements:{stat:"intelligence",level:50},icon:"\ud83e\udde0"},{id:"enlightened",name:"The Enlightened",description:"Reached level 50 in Concentration",category:y$,rarity:w$.RARE,requirements:{stat:"concentration",level:50},icon:"\ud83e\uddd8"},{id:"warrior",name:"Warrior",description:"Reached level 20 in both Strength and Stamina",category:y$,rarity:w$.UNCOMMON,requirements:{multistat:!0,stats:[{stat:"strength",level:20},{stat:"stamina",level:20}]},icon:"\u2694\ufe0f"},{id:"monk",name:"Monk",description:"Reached level 20 in both Discipline and Concentration",category:y$,rarity:w$.UNCOMMON,requirements:{multistat:!0,stats:[{stat:"discipline",level:20},{stat:"concentration",level:20}]},icon:"\ud83d\ude4f"},{id:"wizard",name:"Wizard",description:"Reached level 20 in both Intelligence and Concentration",category:y$,rarity:w$.UNCOMMON,requirements:{multistat:!0,stats:[{stat:"intelligence",level:20},{stat:"concentration",level:20}]},icon:"\ud83e\uddd9"},{id:"bard",name:"Bard",description:"Reached level 20 in both Linguist and Intelligence",category:y$,rarity:w$.UNCOMMON,requirements:{multistat:!0,stats:[{stat:"linguist",level:20},{stat:"intelligence",level:20}]},icon:"\ud83c\udfad"},{id:"ranger",name:"Ranger",description:"Reached level 20 in both Stamina and Discipline",category:y$,rarity:w$.UNCOMMON,requirements:{multistat:!0,stats:[{stat:"stamina",level:20},{stat:"discipline",level:20}]},icon:"\ud83c\udff9"},{id:"paladin",name:"Paladin",description:"Reached level 20 in both Strength and Discipline",category:y$,rarity:w$.UNCOMMON,requirements:{multistat:!0,stats:[{stat:"strength",level:20},{stat:"discipline",level:20}]},icon:"\ud83d\udee1\ufe0f"},{id:"rogue",name:"Rogue",description:"Reached level 20 in both Agility and Concentration",category:y$,rarity:w$.UNCOMMON,requirements:{multistat:!0,stats:[{stat:"agility",level:20},{stat:"concentration",level:20}]},icon:"\ud83d\udd2a"},{id:"dancer",name:"Dancer",description:"Reached level 20 in both Agility and Stamina",category:y$,rarity:w$.UNCOMMON,requirements:{multistat:!0,stats:[{stat:"agility",level:20},{stat:"stamina",level:20}]},icon:"\ud83d\udc83"},{id:"arch_paladin",name:"Arch Paladin",description:"Reached level 40 in both Strength and Discipline",category:y$,rarity:w$.RARE,requirements:{multistat:!0,stats:[{stat:"strength",level:40},{stat:"discipline",level:40}]},icon:"\ud83d\udee1\ufe0f"},{id:"grand_wizard",name:"Grand Wizard",description:"Reached level 40 in both Intelligence and Concentration",category:y$,rarity:w$.RARE,requirements:{multistat:!0,stats:[{stat:"intelligence",level:40},{stat:"concentration",level:40}]},icon:"\ud83e\uddd9"},{id:"shadow_dancer",name:"Shadow Dancer",description:"Reached level 40 in both Agility and Concentration",category:y$,rarity:w$.RARE,requirements:{multistat:!0,stats:[{stat:"agility",level:40},{stat:"concentration",level:40}]},icon:"\ud83d\udc65"},{id:"streak_master",name:"Streak Master",description:"Maintained a 30-day streak",category:v$,rarity:w$.UNCOMMON,requirements:{streak:30},icon:"\ud83d\udd25"},{id:"centurion",name:"Centurion",description:"Completed 100 tasks",category:v$,rarity:w$.UNCOMMON,requirements:{tasksCompleted:100},icon:"\ud83d\udcaf"},{id:"veteran",name:"Veteran",description:"Been active for 100 days",category:v$,rarity:w$.UNCOMMON,requirements:{daysActive:100},icon:"\ud83d\udcc5"},{id:"streak_champion",name:"Streak Champion",description:"Won a Streak Competition challenge",category:b$,rarity:w$.RARE,requirements:{wonChallenge:"streak_competition"},icon:"\ud83c\udfc6"},{id:"weekly_champion",name:"Weekly Champion",description:"Won a Weekly Leaderboard challenge",category:b$,rarity:w$.RARE,requirements:{wonChallenge:"weekly_leaderboard"},icon:"\ud83c\udfc6"},{id:"jack_of_all_trades",name:"Jack of All Trades",description:"Reached level 15 in all stats",category:x$,rarity:w$.RARE,requirements:{multistat:!0,allStats:!0,level:15},icon:"\ud83c\udccf"},{id:"master_of_all",name:"Master of All",description:"Reached level 30 in all stats",category:x$,rarity:w$.EPIC,requirements:{multistat:!0,allStats:!0,level:30},icon:"\ud83d\udc51"},{id:"unstoppable",name:"Unstoppable",description:"Maintained a 100-day streak",category:x$,rarity:w$.LEGENDARY,requirements:{streak:100},icon:"\u26a1"},{id:"grandmaster",name:"Grandmaster",description:"Reached level 50 in all stats",category:x$,rarity:w$.MYTHIC,requirements:{multistat:!0,allStats:!0,level:50},icon:"\u2728"}],S$=e=>j$.find((t=>t.id===e))||null,k$=e=>{let{titleId:t,userName:n,showIcon:r=!0,size:i="medium",style:a={}}=e;if(!t)return null;const o=S$(t);if(!o)return null;let s;switch(i){case"small":s="0.75rem";break;case"medium":default:s="0.875rem";break;case"large":s="1rem"}return(0,Ae.jsxs)("div",{style:{display:"inline-flex",alignItems:"center",padding:"2px 8px",borderRadius:"4px",backgroundColor:`${o.rarity.color}33`,color:o.rarity.color,fontWeight:"bold",fontSize:s,...a},children:[r&&o.icon&&(0,Ae.jsx)("span",{style:{marginRight:"4px"},children:o.icon}),(0,Ae.jsxs)("span",{children:[o.name,n&&` ${n}`]})]})},E$=async e=>{try{const t=py(rb,"users",e),n=await yv(t);if(n.exists()){const e=n.data();return{success:!0,titles:e.titles||[],selectedTitle:e.selectedTitle||null}}return{success:!0,titles:[],selectedTitle:null}}catch(t){return console.error("Error getting user titles:",t),{success:!1,error:t.message,titles:[],selectedTitle:null}}},T$=()=>{const{theme:e}=De(),{currentUser:t}=ab(),[n,i]=(0,r.useState)(!0),[a,o]=(0,r.useState)([]),[s,l]=(0,r.useState)(null),[c,u]=(0,r.useState)("all"),[d,h]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{if(t){i(!0);try{const e=await E$(t.uid);if(e.success){const t=e.titles.map((e=>S$(e))).filter(Boolean);o(t),l(e.selectedTitle)}}catch(e){console.error("Error loading titles:",e)}finally{i(!1)}}})()}),[t]);const f=async e=>{if(t)try{if(s===e){(await(async e=>{try{const t=py(rb,"users",e);return await xv(t,{selectedTitle:null}),{success:!0}}catch(t){return console.error("Error removing title:",t),{success:!1,error:t.message}}})(t.uid)).success&&l(null)}else{const n=await(async(e,t)=>{try{const n=py(rb,"users",e),r=await yv(n);if(r.exists()){return(r.data().titles||[]).includes(t)?(await xv(n,{selectedTitle:t}),{success:!0}):{success:!1,error:"You do not have this title"}}return{success:!1,error:"User data not found"}}catch(n){return console.error("Error selecting title:",n),{success:!1,error:n.message}}})(t.uid,e);n.success&&l(e)}}catch(n){console.error("Error selecting title:",n)}},p=[{id:"all",name:"All",icon:"\ud83c\udfc6"},{id:y$,name:"Stat-Based",icon:"\ud83d\udcca"},{id:v$,name:"Achievement",icon:"\ud83c\udfaf"},{id:b$,name:"Challenge",icon:"\u2694\ufe0f"},{id:x$,name:"Special",icon:"\u2728"}],m=a.filter((e=>{const t="all"===c||e.category===c,n=!d||e.name.toLowerCase().includes(d.toLowerCase())||e.description.toLowerCase().includes(d.toLowerCase());return t&&n}));return n?(0,Ae.jsx)("div",{className:"card p-lg flex justify-center items-center",children:(0,Ae.jsx)("div",{children:"Loading titles..."})}):(0,Ae.jsx)("div",{className:"animate-fade-in",children:(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Your Titles"}),a.length>0?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:"mb-lg",style:{textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.7},children:"Currently displaying"}),s?(0,Ae.jsx)(k$,{titleId:s,size:"large",style:{padding:"4px 12px"}}):(0,Ae.jsx)("div",{style:{opacity:.5},children:"No title selected"})]}),(0,Ae.jsxs)("div",{className:"mb-md",children:[(0,Ae.jsx)("input",{type:"text",placeholder:"Search titles...",value:d,onChange:e=>h(e.target.value),className:"form-input mb-sm"}),(0,Ae.jsx)("div",{className:"flex overflow-x-auto mb-md",style:{borderBottom:`1px solid ${e.border}`},children:p.map((t=>(0,Ae.jsxs)("button",{className:"px-md py-sm whitespace-nowrap "+(c===t.id?"font-bold":""),style:{color:c===t.id?e.primary:e.text,borderBottom:c===t.id?`2px solid ${e.primary}`:"none",backgroundColor:"transparent",margin:"0 4px",marginBottom:"-1px"},onClick:()=>u(t.id),children:[(0,Ae.jsx)("span",{className:"mr-xs",children:t.icon}),t.name]},t.id)))})]}),m.length>0?(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-md",children:m.map((t=>(0,Ae.jsxs)("div",{onClick:()=>f(t.id),style:{padding:"var(--spacing-md)",backgroundColor:s===t.id?`${t.rarity.color}20`:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",border:s===t.id?`1px solid ${t.rarity.color}`:"none",cursor:"pointer",transition:"all var(--transition-fast)"},className:"hover:bg-opacity-20",children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("span",{className:"text-2xl mr-md",children:t.icon}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"font-bold",style:{color:t.rarity.color},children:t.name}),(0,Ae.jsx)("div",{className:"text-sm",style:{opacity:.7},children:t.description})]})]}),(0,Ae.jsx)("div",{className:"text-xs py-xs px-sm",style:{backgroundColor:`${t.rarity.color}20`,color:t.rarity.color,borderRadius:"var(--border-radius-sm)",fontWeight:"bold"},children:t.rarity.name})]}),s===t.id&&(0,Ae.jsx)("div",{className:"text-xs mt-sm",style:{color:e.primary,textAlign:"right"},children:"Active"})]},t.id)))}):(0,Ae.jsx)("div",{className:"p-lg text-center opacity-70",children:"No titles match your search."})]}):(0,Ae.jsxs)("div",{className:"p-lg text-center",children:[(0,Ae.jsx)("p",{children:"You haven't earned any titles yet."}),(0,Ae.jsx)("p",{className:"mt-sm text-sm opacity-70",children:"Complete tasks, level up your stats, and participate in challenges to earn titles!"})]})]})})},C$=()=>{const{playerName:e,stats:t,STATS:n,getOverallLevel:i,getOverallRank:a,streak:o,completedTasks:s,profilePicture:l,dispatch:c}=bb(),{theme:u}=De(),{currentUser:d}=ab(),[h,f]=(0,r.useState)("all"),[p,m]=(0,r.useState)(!1),[g,y]=(0,r.useState)(l),[v,b]=(0,r.useState)(null),[x,w]=(0,r.useState)(!1),j=(0,r.useRef)(null),S=(0,r.useRef)(null);(0,r.useEffect)((()=>{(async()=>{if(d)try{const e=await E$(d.uid);e.success&&b(e.selectedTitle)}catch(e){console.error("Error loading user title:",e)}})()}),[d]),(0,r.useEffect)((()=>{const e=e=>{S.current&&!S.current.contains(e.target)&&w(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}}),[]);const k=s.length>0?new Date(s.reduce(((e,t)=>{const n=new Date(t.completedAt);return n<e?n:e}),new Date)):new Date,E=g$(new Date,k),T=n.map((e=>({stat:e.name,points:t[e.id].lifetimePoints||0,level:t[e.id].level,fullMark:1.2*Math.max(...Object.values(t).map((e=>e.lifetimePoints||0))),icon:e.icon,id:e.id}))),C=[...s].sort(((e,t)=>new Date(t.completedAt)-new Date(e.completedAt))).filter((e=>"all"===h||e.statId===h)).slice(0,10);return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsx)("h2",{className:"text-2xl mb-md",children:"Profile"}),(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsxs)("div",{style:{textAlign:"center",width:"100%",marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"var(--spacing-md)"},children:p?(0,Ae.jsxs)("div",{style:{maxWidth:"500px",width:"100%"},children:[(0,Ae.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"var(--spacing-md)"},children:(0,Ae.jsx)(rz,{size:"large",src:g,showBorder:!0})}),(0,Ae.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"var(--spacing-sm)",marginBottom:"var(--spacing-md)"},children:[null,"https://api.dicebear.com/7.x/adventurer/svg?seed=Felix&backgroundColor=b6e3f4","https://api.dicebear.com/7.x/adventurer/svg?seed=Daisy&backgroundColor=d1d4f9","https://api.dicebear.com/7.x/adventurer/svg?seed=Max&backgroundColor=c0aede","https://api.dicebear.com/7.x/adventurer/svg?seed=Zoe&backgroundColor=ffdfbf","https://api.dicebear.com/7.x/adventurer/svg?seed=Jasper&backgroundColor=ffd5dc","https://api.dicebear.com/7.x/adventurer/svg?seed=Luna&backgroundColor=c1e1c5"].map(((e,t)=>(0,Ae.jsx)("div",{onClick:()=>y(e),style:{border:g===e?`2px solid ${u.primary}`:"2px solid transparent",borderRadius:"50%",padding:"3px",cursor:"pointer"},children:(0,Ae.jsx)(rz,{size:"small",src:e,showBorder:!1})},t)))}),(0,Ae.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"var(--spacing-sm)",maxWidth:"300px",margin:"0 auto"},children:[(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>{j.current.click()},style:{width:"100%"},children:"Upload Image"}),(0,Ae.jsx)("input",{type:"file",ref:j,accept:"image/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(!t)return;const n=new FileReader;n.onloadend=()=>{y(n.result)},n.readAsDataURL(t)}}),(0,Ae.jsxs)("div",{style:{display:"flex",gap:"var(--spacing-sm)"},children:[(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:()=>{c({type:"SET_PROFILE_PICTURE",payload:g}),m(!1)},style:{flex:1},children:"Save"}),(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>{m(!1),y(l)},style:{flex:1},children:"Cancel"})]})]})]}):(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)(rz,{size:"large",src:l,onClick:()=>m(!0)}),(0,Ae.jsx)("div",{children:(0,Ae.jsx)("button",{className:"btn btn-outline mt-md",style:{padding:"4px 8px",fontSize:"0.9rem"},onClick:()=>m(!0),children:"Change Picture"})})]})}),(0,Ae.jsx)("h1",{className:"text-3xl font-bold",children:e}),(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-md)",position:"relative"},ref:S,children:[v&&(0,Ae.jsx)("div",{style:{marginBottom:"var(--spacing-xs)"},children:(0,Ae.jsx)(k$,{titleId:v,size:"medium"})}),(0,Ae.jsxs)("button",{className:"btn btn-outline btn-sm",onClick:()=>{w(!x)},style:{display:"inline-flex",alignItems:"center",gap:"5px"},children:[v?"Change Title":"Select Title",(0,Ae.jsx)("span",{style:{fontSize:"0.8em"},children:"\u25bc"})]}),x&&(0,Ae.jsx)("div",{style:{position:"absolute",top:"100%",left:"50%",transform:"translateX(-50%)",width:"300px",maxWidth:"90vw",backgroundColor:u.card,borderRadius:"var(--border-radius-md)",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.2)",zIndex:10,marginTop:"var(--spacing-sm)",border:`1px solid ${u.border}`,paddingBottom:"var(--spacing-md)"},children:(0,Ae.jsx)("div",{style:{padding:"var(--spacing-sm)"},children:(0,Ae.jsx)(T$,{})})})]})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-md",children:[(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Level"}),(0,Ae.jsx)("div",{className:"text-xl font-bold",children:i()})]}),(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Rank"}),(0,Ae.jsx)("div",{className:"text-xl font-bold",children:a()})]}),(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Streak"}),(0,Ae.jsxs)("div",{className:"text-xl font-bold",children:["\ud83d\udd25 ",o.current," day",1!==o.current?"s":""]})]}),(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Days Active"}),(0,Ae.jsx)("div",{className:"text-xl font-bold",children:E})]})]}),(0,Ae.jsxs)("div",{style:{marginTop:"var(--spacing-md)",padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Member Since"}),(0,Ae.jsx)("div",{children:Mt(k,"MMMM d, yyyy")}),(0,Ae.jsxs)("div",{className:"text-sm",style:{opacity:.8,marginTop:"var(--spacing-xs)"},children:[s.length," Task",1!==s.length?"s":""," Completed"]})]})]})]}),(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsx)("h2",{className:"text-2xl mb-md",children:"Stats Visualization"}),(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("div",{style:{height:"400px"},children:(0,Ae.jsx)(Tw,{width:"100%",height:"100%",children:(0,Ae.jsxs)(CU,{cx:"50%",cy:"50%",outerRadius:"80%",data:T,margin:{top:20,right:30,left:20,bottom:20},children:[(0,Ae.jsx)(BU,{stroke:u.text,strokeOpacity:.4,strokeDasharray:"3 3",strokeWidth:1.5}),(0,Ae.jsx)(sU,{dataKey:"stat",tick:e=>{const{x:t,y:n,payload:r}=e,i=T.find((e=>e.stat===r.value)),a=i?i.icon:"";return(0,Ae.jsx)("g",{transform:`translate(${t},${n})`,children:(0,Ae.jsxs)("text",{x:0,y:0,dy:5,textAnchor:"middle",fill:u.text,fontSize:"14",fontWeight:"600",children:[a," ",r.value]})})}}),(0,Ae.jsx)(TU,{angle:90,domain:[0,"auto"],axisLine:{stroke:u.text,strokeOpacity:.5},tick:{fill:u.text,fontSize:12,fontWeight:"bold"},tickCount:5,stroke:u.text,strokeOpacity:.7}),(0,Ae.jsx)(Oj,{content:e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0].payload;return(0,Ae.jsxs)("div",{style:{backgroundColor:u.card,border:`1px solid ${u.border}`,padding:"12px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,Ae.jsxs)("p",{style:{margin:0,fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:u.primary},children:[e.icon," ",e.stat]}),(0,Ae.jsxs)("p",{style:{margin:"4px 0",color:u.text},children:["Lifetime Points: ",(0,Ae.jsx)("span",{style:{fontWeight:"bold"},children:e.points})]}),(0,Ae.jsxs)("p",{style:{margin:"4px 0",color:u.text},children:["Level: ",(0,Ae.jsx)("span",{style:{fontWeight:"bold"},children:e.level})]})]})}return null}}),(0,Ae.jsx)(KF,{name:"Stats",dataKey:"points",stroke:u.primary,strokeWidth:2.5,fill:u.primary,fillOpacity:.7,animationBegin:0,animationDuration:1e3,animationEasing:"ease-out"}),(0,Ae.jsx)(VS,{formatter:()=>"Lifetime Points Distribution",wrapperStyle:{color:u.text,fontWeight:"bold"},iconSize:14,iconType:"square"})]})})}),(0,Ae.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-md mt-lg",children:n.map((e=>{const n=t[e.id];return(0,Ae.jsxs)("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",borderBottom:`3px solid ${u.primary}`},className:"animate-fade-in",children:[(0,Ae.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:e.icon}),(0,Ae.jsx)("div",{style:{fontWeight:"bold"},children:e.name}),(0,Ae.jsxs)("div",{className:"text-sm",children:["Level ",n.level]}),(0,Ae.jsxs)("div",{className:"text-xs mt-sm",style:{color:u.primary},children:["Current: ",n.points," points"]}),(0,Ae.jsxs)("div",{className:"text-xs",style:{color:u.accent},children:["Lifetime: ",n.lifetimePoints||0," points"]})]},e.id)}))})]})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Recent Activity"}),(0,Ae.jsx)("div",{children:(0,Ae.jsxs)("select",{value:h,onChange:e=>f(e.target.value),style:{backgroundColor:"rgba(0, 0, 0, 0.2)",color:u.text,border:`1px solid ${u.border}`,borderRadius:"var(--border-radius-md)",padding:"6px 12px"},children:[(0,Ae.jsx)("option",{value:"all",children:"All Stats"}),n.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))]})})]}),C.length>0?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:"Task"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},className:"hidden md:table-cell",children:"Type"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:"Stat"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:"Points"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:"Completed"})]})}),(0,Ae.jsx)("tbody",{children:C.map((e=>{const t=n.find((t=>t.id===e.statId));return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:e.name}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},className:"hidden md:table-cell",children:e.type}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${u.border}`},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,Ae.jsx)("span",{children:t.icon}),(0,Ae.jsx)("span",{className:"hidden sm:inline",children:t.name})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${u.border}`},children:(0,Ae.jsxs)("div",{children:["+",e.points,e.bonusPoints>0&&(0,Ae.jsxs)("span",{style:{color:u.accent,fontSize:"0.75rem",marginLeft:"4px"},children:["(+",e.bonusPoints,")"]})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${u.border}`},children:Mt(new Date(e.completedAt),"MMM d, yyyy")})]},e.id)}))})]})}):(0,Ae.jsx)("div",{className:"card text-center",children:(0,Ae.jsx)("p",{children:"No tasks found with the selected filter."})})]})]})},O$=()=>{const{theme:e}=De(),{dispatch:t}=bb(),{currentUser:n,login:i,signup:a}=ab(),o=J(),[s,l]=(0,r.useState)("login"),[c,u]=(0,r.useState)({email:"",password:""}),[d,h]=(0,r.useState)({name:"",email:"",password:"",confirmPassword:""}),[f,p]=(0,r.useState)(""),[m,g]=(0,r.useState)(""),[y,v]=(0,r.useState)(!1),[b,x]=(0,r.useState)(!1);(0,r.useEffect)((()=>{n&&o("/")}),[n,o]);const w=e=>{const{name:t,value:n}=e.target;u((e=>({...e,[t]:n})))},j=e=>{const{name:t,value:n}=e.target;h((e=>({...e,[t]:n})))};return(0,Ae.jsx)("div",{style:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:e.background,padding:"var(--spacing-lg)"},children:(0,Ae.jsxs)("div",{style:{width:"100%",maxWidth:"450px",backgroundColor:e.card,borderRadius:"var(--border-radius-lg)",boxShadow:"var(--shadow-xl)",overflow:"hidden"},children:[(0,Ae.jsxs)("div",{style:{display:"flex",borderBottom:`1px solid ${e.border}`},children:[(0,Ae.jsx)("button",{onClick:()=>l("login"),style:{flex:1,padding:"var(--spacing-md)",backgroundColor:"login"===s?"rgba(255, 255, 255, 0.05)":"transparent",borderBottom:"login"===s?`2px solid ${e.primary}`:"none",color:"login"===s?e.primary:e.text,fontWeight:"login"===s?"bold":"normal",border:"none",cursor:"pointer",transition:"all 0.2s ease"},children:"Login"}),(0,Ae.jsx)("button",{onClick:()=>l("register"),style:{flex:1,padding:"var(--spacing-md)",backgroundColor:"register"===s?"rgba(255, 255, 255, 0.05)":"transparent",borderBottom:"register"===s?`2px solid ${e.primary}`:"none",color:"register"===s?e.primary:e.text,fontWeight:"register"===s?"bold":"normal",border:"none",cursor:"pointer",transition:"all 0.2s ease"},children:"Register"})]}),"login"===s&&(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-xl)"},children:[(0,Ae.jsx)("h2",{style:{textAlign:"center",marginBottom:"var(--spacing-lg)"},children:"Welcome Back"}),f&&(0,Ae.jsx)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:e.danger,padding:"var(--spacing-md)",borderRadius:"var(--border-radius-md)",marginBottom:"var(--spacing-md)",textAlign:"center"},children:f}),(0,Ae.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),p(""),v(!0);try{await i(c.email,c.password)}catch(t){console.error("Login error:",t),p(t.message||"Failed to login. Please try again."),v(!1)}},children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",htmlFor:"login-email",children:"Email"}),(0,Ae.jsx)("input",{id:"login-email",type:"email",name:"email",value:c.email,onChange:w,className:"form-input",placeholder:"your.email@example.com",required:!0})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,Ae.jsx)("label",{className:"form-label",htmlFor:"login-password",children:"Password"}),(0,Ae.jsx)("a",{href:"#forgot-password",style:{fontSize:"0.875rem",color:e.primary},onClick:e=>{e.preventDefault(),alert("Password reset will be implemented with Firebase")},children:"Forgot password?"})]}),(0,Ae.jsx)("input",{id:"login-password",type:"password",name:"password",value:c.password,onChange:w,className:"form-input",placeholder:"Your password",required:!0})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginTop:"var(--spacing-lg)",position:"relative",height:"44px"},disabled:y,children:y?(0,Ae.jsx)("span",{children:"Logging in..."}):(0,Ae.jsx)("span",{children:"Login"})})]}),(0,Ae.jsxs)("p",{style:{textAlign:"center",marginTop:"var(--spacing-lg)",fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.7)"},children:["Don't have an account?"," ",(0,Ae.jsx)("button",{onClick:()=>l("register"),style:{background:"none",border:"none",padding:0,color:e.primary,cursor:"pointer",fontWeight:"bold"},children:"Register"})]})]}),"register"===s&&(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-xl)"},children:[(0,Ae.jsx)("h2",{style:{textAlign:"center",marginBottom:"var(--spacing-lg)"},children:"Create Account"}),m&&(0,Ae.jsx)("div",{style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:e.danger,padding:"var(--spacing-md)",borderRadius:"var(--border-radius-md)",marginBottom:"var(--spacing-md)",textAlign:"center"},children:m}),(0,Ae.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),g(""),d.password===d.confirmPassword){x(!0);try{await a(d.email,d.password,d.name)}catch(t){console.error("Registration error:",t),g(t.message||"Failed to create account. Please try again."),x(!1)}}else g("Passwords do not match")},children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",htmlFor:"register-name",children:"Display Name"}),(0,Ae.jsx)("input",{id:"register-name",type:"text",name:"name",value:d.name,onChange:j,className:"form-input",placeholder:"How others will see you",required:!0})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",htmlFor:"register-email",children:"Email"}),(0,Ae.jsx)("input",{id:"register-email",type:"email",name:"email",value:d.email,onChange:j,className:"form-input",placeholder:"your.email@example.com",required:!0})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",htmlFor:"register-password",children:"Password"}),(0,Ae.jsx)("input",{id:"register-password",type:"password",name:"password",value:d.password,onChange:j,className:"form-input",placeholder:"Create a strong password",required:!0})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",htmlFor:"register-confirm-password",children:"Confirm Password"}),(0,Ae.jsx)("input",{id:"register-confirm-password",type:"password",name:"confirmPassword",value:d.confirmPassword,onChange:j,className:"form-input",placeholder:"Re-enter your password",required:!0})]}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",style:{width:"100%",marginTop:"var(--spacing-lg)",position:"relative",height:"44px"},disabled:b,children:b?(0,Ae.jsx)("span",{children:"Creating account..."}):(0,Ae.jsx)("span",{children:"Create Account"})})]}),(0,Ae.jsxs)("p",{style:{textAlign:"center",marginTop:"var(--spacing-lg)",fontSize:"0.875rem",color:"rgba(255, 255, 255, 0.7)"},children:["Already have an account?"," ",(0,Ae.jsx)("button",{onClick:()=>l("login"),style:{background:"none",border:"none",padding:0,color:e.primary,cursor:"pointer",fontWeight:"bold"},children:"Login"})]})]}),(0,Ae.jsxs)("div",{style:{borderTop:`1px solid ${e.border}`,padding:"var(--spacing-md)",textAlign:"center",backgroundColor:"rgba(0, 0, 0, 0.1)"},children:[(0,Ae.jsx)("h3",{style:{margin:0,fontSize:"1.25rem"},children:"Solo Leveling IRL"}),(0,Ae.jsx)("p",{style:{margin:"8px 0 0 0",fontSize:"0.875rem",opacity:.7},children:"Track your progress, level up in real life"})]})]})})},_$=()=>{const{theme:e}=De(),{currentUser:t}=ab(),{searchUsers:n,sendFriendRequest:i,sentRequests:a}=ix(),[o,s]=(0,r.useState)(""),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)(!1),[h,f]=(0,r.useState)(""),[p,m]=(0,r.useState)({});return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsx)("h2",{className:"text-2xl mb-md",children:"Find Friends"}),(0,Ae.jsx)("div",{className:"card mb-lg",children:(0,Ae.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),o.trim().length<3)f("Please enter at least 3 characters to search");else{f(""),d(!0);try{const e=await n(o);c(e)}catch(t){console.error("Error searching for users:",t),f("Failed to search for users. Please try again later.")}finally{d(!1)}}},children:(0,Ae.jsxs)("div",{className:"mb-md",children:[(0,Ae.jsx)("label",{htmlFor:"search",className:"block mb-sm",children:"Search for other users by name or email"}),(0,Ae.jsxs)("div",{className:"flex",children:[(0,Ae.jsx)("input",{type:"text",id:"search",value:o,onChange:e=>{s(e.target.value)},placeholder:"Enter name or email",className:"form-input flex-grow mr-sm",style:{backgroundColor:"rgba(0, 0, 0, 0.2)",color:e.text,border:`1px solid ${e.border}`,borderRadius:"var(--border-radius-md)",padding:"8px 12px"}}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:u,children:u?"Searching...":"Search"})]}),h&&(0,Ae.jsx)("p",{className:"text-sm mt-sm",style:{color:e.danger},children:h})]})})}),l.length>0?(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Search Results"}),(0,Ae.jsx)("div",{className:"space-y-md",children:l.map((e=>(0,Ae.jsxs)("div",{className:"flex items-center justify-between p-md",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)(rz,{size:"medium",src:e.profilePicture}),(0,Ae.jsxs)("div",{className:"ml-md",children:[(0,Ae.jsx)("h4",{className:"font-semibold",children:e.displayName}),(0,Ae.jsxs)("p",{className:"text-sm opacity-70",children:["Level ",e.level," ",e.rank]})]})]}),(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>(async e=>{try{await i(e)&&m((t=>({...t,[e]:!0})))}catch(t){console.error("Error sending friend request:",t),f("Failed to send friend request. Please try again.")}})(e.id),disabled:p[e.id]||a.some((t=>t.id===e.id)),children:p[e.id]||a.some((t=>t.id===e.id))?"Request Sent":"Add Friend"})]},e.id)))})]}):o&&!u?(0,Ae.jsx)("div",{className:"card text-center p-lg",children:(0,Ae.jsxs)("p",{children:['No users found matching "',o,'"']})}):null]})},N$=()=>{const{theme:e}=De(),{currentUser:t}=ab(),{pendingRequests:n,sentRequests:i,acceptFriendRequest:a,rejectFriendRequest:o}=ix(),[s,l]=(0,r.useState)(!0),[c,u]=(0,r.useState)([]),[d,h]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{if(0!==n.length||0!==i.length)try{const e=n.map((async e=>{try{const t=py(rb,"gameStates",e.userId),n=await yv(t);if(n.exists()){const t=n.data();return{id:e.userId,timestamp:e.timestamp,displayName:t.playerName||"Unknown User",profilePicture:t.profilePicture,level:t.stats?Math.floor(Object.values(t.stats).reduce(((e,t)=>e+t.level),0)/6):1,rank:"Player"}}return null}catch(t){return console.error(`Error loading request user ${e.userId}:`,t),null}})),t=i.map((async e=>{try{const t=py(rb,"gameStates",e.userId),n=await yv(t);if(n.exists()){const t=n.data();return{id:e.userId,timestamp:e.timestamp,displayName:t.playerName||"Unknown User",profilePicture:t.profilePicture,level:t.stats?Math.floor(Object.values(t.stats).reduce(((e,t)=>e+t.level),0)/6):1,rank:"Player"}}return null}catch(t){return console.error(`Error loading request user ${e.userId}:`,t),null}})),r=await Promise.all(e),a=await Promise.all(t);u(r.filter(Boolean)),h(a.filter(Boolean)),l(!1)}catch(e){console.error("Error loading request user data:",e),l(!1)}else l(!1)})()}),[n,i]);return s?(0,Ae.jsx)("div",{className:"card p-lg flex justify-center items-center",children:(0,Ae.jsx)("div",{children:"Loading requests..."})}):(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Incoming Friend Requests"}),c.length>0?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"space-y-md",children:c.map((e=>(0,Ae.jsxs)("div",{className:"flex items-center justify-between p-md",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)(rz,{size:"medium",src:e.profilePicture}),(0,Ae.jsxs)("div",{className:"ml-md",children:[(0,Ae.jsx)("h4",{className:"font-semibold",children:e.displayName}),(0,Ae.jsxs)("p",{className:"text-sm opacity-70",children:["Level ",e.level," ",e.rank]})]})]}),(0,Ae.jsxs)("div",{className:"flex gap-sm",children:[(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:()=>(async e=>{await a(e)})(e.id),children:"Accept"}),(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>(async e=>{await o(e)})(e.id),children:"Decline"})]})]},`incoming-${e.id}`)))})}):(0,Ae.jsx)("div",{className:"card p-lg text-center",children:(0,Ae.jsx)("p",{children:"No incoming friend requests"})})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Sent Friend Requests"}),d.length>0?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"space-y-md",children:d.map((e=>(0,Ae.jsxs)("div",{className:"flex items-center justify-between p-md",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)(rz,{size:"medium",src:e.profilePicture}),(0,Ae.jsxs)("div",{className:"ml-md",children:[(0,Ae.jsx)("h4",{className:"font-semibold",children:e.displayName}),(0,Ae.jsxs)("p",{className:"text-sm opacity-70",children:["Level ",e.level," ",e.rank]})]})]}),(0,Ae.jsx)("div",{children:(0,Ae.jsx)("span",{className:"text-sm opacity-70",children:"Pending"})})]},`outgoing-${e.id}`)))})}):(0,Ae.jsx)("div",{className:"card p-lg text-center",children:(0,Ae.jsx)("p",{children:"No outgoing friend requests"})})]})]})},A$=()=>{const{theme:e}=De(),{currentUser:t}=ab(),{friends:n,removeFriend:i}=ix(),a=J(),[o,s]=(0,r.useState)(!0),[l,c]=(0,r.useState)([]),[u,d]=(0,r.useState)("all");(0,r.useEffect)((()=>{(async()=>{if(n&&0!==n.length)try{const e=n.map((async e=>{try{const t=py(rb,"gameStates",e.userId),n=await yv(t);if(n.exists()){const t=n.data();let r={id:null,level:0};return t.stats&&Object.entries(t.stats).forEach((e=>{let[t,n]=e;n.level>r.level&&(r={id:t,level:n.level})})),{id:e.userId,friendSince:e.friendSince,displayName:t.playerName||"Unknown User",profilePicture:t.profilePicture,level:t.stats?Math.floor(Object.values(t.stats).reduce(((e,t)=>e+t.level),0)/6):1,rank:h(t),topStat:r.id}}return null}catch(t){return console.error(`Error loading friend data ${e.userId}:`,t),null}})),t=await Promise.all(e);c(t.filter(Boolean)),s(!1)}catch(e){console.error("Error loading friends data:",e),s(!1)}else s(!1)})()}),[n]);const h=e=>{if(!e.stats)return"Beginner";const t=Object.values(e.stats).reduce(((e,t)=>e+t.level),0),n=Math.floor(t/6),r=[{name:"Beginner",range:[0,9]},{name:"Novice",range:[10,19]},{name:"Apprentice",range:[20,29]},{name:"Adept",range:[30,39]},{name:"Expert",range:[40,49]},{name:"Master",range:[50,59]},{name:"Grandmaster",range:[60,69]},{name:"Legend",range:[70,79]},{name:"Mythic",range:[80,89]},{name:"Sovereign",range:[90,99]},{name:"Transcendent",range:[100,1/0]}];for(const i of r)if(n>=i.range[0]&&n<=i.range[1])return i.name;return r[0].name},f=[{id:"all",name:"All Stats"},{id:"discipline",name:"Discipline",icon:"\ud83d\udccb"},{id:"linguist",name:"Linguist",icon:"\ud83d\udde3\ufe0f"},{id:"stamina",name:"Stamina",icon:"\ud83c\udfc3"},{id:"strength",name:"Strength",icon:"\ud83d\udcaa"},{id:"intelligence",name:"Intelligence",icon:"\ud83e\udde0"},{id:"concentration",name:"Concentration",icon:"\ud83e\uddd8"}],p="all"===u?l:l.filter((e=>e.topStat===u));return o?(0,Ae.jsx)("div",{className:"card p-lg flex justify-center items-center",children:(0,Ae.jsx)("div",{children:"Loading friends..."})}):(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h3",{className:"text-xl",children:"Your Friends"}),(0,Ae.jsx)("select",{value:u,onChange:e=>d(e.target.value),style:{backgroundColor:"rgba(0, 0, 0, 0.2)",color:e.text,border:`1px solid ${e.border}`,borderRadius:"var(--border-radius-md)",padding:"6px 12px"},children:f.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon?e.icon+" ":"",e.name]},e.id)))})]}),l.length>0?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsx)("div",{className:"space-y-md",children:p.map((e=>{var t;return(0,Ae.jsxs)("div",{className:"flex items-center justify-between p-md",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsxs)("div",{className:"flex items-center cursor-pointer",onClick:()=>a(`/social/friend/${e.id}`),children:[(0,Ae.jsx)(rz,{size:"medium",src:e.profilePicture}),(0,Ae.jsxs)("div",{className:"ml-md",children:[(0,Ae.jsx)("h4",{className:"font-semibold",children:e.displayName}),(0,Ae.jsxs)("p",{className:"text-sm opacity-70",children:["Level ",e.level," ",e.rank]})]})]}),(0,Ae.jsxs)("div",{className:"flex items-center gap-md",children:[(0,Ae.jsxs)("div",{style:{textAlign:"right"},children:[e.topStat&&(0,Ae.jsxs)("div",{className:"text-sm",children:["Top Stat: ",(0,Ae.jsx)("span",{style:{fontWeight:"bold"},children:(null===(t=f.find((t=>t.id===e.topStat)))||void 0===t?void 0:t.name)||"Unknown"})]}),(0,Ae.jsxs)("div",{className:"text-xs",style:{opacity:.7},children:["Friends since ",new Date(e.friendSince).toLocaleDateString()]})]}),(0,Ae.jsx)("button",{className:"btn btn-outline",style:{padding:"4px 8px",opacity:.8},onClick:()=>(async e=>{window.confirm("Are you sure you want to remove this friend?")&&await i(e)})(e.id),children:"Remove"})]})]},`friend-${e.id}`)}))})}):(0,Ae.jsxs)("div",{className:"card p-lg text-center",children:[(0,Ae.jsx)("p",{children:"You don't have any friends yet."}),(0,Ae.jsx)("p",{className:"mt-sm text-sm opacity-70",children:'Use the "Find Friends" tab to search for other players and send friend requests.'})]})]})},I$=()=>{var e,t;const{theme:n}=De(),{currentUser:i}=ab(),{playerName:a,getOverallLevel:o,getOverallRank:s}=bb(),{friends:l}=ix(),[c,u]=(0,r.useState)(!0),[d,h]=(0,r.useState)(null),[f,p]=(0,r.useState)([]),[m,g]=(0,r.useState)(null),[y,v]=(0,r.useState)("weekly"),b=Bb(new Date,{weekStartsOn:1}),x=zb(new Date,{weekStartsOn:1}),w=`${Mt(b,"MMM d")} - ${Mt(x,"MMM d")}`;(0,r.useEffect)((()=>{(async()=>{if(i){u(!0),h(null);try{const e=l.map((e=>e.userId)),t=[i.uid,...e],n=[];for(const o of t){const e=py(rb,"gameStates",o),t=await yv(e);if(t.exists()){const e=t.data();let r=0;if(e.completedTasks){r=e.completedTasks.filter((e=>{const t=new Date(e.completedAt);return t>=b&&t<=x})).reduce(((e,t)=>e+(t.points||0)),0)}const a=Object.values(e.stats||{}).reduce(((e,t)=>e+t.level),0),s=Math.floor(a/6),l=j(s);n.push({userId:o,playerName:e.playerName||"Unknown Player",profilePicture:e.profilePicture||null,weeklyPoints:r,overallLevel:s,rank:l,isCurrentUser:o===i.uid})}}const r=n.sort(((e,t)=>t.weeklyPoints-e.weeklyPoints)).map(((e,t)=>({...e,position:t+1})));p(r);const a=r.find((e=>e.userId===i.uid));g((null===a||void 0===a?void 0:a.position)||null),u(!1)}catch(d){console.error("Error fetching leaderboard data:",d),h("Failed to load leaderboard data"),u(!1)}}})()}),[i,l,y]);const j=e=>{const t=[{name:"Beginner",range:[0,9]},{name:"Novice",range:[10,19]},{name:"Apprentice",range:[20,29]},{name:"Adept",range:[30,39]},{name:"Expert",range:[40,49]},{name:"Master",range:[50,59]},{name:"Grandmaster",range:[60,69]},{name:"Legend",range:[70,79]},{name:"Mythic",range:[80,89]},{name:"Sovereign",range:[90,99]},{name:"Transcendent",range:[100,1/0]}];for(const n of t)if(e>=n.range[0]&&e<=n.range[1])return n.name;return t[0].name};return c?(0,Ae.jsxs)("div",{className:"animate-fade-in text-center p-lg",children:[(0,Ae.jsx)("div",{className:"spinner"}),(0,Ae.jsx)("p",{className:"mt-md",children:"Loading leaderboard..."})]}):d?(0,Ae.jsxs)("div",{className:"card p-lg text-center",children:[(0,Ae.jsxs)("p",{className:"text-lg mb-md",children:["Error: ",d]}),(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:()=>window.location.reload(),children:"Refresh"})]}):(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Weekly Leaderboard"}),(0,Ae.jsx)("div",{className:"text-sm opacity-70",children:w})]}),(0,Ae.jsx)("div",{className:"card mb-lg",children:(0,Ae.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,Ae.jsxs)("div",{className:"flex items-center mb-md md:mb-0",children:[(0,Ae.jsx)(rz,{size:"medium",src:null===(e=f.find((e=>e.isCurrentUser)))||void 0===e?void 0:e.profilePicture}),(0,Ae.jsxs)("div",{className:"ml-md",children:[(0,Ae.jsx)("div",{className:"font-bold",children:"Your Ranking"}),(0,Ae.jsx)("div",{className:"text-sm opacity-70",children:"Based on points earned this week"})]})]}),(0,Ae.jsxs)("div",{className:"flex items-center gap-lg",children:[(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"text-sm opacity-70",children:"Position"}),(0,Ae.jsx)("div",{className:"text-2xl font-bold",style:{color:n.primary},children:null!==m?`#${m}`:"N/A"})]}),(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"text-sm opacity-70",children:"Weekly Points"}),(0,Ae.jsx)("div",{className:"text-2xl font-bold",children:(null===(t=f.find((e=>e.isCurrentUser)))||void 0===t?void 0:t.weeklyPoints)||0})]})]})]})}),(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Friends Ranking"}),f.length>0?(0,Ae.jsx)("div",{className:"overflow-x-auto",children:(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"center",padding:"var(--spacing-sm)",borderBottom:`1px solid ${n.border}`,width:"60px"},children:"Rank"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${n.border}`},children:"Player"}),(0,Ae.jsx)("th",{style:{textAlign:"center",padding:"var(--spacing-sm)",borderBottom:`1px solid ${n.border}`},children:"Level"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${n.border}`},children:"Points"})]})}),(0,Ae.jsx)("tbody",{children:f.map((e=>(0,Ae.jsxs)("tr",{style:{backgroundColor:e.isCurrentUser?"rgba(99, 102, 241, 0.1)":"transparent"},children:[(0,Ae.jsx)("td",{style:{textAlign:"center",padding:"var(--spacing-sm)",borderBottom:`1px solid ${n.border}`,fontWeight:"bold"},children:e.position<=3?(0,Ae.jsx)("span",{style:{fontSize:"1.25rem"},children:1===e.position?"\ud83e\udd47":2===e.position?"\ud83e\udd48":"\ud83e\udd49"}):`#${e.position}`}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${n.border}`},children:(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)(rz,{size:"small",src:e.profilePicture}),(0,Ae.jsxs)("div",{className:"ml-sm",children:[(0,Ae.jsx)("div",{className:"font-bold",children:e.playerName}),(0,Ae.jsxs)("div",{className:"text-xs opacity-70",children:["Level ",e.overallLevel," ",e.rank]})]})]})}),(0,Ae.jsx)("td",{style:{textAlign:"center",padding:"var(--spacing-sm)",borderBottom:`1px solid ${n.border}`},children:e.overallLevel}),(0,Ae.jsx)("td",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${n.border}`,fontWeight:"bold",color:1===e.position?n.primary:n.text},children:e.weeklyPoints})]},e.userId)))})]})}):(0,Ae.jsxs)("div",{className:"text-center p-lg",children:[(0,Ae.jsx)("p",{children:"No leaderboard data available yet."}),(0,Ae.jsx)("p",{className:"mt-sm text-sm opacity-70",children:"Complete tasks to earn points and appear on the leaderboard!"})]}),(0,Ae.jsx)("div",{className:"mt-lg text-sm opacity-70",children:(0,Ae.jsxs)("p",{children:[(0,Ae.jsx)("strong",{children:"Note:"})," Points are calculated from all tasks completed during the current week."]})})]})]})},P$=()=>{const{theme:e}=De(),{pendingChallenges:t}=hx(),n=J(),[i,a]=(0,r.useState)("search");return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Social"}),(0,Ae.jsxs)("button",{className:"btn btn-primary",onClick:()=>n("/social/challenges"),children:["Challenges",t.length>0&&(0,Ae.jsx)("span",{className:"ml-xs",style:{display:"inline-flex",alignItems:"center",justifyContent:"center",width:"24px",height:"24px",borderRadius:"12px",backgroundColor:"rgba(255, 255, 255, 0.2)",fontSize:"12px",fontWeight:"bold"},children:t.length})]})]}),(0,Ae.jsx)("div",{className:"flex overflow-x-auto mb-lg",style:{borderBottom:`1px solid ${e.border}`},children:[{id:"search",label:"Find Friends",icon:"\ud83d\udd0d"},{id:"requests",label:"Friend Requests",icon:"\u2709\ufe0f"},{id:"friends",label:"Friends",icon:"\ud83d\udc65"},{id:"leaderboard",label:"Leaderboard",icon:"\ud83c\udfc6"}].map((t=>(0,Ae.jsxs)("button",{className:"px-md py-sm whitespace-nowrap "+(i===t.id?"font-bold":""),style:{color:i===t.id?e.primary:e.text,borderBottom:i===t.id?`2px solid ${e.primary}`:"none",backgroundColor:"transparent",margin:"0 4px",marginBottom:"-1px"},onClick:()=>a(t.id),children:[(0,Ae.jsx)("span",{className:"mr-xs",children:t.icon}),t.label]},t.id)))}),"search"===i&&(0,Ae.jsx)(_$,{}),"requests"===i&&(0,Ae.jsx)(N$,{}),"friends"===i&&(0,Ae.jsx)(A$,{}),"leaderboard"===i&&(0,Ae.jsx)(I$,{})]})},D$=()=>{var e,t,n;const{friendId:i}=function(){let{matches:e}=r.useContext(G),t=e[e.length-1];return t?t.params:{}}(),a=J(),{theme:o}=De(),{currentUser:s}=ab(),{STATS:l,stats:c,getOverallLevel:u,getOverallRank:d,playerName:h}=bb(),[f,p]=(0,r.useState)(!0),[m,g]=(0,r.useState)(null),[y,v]=(0,r.useState)(null),[b,x]=(0,r.useState)(!1),[w,j]=(0,r.useState)([]);(0,r.useEffect)((()=>{(async()=>{if(!i)return g("Friend ID is missing"),void p(!1);try{p(!0);const e=py(rb,"gameStates",i),t=await yv(e);if(!t.exists())return g("Friend data not found"),void p(!1);const n=t.data();if(n.completedTasks&&n.completedTasks.length>0){const e=[...n.completedTasks].sort(((e,t)=>new Date(t.completedAt)-new Date(e.completedAt))).slice(0,5);j(e)}v(n),p(!1)}catch(m){console.error("Error fetching friend data:",m),g("Failed to load friend data"),p(!1)}})()}),[i]);const S=()=>y&&y.stats?l.map((e=>{const t=y.stats[e.id],n=c[e.id];return{stat:e.name,friendPoints:t&&t.lifetimePoints||0,userPoints:b&&n&&n.lifetimePoints||0,friendLevel:t?t.level:1,userLevel:n?n.level:1,fullMark:1.1*Math.max(...Object.values(y.stats).map((e=>e.lifetimePoints||0)),...b?Object.values(c).map((e=>e.lifetimePoints||0)):[0]),icon:e.icon,id:e.id}})):[];if(f)return(0,Ae.jsxs)("div",{className:"animate-fade-in text-center p-lg",children:[(0,Ae.jsx)("div",{className:"spinner"}),(0,Ae.jsx)("p",{className:"mt-md",children:"Loading friend's profile..."})]});if(m)return(0,Ae.jsx)("div",{className:"animate-fade-in",children:(0,Ae.jsxs)("div",{className:"card p-lg text-center",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Error"}),(0,Ae.jsx)("p",{children:m}),(0,Ae.jsx)("button",{className:"btn btn-primary mt-lg",onClick:()=>a("/social"),children:"Back to Social"})]})});if(!y)return(0,Ae.jsx)("div",{className:"animate-fade-in",children:(0,Ae.jsxs)("div",{className:"card p-lg text-center",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Friend Not Found"}),(0,Ae.jsx)("p",{children:"We couldn't find the friend you're looking for."}),(0,Ae.jsx)("button",{className:"btn btn-primary mt-lg",onClick:()=>a("/social"),children:"Back to Social"})]})});const k=(e=>{if(!e)return 1;const t=Object.values(e).reduce(((e,t)=>e+t.level),0);return Math.floor(t/l.length)})(y.stats),E=(e=>{const t=[{name:"Beginner",range:[0,9]},{name:"Novice",range:[10,19]},{name:"Apprentice",range:[20,29]},{name:"Adept",range:[30,39]},{name:"Expert",range:[40,49]},{name:"Master",range:[50,59]},{name:"Grandmaster",range:[60,69]},{name:"Legend",range:[70,79]},{name:"Mythic",range:[80,89]},{name:"Sovereign",range:[90,99]},{name:"Transcendent",range:[100,1/0]}];for(const n of t)if(e>=n.range[0]&&e<=n.range[1])return n.name;return t[0].name})(k);return(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsx)("div",{className:"mb-md",children:(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>a("/social"),style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:"\u2190 Back to Friends"})}),(0,Ae.jsx)("section",{style:{marginBottom:"var(--spacing-xl)"},children:(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsxs)("div",{style:{textAlign:"center",width:"100%",marginBottom:"var(--spacing-md)"},children:[(0,Ae.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"var(--spacing-md)"},children:(0,Ae.jsx)(rz,{size:"large",src:y.profilePicture})}),(0,Ae.jsx)("h1",{className:"text-3xl font-bold",children:y.playerName}),(0,Ae.jsxs)("p",{className:"text-lg",children:["Level ",k," ",E]})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-md",children:[(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Level"}),(0,Ae.jsx)("div",{className:"text-xl font-bold",children:k})]}),(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Rank"}),(0,Ae.jsx)("div",{className:"text-xl font-bold",children:E})]}),(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Streak"}),(0,Ae.jsxs)("div",{className:"text-xl font-bold",children:["\ud83d\udd25 ",(null===(e=y.streak)||void 0===e?void 0:e.current)||0," day",1!==((null===(t=y.streak)||void 0===t?void 0:t.current)||0)?"s":""]})]}),(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-md)",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",textAlign:"center"},children:[(0,Ae.jsx)("div",{className:"text-sm mb-xs",style:{opacity:.8},children:"Tasks Completed"}),(0,Ae.jsx)("div",{className:"text-xl font-bold",children:(null===(n=y.completedTasks)||void 0===n?void 0:n.length)||0})]})]})]})}),(0,Ae.jsxs)("section",{style:{marginBottom:"var(--spacing-xl)"},children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Stats Visualization"}),(0,Ae.jsxs)("div",{className:"flex items-center",children:[(0,Ae.jsx)("div",{className:"mr-xs",style:{opacity:.8},children:"Show comparison"}),(0,Ae.jsxs)("label",{className:"switch",children:[(0,Ae.jsx)("input",{type:"checkbox",checked:b,onChange:()=>x(!b)}),(0,Ae.jsx)("span",{className:"slider"})]})]})]}),(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("div",{style:{height:"400px"},children:(0,Ae.jsx)(Tw,{width:"100%",height:"100%",children:(0,Ae.jsxs)(CU,{cx:"50%",cy:"50%",outerRadius:"80%",data:S(),margin:{top:20,right:30,left:20,bottom:20},children:[(0,Ae.jsx)(BU,{stroke:o.text,strokeOpacity:.4,strokeDasharray:"3 3",strokeWidth:1.5}),(0,Ae.jsx)(sU,{dataKey:"stat",tick:e=>{const{x:t,y:n,payload:r}=e,i=S().find((e=>e.stat===r.value)),a=i?i.icon:"";return(0,Ae.jsx)("g",{transform:`translate(${t},${n})`,children:(0,Ae.jsxs)("text",{x:0,y:0,dy:5,textAnchor:"middle",fill:o.text,fontSize:"14",fontWeight:"600",children:[a," ",r.value]})})}}),(0,Ae.jsx)(TU,{angle:90,domain:[0,"auto"],axisLine:{stroke:o.text,strokeOpacity:.5},tick:{fill:o.text,fontSize:12,fontWeight:"bold"},tickCount:5,stroke:o.text,strokeOpacity:.7}),(0,Ae.jsx)(Oj,{content:e=>{let{active:t,payload:n}=e;if(t&&n&&n.length){const e=n[0].payload;return(0,Ae.jsxs)("div",{style:{backgroundColor:o.card,border:`1px solid ${o.border}`,padding:"12px",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[(0,Ae.jsxs)("p",{style:{margin:0,fontSize:"16px",fontWeight:"bold",marginBottom:"4px",color:o.primary},children:[e.icon," ",e.stat]}),(0,Ae.jsxs)("p",{style:{margin:"4px 0",color:o.text},children:[y.playerName,": ",(0,Ae.jsxs)("span",{style:{fontWeight:"bold"},children:["Level ",e.friendLevel," (",e.friendPoints," points)"]})]}),b&&(0,Ae.jsxs)("p",{style:{margin:"4px 0",color:"#4CAF50"},children:["You: ",(0,Ae.jsxs)("span",{style:{fontWeight:"bold"},children:["Level ",e.userLevel," (",e.userPoints," points)"]})]})]})}return null}}),(0,Ae.jsx)(KF,{name:y.playerName,dataKey:"friendPoints",stroke:o.primary,strokeWidth:2.5,fill:o.primary,fillOpacity:.7,animationBegin:0,animationDuration:1e3,animationEasing:"ease-out"}),b&&(0,Ae.jsx)(KF,{name:"You",dataKey:"userPoints",stroke:"#4CAF50",strokeWidth:2.5,fill:"#4CAF50",fillOpacity:.5,animationBegin:500,animationDuration:1e3,animationEasing:"ease-out"}),(0,Ae.jsx)(VS,{formatter:e=>e===y.playerName?y.playerName:"You"===e?"You":e,iconSize:14,iconType:"square"})]})})}),(0,Ae.jsx)("div",{className:"grid grid-cols-3 md:grid-cols-6 gap-md mt-lg",children:l.map((e=>{const t=y.stats[e.id]||{level:1,lifetimePoints:0};return(0,Ae.jsxs)("div",{style:{textAlign:"center",padding:"12px",backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",borderBottom:`3px solid ${o.primary}`},className:"animate-fade-in",children:[(0,Ae.jsx)("div",{style:{fontSize:"24px",marginBottom:"8px"},children:e.icon}),(0,Ae.jsx)("div",{style:{fontWeight:"bold"},children:e.name}),(0,Ae.jsxs)("div",{className:"text-sm",children:["Level ",t.level]}),(0,Ae.jsxs)("div",{className:"text-xs mt-sm",style:{color:o.primary},children:["Lifetime: ",t.lifetimePoints||0," points"]})]},e.id)}))})]})]}),(0,Ae.jsxs)("section",{children:[(0,Ae.jsx)("h2",{className:"text-2xl mb-md",children:"Recent Activity"}),w.length>0?(0,Ae.jsx)("div",{className:"card",children:(0,Ae.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,Ae.jsx)("thead",{children:(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:"Task"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},className:"hidden md:table-cell",children:"Type"}),(0,Ae.jsx)("th",{style:{textAlign:"left",padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:"Stat"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:"Points"}),(0,Ae.jsx)("th",{style:{textAlign:"right",padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:"Completed"})]})}),(0,Ae.jsx)("tbody",{children:w.map((e=>{const t=l.find((t=>t.id===e.statId))||{name:"Unknown",icon:"\u2753"};return(0,Ae.jsxs)("tr",{children:[(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:e.name}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},className:"hidden md:table-cell",children:e.type}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",borderBottom:`1px solid ${o.border}`},children:(0,Ae.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"var(--spacing-xs)"},children:[(0,Ae.jsx)("span",{children:t.icon}),(0,Ae.jsx)("span",{className:"hidden sm:inline",children:t.name})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${o.border}`},children:(0,Ae.jsxs)("div",{children:["+",e.points,e.bonusPoints>0&&(0,Ae.jsxs)("span",{style:{color:o.accent,fontSize:"0.75rem",marginLeft:"4px"},children:["(+",e.bonusPoints,")"]})]})}),(0,Ae.jsx)("td",{style:{padding:"var(--spacing-sm)",textAlign:"right",borderBottom:`1px solid ${o.border}`},children:Mt(new Date(e.completedAt),"MMM d, yyyy")})]},e.id)}))})]})}):(0,Ae.jsx)("div",{className:"card p-lg text-center",children:(0,Ae.jsxs)("p",{children:[y.playerName," hasn't completed any tasks yet."]})})]})]})},M$=e=>{let{challenges:t}=e;const{theme:n}=De(),{currentUser:r}=ab();return 0===t.length?(0,Ae.jsxs)("div",{className:"card p-lg text-center",children:[(0,Ae.jsx)("p",{children:"You don't have any active challenges."}),(0,Ae.jsx)("p",{className:"mt-sm text-sm opacity-70",children:"Create a new challenge or accept a pending challenge to get started!"})]}):(0,Ae.jsx)("div",{className:"space-y-lg",children:t.map((e=>{var t;const i=e.creatorId===r.uid,a=i?e.recipientName:e.creatorName,o=i?e.recipientId:e.creatorId,s=Object.values(cx).find((t=>t.id===e.type))||{name:"Challenge",description:"Challenge description",icon:"\ud83c\udfc6"},l=null!==(t=e.startedAt)&&void 0!==t&&t.toDate?Mt(e.startedAt.toDate(),"MMM d, yyyy"):"Just now",c=e.progress[r.uid],u=e.progress[o];let d,h=!1,f=!1;if("streak_competition"===e.type){const e=c.streak||0,t=u.streak||0;h=e>t,f=t>e,d=(0,Ae.jsxs)("div",{className:"grid grid-cols-2 gap-md mt-md",children:[(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"text-sm",style:{opacity:.7},children:"Your Streak"}),(0,Ae.jsxs)("div",{className:"text-2xl font-bold",style:{color:h?n.primary:n.text},children:["\ud83d\udd25 ",e]})]}),(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsxs)("div",{className:"text-sm",style:{opacity:.7},children:[a,"'s Streak"]}),(0,Ae.jsxs)("div",{className:"text-2xl font-bold",style:{color:f?n.primary:n.text},children:["\ud83d\udd25 ",t]})]})]})}else if("level_race"===e.type){var p,m,g,y;const{statId:t,targetLevel:r}=e.parameters,i=(null===(p=c.currentStats)||void 0===p?void 0:p[t])||(null===(m=c.startStats)||void 0===m?void 0:m[t])||0,o=(null===(g=u.currentStats)||void 0===g?void 0:g[t])||(null===(y=u.startStats)||void 0===y?void 0:y[t])||0;h=i>o,f=o>i;const s=i/r*100,l=o/r*100;d=(0,Ae.jsxs)("div",{className:"mt-md",children:[(0,Ae.jsxs)("div",{className:"mb-xs",children:[(0,Ae.jsxs)("div",{className:"flex justify-between mb-xxs",children:[(0,Ae.jsx)("span",{className:"text-sm",children:"You"}),(0,Ae.jsxs)("span",{className:"text-sm",style:{color:h?n.primary:n.text},children:["Level ",i," / ",r]})]}),(0,Ae.jsx)("div",{className:"progress-bar",children:(0,Ae.jsx)("div",{className:"progress-bar-fill",style:{width:`${Math.min(s,100)}%`,backgroundColor:h?n.primary:n.secondary}})})]}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex justify-between mb-xxs",children:[(0,Ae.jsx)("span",{className:"text-sm",children:a}),(0,Ae.jsxs)("span",{className:"text-sm",style:{color:f?n.primary:n.text},children:["Level ",o," / ",r]})]}),(0,Ae.jsx)("div",{className:"progress-bar",children:(0,Ae.jsx)("div",{className:"progress-bar-fill",style:{width:`${Math.min(l,100)}%`,backgroundColor:f?n.primary:n.accent}})})]})]})}else if("weekly_leaderboard"===e.type){var v;const t=c.points||0,r=u.points||0;h=t>r,f=r>t;const i=null!==(v=e.endDate)&&void 0!==v&&v.toDate?Mt(e.endDate.toDate(),"MMM d, yyyy"):"Unknown";d=(0,Ae.jsxs)("div",{className:"space-y-md mt-md",children:[(0,Ae.jsxs)("div",{className:"text-sm text-center",children:["Challenge ends: ",(0,Ae.jsx)("span",{className:"font-bold",children:i})]}),(0,Ae.jsxs)("div",{className:"grid grid-cols-2 gap-md",children:[(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsx)("div",{className:"text-sm",style:{opacity:.7},children:"Your Points"}),(0,Ae.jsx)("div",{className:"text-2xl font-bold",style:{color:h?n.primary:n.text},children:t})]}),(0,Ae.jsxs)("div",{className:"text-center",children:[(0,Ae.jsxs)("div",{className:"text-sm",style:{opacity:.7},children:[a,"'s Points"]}),(0,Ae.jsx)("div",{className:"text-2xl font-bold",style:{color:f?n.primary:n.text},children:r})]})]})]})}return(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-sm",children:[(0,Ae.jsx)("span",{className:"text-2xl",children:s.icon}),(0,Ae.jsx)("h3",{className:"text-xl font-bold",children:s.name})]}),(0,Ae.jsxs)("p",{className:"text-sm opacity-70",children:["Started ",l]})]}),(0,Ae.jsx)("span",{className:"text-xs px-sm py-xs",style:{backgroundColor:h?n.primary:f?"rgba(255, 255, 255, 0.1)":"rgba(255, 255, 255, 0.05)",color:h?"white":n.text,borderRadius:"var(--border-radius-sm)",fontWeight:h?"bold":"normal"},children:h?"Leading":f?"Behind":"Tied"})]}),(0,Ae.jsxs)("div",{className:"mt-md",children:[(0,Ae.jsxs)("div",{className:"text-sm",style:{opacity:.7},children:["Competing with ",(0,Ae.jsx)("span",{className:"font-bold",children:a})]}),(0,Ae.jsx)("div",{className:"text-sm",style:{opacity:.7},children:s.description})]}),d,"level_race"===e.type&&(0,Ae.jsx)("div",{className:"flex justify-center mt-md",children:(0,Ae.jsxs)("div",{className:"card bg-opacity-20 p-sm text-center",children:[(0,Ae.jsx)("div",{className:"text-sm",style:{opacity:.7},children:"Prize"}),(0,Ae.jsxs)("div",{className:"font-bold",children:["\ud83d\udc51 ",e.title," Title"]})]})})]},e.id)}))})},R$=e=>{let{challenges:t}=e;const{theme:n}=De(),{acceptChallenge:r,declineChallenge:i}=hx(),{currentUser:a}=ab(),{STATS:o}=bb();if(0===t.length)return(0,Ae.jsxs)("div",{className:"card p-lg text-center",children:[(0,Ae.jsx)("p",{children:"You don't have any pending challenges."}),(0,Ae.jsx)("p",{className:"mt-sm text-sm opacity-70",children:"When someone challenges you, it will appear here for you to accept or decline."})]});return(0,Ae.jsx)("div",{className:"space-y-lg",children:t.map((e=>{var t,n;const a=Object.values(cx).find((t=>t.id===e.type)),s=null!==(t=e.createdAt)&&void 0!==t&&t.toDate?Mt(e.createdAt.toDate(),"MMM d, yyyy"):"Just now";return(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-sm",children:[(0,Ae.jsx)("span",{className:"text-2xl",children:a.icon}),(0,Ae.jsx)("h3",{className:"text-xl font-bold",children:a.name})]}),(0,Ae.jsxs)("p",{className:"text-sm opacity-70",children:["Received ",s]})]}),(0,Ae.jsx)("span",{className:"text-xs px-sm py-xs",style:{backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"var(--border-radius-sm)"},children:"Pending"})]}),(0,Ae.jsxs)("div",{className:"mt-md",children:[(0,Ae.jsxs)("div",{className:"text-sm",style:{opacity:.7},children:["From ",(0,Ae.jsx)("span",{className:"font-bold",children:e.creatorName})]}),(0,Ae.jsx)("div",{className:"text-sm",style:{opacity:.7},children:a.description})]}),"level_race"===e.type&&(0,Ae.jsx)("div",{className:"mt-md p-sm",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:(0,Ae.jsxs)("div",{className:"text-sm",children:[(0,Ae.jsx)("span",{className:"font-bold",children:"Challenge Details:"})," First to reach level ",e.parameters.targetLevel," in"," ",(null===(n=o.find((t=>t.id===e.parameters.statId)))||void 0===n?void 0:n.name)||"a stat"," wins."]})}),(0,Ae.jsxs)("div",{className:"flex justify-center gap-md mt-lg",children:[(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:()=>(async e=>{await r(e)})(e.id),children:"Accept Challenge"}),(0,Ae.jsx)("button",{className:"btn btn-outline",onClick:()=>(async e=>{await i(e)})(e.id),children:"Decline"})]}),"level_race"===e.type&&(0,Ae.jsx)("div",{className:"flex justify-center mt-md",children:(0,Ae.jsxs)("div",{className:"card bg-opacity-20 p-sm text-center",children:[(0,Ae.jsx)("div",{className:"text-sm",style:{opacity:.7},children:"Prize"}),(0,Ae.jsxs)("div",{className:"font-bold",children:["\ud83d\udc51 ",e.title," Title"]})]})})]},e.id)}))})},L$=e=>{let{challenges:t}=e;const{theme:n}=De(),{currentUser:r}=ab();return 0===t.length?(0,Ae.jsxs)("div",{className:"card p-lg text-center",children:[(0,Ae.jsx)("p",{children:"You don't have any past challenges."}),(0,Ae.jsx)("p",{className:"mt-sm text-sm opacity-70",children:"Completed, declined, and canceled challenges will appear here."})]}):(0,Ae.jsxs)("div",{children:[(0,Ae.jsxs)("div",{className:"card mb-md",children:[(0,Ae.jsxs)("div",{className:"flex justify-between mb-sm",children:[(0,Ae.jsx)("h3",{className:"text-lg font-bold",children:"Challenge History"}),(0,Ae.jsxs)("div",{className:"text-sm",style:{opacity:.7},children:[t.length," challenge",1!==t.length?"s":""]})]}),(0,Ae.jsx)("div",{className:"space-y-sm",children:t.map((e=>{var t,i;const a=e.creatorId===r.uid,o=a?e.recipientName:e.creatorName,s=Object.values(cx).find((t=>t.id===e.type))||{name:"Challenge",description:"Challenge description",icon:"\ud83c\udfc6"};let l,c;e.status===ux.DECLINED?(l=a?"Declined by opponent":"You declined",c=n.accent):e.status===ux.CANCELED?(l="Canceled",c=n.accent):e.status===ux.COMPLETED&&(e.winner===r.uid?(l="You won",c=n.primary):null===e.winner?(l="Tied",c=n.text):(l="You lost",c=n.text));const u=null!==(t=e.completedAt)&&void 0!==t&&t.toDate?Mt(e.completedAt.toDate(),"MMM d, yyyy"):null!==(i=e.declinedAt)&&void 0!==i&&i.toDate?Mt(e.declinedAt.toDate(),"MMM d, yyyy"):"Unknown";return(0,Ae.jsxs)("div",{style:{padding:"var(--spacing-sm)",borderRadius:"var(--border-radius-md)",backgroundColor:"rgba(255, 255, 255, 0.05)"},children:[(0,Ae.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-sm",children:[(0,Ae.jsx)("span",{className:"text-xl",children:s.icon}),(0,Ae.jsxs)("div",{children:[(0,Ae.jsx)("div",{className:"font-medium",children:s.name}),(0,Ae.jsxs)("div",{className:"text-xs",style:{opacity:.7},children:["vs. ",o," \u2022 ",u]})]})]}),(0,Ae.jsx)("span",{className:"text-xs px-sm py-xs",style:{color:c,backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"var(--border-radius-sm)",fontWeight:e.winner===r.uid?"bold":"normal"},children:l})]}),e.winner===r.uid&&e.title&&(0,Ae.jsxs)("div",{className:"mt-xs text-xs",style:{color:n.primary},children:[(0,Ae.jsx)("span",{className:"mr-xxs",children:"\ud83d\udc51"}),' Earned "',e.title,'" title']})]},e.id)}))})]}),(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("h3",{className:"text-lg font-bold mb-md",children:"Challenge Stats"}),(0,Ae.jsxs)("div",{className:"grid grid-cols-3 gap-md",children:[(0,Ae.jsxs)("div",{className:"text-center p-md",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsx)("div",{className:"text-xs mb-xs",style:{opacity:.7},children:"Challenges"}),(0,Ae.jsx)("div",{className:"text-xl font-bold",children:t.length})]}),(0,Ae.jsxs)("div",{className:"text-center p-md",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsx)("div",{className:"text-xs mb-xs",style:{opacity:.7},children:"Wins"}),(0,Ae.jsx)("div",{className:"text-xl font-bold",style:{color:n.primary},children:t.filter((e=>e.winner===r.uid)).length})]}),(0,Ae.jsxs)("div",{className:"text-center p-md",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsx)("div",{className:"text-xs mb-xs",style:{opacity:.7},children:"Win Rate"}),(0,Ae.jsxs)("div",{className:"text-xl font-bold",children:[t.filter((e=>e.status===ux.COMPLETED)).length>0?Math.round(t.filter((e=>e.winner===r.uid)).length/t.filter((e=>e.status===ux.COMPLETED)).length*100):0,"%"]})]})]})]})]})},F$=e=>{var t;let{onCancel:n}=e;const{theme:i}=De(),{createChallenge:a}=hx(),{STATS:o}=bb(),{friends:s}=ix(),[l,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[h,f]=(0,r.useState)(!1),[p,m]=(0,r.useState)(cx.STREAK_COMPETITION.id),[g,y]=(0,r.useState)(""),[v,b]=(0,r.useState)([]),[x,w]=(0,r.useState)((null===(t=o[0])||void 0===t?void 0:t.id)||""),[j,S]=(0,r.useState)(10);(0,r.useEffect)((()=>{(async()=>{if(s&&0!==s.length)try{const e=s.map((async e=>{try{const t=py(rb,"gameStates",e.userId),n=await yv(t);if(n.exists()){const t=n.data();return{id:e.userId,friendSince:e.friendSince,displayName:t.playerName||"Unknown User",profilePicture:t.profilePicture}}return null}catch(u){return console.error(`Error loading friend data ${e.userId}:`,u),null}})),t=(await Promise.all(e)).filter(Boolean);b(t),t.length>0&&y(t[0].id)}catch(u){console.error("Error loading friends data:",u)}})()}),[s]);return h?(0,Ae.jsxs)("div",{className:"card text-center p-lg",children:[(0,Ae.jsx)("div",{className:"text-4xl mb-md",children:"\ud83c\udf89"}),(0,Ae.jsx)("h3",{className:"text-xl mb-sm",children:"Challenge Sent!"}),(0,Ae.jsx)("p",{children:"Your friend will be notified about your challenge."})]}):(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Create Challenge"}),u&&(0,Ae.jsx)("div",{className:"mb-md p-sm",style:{backgroundColor:"rgba(239, 68, 68, 0.1)",color:"rgb(239, 68, 68)",borderRadius:"var(--border-radius-md)"},children:u}),(0,Ae.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!g)return void d("Please select a friend to challenge");if(p===cx.LEVEL_RACE.id&&!x)return void d("Please select a stat for the level race");c(!0),d(null);let t={};p===cx.LEVEL_RACE.id&&(t={statId:x,targetLevel:parseInt(j)});const r=await a(g,p,t);r.success?(f(!0),setTimeout((()=>{n()}),2e3)):d(r.error||"Failed to create challenge"),c(!1)},children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Challenge Type"}),(0,Ae.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-md",children:Object.values(cx).map((e=>(0,Ae.jsxs)("div",{className:"cursor-pointer",onClick:()=>m(e.id),style:{padding:"var(--spacing-md)",backgroundColor:p===e.id?"rgba(99, 102, 241, 0.1)":"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",border:p===e.id?`1px solid ${i.primary}`:"none"},children:[(0,Ae.jsxs)("div",{className:"flex items-center gap-sm mb-xs",children:[(0,Ae.jsx)("span",{className:"text-xl",children:e.icon}),(0,Ae.jsx)("span",{className:"font-bold",children:e.name})]}),(0,Ae.jsx)("p",{className:"text-sm",style:{opacity:.8},children:e.description})]},e.id)))})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Challenge Friend"}),v.length>0?(0,Ae.jsxs)("select",{className:"form-select",value:g,onChange:e=>y(e.target.value),children:[(0,Ae.jsx)("option",{value:"",children:"Select a friend"},"select-default"),v.map((e=>(0,Ae.jsx)("option",{value:e.id,children:e.displayName||"Friend"},`friend-option-${e.id}`)))]}):(0,Ae.jsxs)("div",{className:"text-center p-md bg-opacity-10",style:{backgroundColor:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)"},children:[(0,Ae.jsx)("p",{children:"You don't have any friends yet."}),(0,Ae.jsx)("p",{className:"text-sm mt-xs",style:{opacity:.7},children:"Add friends to challenge them!"})]})]}),p===cx.LEVEL_RACE.id&&(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Stat to Race"}),(0,Ae.jsx)("select",{className:"form-select",value:x,onChange:e=>w(e.target.value),children:o.map((e=>(0,Ae.jsxs)("option",{value:e.id,children:[e.icon," ",e.name]},e.id)))})]}),(0,Ae.jsxs)("div",{className:"form-group",children:[(0,Ae.jsx)("label",{className:"form-label",children:"Target Level"}),(0,Ae.jsxs)("div",{className:"flex items-center gap-md",children:[(0,Ae.jsx)("input",{type:"range",min:"5",max:"50",step:"5",value:j,onChange:e=>S(e.target.value),style:{flex:1}}),(0,Ae.jsx)("div",{className:"text-center px-md py-sm",style:{minWidth:"60px",backgroundColor:"rgba(255, 255, 255, 0.1)",borderRadius:"var(--border-radius-md)",fontWeight:"bold"},children:j})]})]})]}),(0,Ae.jsxs)("div",{className:"flex justify-end gap-md mt-lg",children:[(0,Ae.jsx)("button",{type:"button",className:"btn btn-outline",onClick:n,disabled:l,children:"Cancel"}),(0,Ae.jsx)("button",{type:"submit",className:"btn btn-primary",disabled:l||!g,children:l?"Sending...":"Send Challenge"})]})]})]})},U$=()=>{const{theme:e}=De(),{activeChallenges:t,pendingChallenges:n,pastChallenges:i,loading:a,titles:o,selectedTitle:s,selectTitle:l,removeTitle:c}=hx(),[u,d]=(0,r.useState)("active"),[h,f]=(0,r.useState)(!1),p=[{id:"active",label:"Active Challenges",icon:"\ud83d\udd25"},{id:"pending",label:"Pending Challenges",icon:"\ud83d\udce9",badge:n.length>0},{id:"past",label:"Past Challenges",icon:"\ud83d\udcdc"},{id:"titles",label:"Titles",icon:"\ud83d\udc51"}];return a?(0,Ae.jsxs)("div",{className:"animate-fade-in text-center p-lg",children:[(0,Ae.jsx)("div",{className:"spinner"}),(0,Ae.jsx)("p",{className:"mt-md",children:"Loading challenges..."})]}):(0,Ae.jsxs)("div",{className:"animate-fade-in",children:[(0,Ae.jsxs)("div",{className:"flex justify-between items-center mb-md",children:[(0,Ae.jsx)("h2",{className:"text-2xl",children:"Challenges"}),!h&&(0,Ae.jsx)("button",{className:"btn btn-primary",onClick:()=>f(!0),children:"Create Challenge"})]}),h?(0,Ae.jsx)(F$,{onCancel:()=>f(!1)}):(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("div",{className:"flex overflow-x-auto mb-lg",style:{borderBottom:`1px solid ${e.border}`},children:p.map((t=>(0,Ae.jsxs)("button",{className:"px-md py-sm whitespace-nowrap "+(u===t.id?"font-bold":""),style:{color:u===t.id?e.primary:e.text,borderBottom:u===t.id?`2px solid ${e.primary}`:"none",backgroundColor:"transparent",margin:"0 4px",marginBottom:"-1px",position:"relative"},onClick:()=>d(t.id),children:[(0,Ae.jsx)("span",{className:"mr-xs",children:t.icon}),t.label,t.badge&&(0,Ae.jsx)("span",{style:{position:"absolute",top:"4px",right:"4px",width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e.primary}})]},t.id)))}),"active"===u&&(0,Ae.jsx)(M$,{challenges:t}),"pending"===u&&(0,Ae.jsx)(R$,{challenges:n}),"past"===u&&(0,Ae.jsx)(L$,{challenges:i}),"titles"===u&&(0,Ae.jsxs)("div",{className:"card",children:[(0,Ae.jsx)("h3",{className:"text-xl mb-md",children:"Your Titles"}),o.length>0?(0,Ae.jsxs)(Ae.Fragment,{children:[(0,Ae.jsx)("p",{className:"mb-md",children:"You have earned the following titles from winning challenges. Select one to display on your profile."}),(0,Ae.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-md",children:o.map((t=>(0,Ae.jsxs)("div",{className:"p-md rounded cursor-pointer text-center "+(s===t?"bg-primary bg-opacity-20":"bg-opacity-10 hover:bg-opacity-20"),style:{backgroundColor:s===t?e.primary:"rgba(255, 255, 255, 0.05)",borderRadius:"var(--border-radius-md)",border:s===t?`1px solid ${e.primary}`:"none"},onClick:()=>{s===t?c():l(t)},children:[(0,Ae.jsx)("div",{className:"text-2xl mb-xs",children:"\ud83d\udc51"}),(0,Ae.jsx)("div",{className:"font-bold",children:t}),s===t&&(0,Ae.jsx)("div",{className:"text-sm mt-xs",style:{color:e.primary},children:"Currently Selected"})]},t)))})]}):(0,Ae.jsxs)("div",{className:"text-center p-lg",children:[(0,Ae.jsx)("p",{children:"You haven't earned any titles yet."}),(0,Ae.jsx)("p",{className:"mt-xs opacity-70",children:"Win challenges to earn special titles you can display on your profile!"})]})]})]})]})},B$=U$,z$=e=>{let{children:t}=e;const{currentUser:n,loading:r}=ab();return r?(0,Ae.jsx)("div",{children:"Loading..."}):n?t:(0,Ae.jsx)(pe,{to:"/login",replace:!0})};const V$=function(){return(0,Ae.jsx)(ob,{children:(0,Ae.jsx)(Me,{children:(0,Ae.jsx)(xb,{children:(0,Ae.jsx)(Tb,{children:(0,Ae.jsx)(Qb,{children:(0,Ae.jsx)(Jb,{children:(0,Ae.jsx)(ax,{children:(0,Ae.jsx)(lx,{children:(0,Ae.jsx)(fx,{children:(0,Ae.jsx)(Ee,{children:(0,Ae.jsxs)(ye,{children:[(0,Ae.jsx)(me,{path:"/login",element:(0,Ae.jsx)(O$,{})}),(0,Ae.jsx)(me,{path:"/",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(px,{})})})}),(0,Ae.jsx)(me,{path:"/stats",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(ZB,{})})})}),(0,Ae.jsx)(me,{path:"/tasks",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(jz,{})})})}),(0,Ae.jsx)(me,{path:"/achievements",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(gz,{})})})}),(0,Ae.jsx)(me,{path:"/calendar",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(wz,{})})})}),(0,Ae.jsx)(me,{path:"/settings",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(JB,{})})})}),(0,Ae.jsx)(me,{path:"/analytics",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(p$,{})})})}),(0,Ae.jsx)(me,{path:"/profile",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(C$,{})})})}),(0,Ae.jsx)(me,{path:"/social",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(P$,{})})})}),(0,Ae.jsx)(me,{path:"/social/friend/:friendId",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(D$,{})})})}),(0,Ae.jsx)(me,{path:"/social/challenges",element:(0,Ae.jsx)(z$,{children:(0,Ae.jsx)(pz,{children:(0,Ae.jsx)(B$,{})})})})]})})})})})})})})})})})};a.createRoot(document.getElementById("root")).render((0,Ae.jsx)(r.StrictMode,{children:(0,Ae.jsx)(V$,{})}))})()})();
//# sourceMappingURL=main.c2dac477.js.map